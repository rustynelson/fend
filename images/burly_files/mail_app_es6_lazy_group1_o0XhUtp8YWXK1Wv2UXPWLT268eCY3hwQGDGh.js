(window.webpackJsonp=window.webpackJsonp||[]).push([[2],Array(633).concat([function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(961),c=a(956),d=a(11),m=a.n(d),_=a(1055),u=a.n(_),h=a(16),p=a(30),g=a(21),E=a(3),b=a(362),C=a(14),f=a(0),v=a(17);const I=Object(o.h)({themesPanel:{id:"new_user_onboarding_cue.themes_panel",defaultMessage:"Pick a color theme"},notificationsPanel:{id:"new_user_onboarding_cue.notifications_panel",defaultMessage:"Enable notifications"},imapPanel:{id:"new_user_onboarding_cue.imap_panel",defaultMessage:"Import emails"},primaryBtn:{id:"new_user_onboarding_cue.primary_btn",defaultMessage:"Let's go!"},skip:{id:"new_user_onboarding_cue.skip_btn",defaultMessage:"Skip for now"},close:{id:"new_user_onboarding_cue.close_icon",defaultMessage:"Close"}});class y extends r.a.Component{constructor(...e){var t;return t=super(...e),this.getRapidEvent=((e,t)=>({i13nModel:{mKey:e,interactionType:Object(C.i)(t)}})),this.onTryNow=(e=>{this.context.navigateTo({route:Object(v.s)({settingsGroupId:f.ld.PERSONALIZE_INBOX})}),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_success",e))}),this.onSkip=(e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_skip",e))}),this.onClose=(e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),this.handleOverlayClick=(e=>{e.preventDefault(),e.stopPropagation()}),t}render(){const e=Object.keys(f.Cd).find(e=>f.Cd[e]===this.props.partnerBrand),t=m()(u.a,{[`partner-${e}`]:!!e}),{formatMessage:a}=this.context.intl,{mailBrandNameString:n}=this.context,{onClose:s}=this;return r.a.createElement(l.a,{onClose:this.handleOverlayClick,kind:b.a.DARK,ariaLabelledBy:"new-user-onboarding-title",ariaDescribedBy:"new-user-onboarding-description"},r.a.createElement("div",{"data-test-id":this.props.cueName,className:t.container},r.a.createElement("div",{className:t.close},r.a.createElement(g.a,{onClick:s,kind:E.b.CLOSE,size:E.d.XS,colorState:E.a.INVERTED,title:a(I.close),"aria-label":a(I.close),"data-test-id":"close-cue-button"})),r.a.createElement("div",{"data-test-id":"header",className:t.header},r.a.createElement("div",{className:t.headerImg})),r.a.createElement("div",{className:t.separator}),r.a.createElement("div",{className:t.heading,id:"new-user-onboarding-title"},r.a.createElement(o.c,{id:"new_user_onboarding_cue.header_text",defaultMessage:"Welcome to {mailBrandNameString}",values:{mailBrandNameString:n}})),r.a.createElement("div",{className:t.description,id:"new-user-onboarding-description"},r.a.createElement(o.c,{id:"new_user_onboarding_cue.body",defaultMessage:"Update your preferences in Settings to make your mailbox your own."})),r.a.createElement("div",{"data-test-id":"task-panel",className:t.taskPanel},r.a.createElement("div",{className:t.task},r.a.createElement("div",{className:t.themeTaskImg}),r.a.createElement("div",{className:t.panelText},r.a.createElement(o.c,I.themesPanel))),r.a.createElement("div",{className:t.task},r.a.createElement("div",{className:t.notificationsTaskImg}),r.a.createElement("div",{className:t.panelText},r.a.createElement(o.c,I.notificationsPanel))),r.a.createElement("div",{className:t.task},r.a.createElement("div",{className:t.imapTaskImg}),r.a.createElement("div",{className:t.panelText},r.a.createElement(o.c,I.imapPanel)))),r.a.createElement(h.a,{style:{height:"42px",width:"220px",fontSize:"16px",fontWeight:"bold",margin:"16px 0px 0px 0px"},onClick:this.onTryNow,title:a(I.primaryBtn),"data-test-id":"primary-cue-button",kind:p.a.PRIMARY,"aria-label":a(I.primaryBtn)},r.a.createElement(o.c,I.primaryBtn)),r.a.createElement("div",{className:t.skipBtn,"data-test-id":"skip-cue-button",onClick:this.onSkip,role:"button"},r.a.createElement(o.c,I.skip))))}}y.contextTypes={intl:o.i,executeAction:s.a.func,navigateTo:s.a.func,partner:s.a.string,mailBrandNameString:s.a.string},t.default=Object(c.a)(y)},function(e,t,a){"use strict";a.r(t),a.d(t,"BulkDeleteMsgEarnyUpsellCue",function(){return N}),a.d(t,"mapStateToProps",function(){return T}),a.d(t,"mapDispatchToProps",function(){return A});a(6);var n=a(2),s=a.n(n),i=a(11),r=a.n(i),o=a(13),l=a(4),c=a(9),d=a(961),m=a(362),_=a(30),u=a(16),h=a(3),p=a(21),g=a(0),E=a(1060),b=a.n(E),C=a(1),f=a(60),v=a(956);const I=r()(b.a),y=Object(f.a)("/img/earny_money_illustration.png"),S=Object(l.h)({earny_dialog_header:{id:"earny_dialog.header",defaultMessage:"Don't throw away your money!"},earny_dialog_body:{id:"earny_dialog.body",defaultMessage:"Use receipts from your inbox to get money back on recent purchases"},earny_dialog_primary_button:{id:"earny_dialog.primary_button",defaultMessage:"Show me how much I could save"},earny_dialog_close_window:{id:"earny_dialog.close_dialog",defaultMessage:"Button to close dialog"}});class N extends s.a.Component{constructor(...e){var t;return t=super(...e),this.defaultPrimaryButtonClick=(e=>{const{onSuccess:t,onPrimaryButtonClick:a,closeEarnyDialog:n}=this.props;window.open(g.bb,"_blank"),a(),n(),t(e)}),this.defaultCloseButtonClick=(e=>{const{onCloseButtonClick:t,onClose:a,closeEarnyDialog:n}=this.props;t(e),n(),a(e)}),this.handleOverlayClick=(e=>{e.preventDefault(),e.stopPropagation()}),t}render(){const{displayEarnyDialogOnDelete:e,showMsgReadDeleteEarnyCue:t}=this.props,{formatMessage:a}=this.context.intl;return e||t?s.a.createElement(d.a,{onClose:this.handleOverlayClick,kind:m.a.DARK,ariaLabelledBy:"earny-modal-title",ariaDescribedBy:"earny-modal-description"},s.a.createElement("div",{className:I.earnyDialog,"data-test-id":"delete-msg-earny-dialog"},s.a.createElement("div",{className:I.leftLayout},s.a.createElement("div",{className:I.closeButton},s.a.createElement(p.a,{"data-test-id":"close-button","aria-label":a(S.earny_dialog_close_window),title:a(S.earny_dialog_close_window),kind:h.b.CLOSE,size:h.d.XS,onClick:this.defaultCloseButtonClick})),s.a.createElement("img",{src:y}),s.a.createElement("span",{className:I.earnyDialogHeader},a(S.earny_dialog_header)),s.a.createElement("span",{className:I.earnyDialogBody},a(S.earny_dialog_body)),s.a.createElement(u.a,{onClick:this.defaultPrimaryButtonClick,title:a(S.earny_dialog_primary_button),"data-test-id":"earny-upsell-sign-up-button",kind:_.a.PRIMARY,"aria-label":a(S.earny_dialog_primary_button)},a(S.earny_dialog_primary_button))))):null}}N.defaultProps={onPrimaryButtonClick:()=>{},onCloseButtonClick:()=>{}},N.contextTypes={intl:l.i.isRequired};const T=e=>{const{isFeatureEnabled:t,getContentProviders:a}=Object(c.b)(e),{doesContentProviderExist:n,isContentProviderConnected:s}=a();return{showMsgReadDeleteEarnyCue:!(n(g.M.EARNY)&&s(g.M.EARNY))&&t(g.kb.MSG_READ_DELETE_EARNY_CUE),displayEarnyDialogOnDelete:t(g.kb.DISPLAY_EARNY_DIALOG)}},A=e=>({closeEarnyDialog:()=>e({type:C.a.CLOSE_DELETE_MSG_EARNY_DIALOG})});t.default=Object(v.a)(Object(o.b)(T,A)(N))},function(e,t,a){"use strict";a.r(t),a.d(t,"CHECK_HOVER_TIME",function(){return T});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(11),c=a.n(l),d=a(1067),m=a.n(d),_=a(91),u=a(15),h=a(16),p=a(30),g=a(32),E=a(92),b=a(12),C=a(62),f=a(10),v=a(86),I=a(23),y=a(233),S=a(3),N=(a(8),a(966));const T=500,A=200,M=Object(o.h)({expand_image:{id:"compose.inline_image.resize.large",defaultMessage:"Large"},shrink_image:{id:"compose.inline_image.resize.small",defaultMessage:"Small"},send_as_attachment:{id:"compose.inline_image.send_as_attachment",defaultMessage:"Send as attachment"},remove_image:{id:"compose.inline_image.remove",defaultMessage:"Remove image"},img_overlay_button_title:{id:"compose.inline_image.more_option_button",defaultMessage:"More options"},resize_to_mini_size:{id:"compose.link_enhancer.resize_mini",defaultMessage:"Small"},resize_to_medium_size:{id:"compose.link_enhancer.resize_medium",defaultMessage:"Medium"},resize_to_cover_size:{id:"compose.link_enhancer.resize_cover",defaultMessage:"Large"},move_card_to_bottom:{id:"compose.link_enhancer.move_bottom",defaultMessage:"Move to bottom"},move_card_inline:{id:"compose.link_enhancer.move_inline",defaultMessage:"Move inline"},remove_card:{id:"compose.link_enhancer.remove",defaultMessage:"Remove"}});class D extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={shown:!1,isSelected:!1},this._removeEventListeners=(()=>{this.props.editor&&(this.props.editor.element.removeEventListener("click",this.deselectImage),this.props.editor.element.removeEventListener("keydown",this.deselectImage))}),this._repositionOverlay=(()=>{y.a.fixOverlayPosition({hoveredElement:this._hoveredElement,overlay:this._overlay,scrollableContainer:this.props.scrollableAreaRef,editor:this.props.editor})}),this.handleMouseOver=(()=>{clearTimeout(this.hideTimeout),this.state.shown&&this._hoveredElement===this.props.hoveredElement||(this._hoveredElement=this.props.hoveredElement,this.setState({shown:!0,isSelected:!1},this.hoverCheckTimer))}),this.hoverCheckTimer=(()=>{this.props.editor.element.contains(this._hoveredElement)?(this._repositionOverlay(),this._interval=setTimeout(this.hoverCheckTimer,T)):this._hideOverlay()}),this.handleMouseOut=(e=>{clearTimeout(this.hideTimeout),this.state.isSelected||(this.props.editor.element.contains(e.relatedTarget)&&e.target===this._overlay?this._hideOverlay():this.hideTimeout=setTimeout(this._hideOverlay,A))}),this._hideOverlay=(()=>{this._overlay&&Object.assign(this._overlay.style,{position:"absolute",left:I.IMAGE_OVERLAY_INITIAL_LEFT,width:0,height:0}),this.setState({shown:!1,isSelected:!1}),this._hoveredElement=null,this._interval=clearTimeout(this._interval)}),this.selectImage=(()=>{if(this._hoveredElement){const e=document.createRange(),t=window.getSelection();if(this._hoveredElement.className.indexOf(I.INLINE_IMAGE_PLUGIN_CLASSES.ONLINE_GIF_CLASS)>=0){const t=y.a.findGifWrapper(this._hoveredElement);if(!t)return;e.selectNode(t)}else e.selectNode(this._hoveredElement);t.removeAllRanges(),t.addRange(e),this.props.editor.element.classList.add(I.HIDE_SELECTION_CLASS),this.props.editor.element.addEventListener("click",this.deselectImage),this.props.editor.element.addEventListener("keydown",this.deselectImage),this.setState({isSelected:!0})}}),this.removeImg=(()=>{this._hoveredElement&&y.a.removeInlineImage(this.props.editor,this._hoveredElement,()=>{this._hoveredElement.hasAttribute("data-id")&&this.props.onImageRemove(this._hoveredElement.getAttribute("data-id")),this._hideOverlay()})}),this._sendAsAttachment=(()=>{this._hoveredElement&&(this.props.onSendAsAttachment(this._hoveredElement),this._hoveredElement.parentNode.removeChild(this._hoveredElement),this.props.editor.contentChanged({type:I.EDITOR_EVENTS.inline_to_non_inline_attachment}),this._hideOverlay())}),this._onImageResize=(e=>{this.props.onImageResize(e),this._hideOverlay()}),this.renderMenu=(()=>{const{shown:e}=this.state,{overlayType:t,imageSize:a,showSendAsAttachmentBtn:n,cardSize:s}=this.props,i=c()(m.a,{shown:e}),{formatMessage:o}=this.context.intl,{SMALL:l,LARGE:d}=I.CURRENT_IMAGE_SIZE_STATUS;switch(t){case I.RTEHoverOverlayTypes.IMAGE:return r.a.createElement(C.a,{kind:v.a.MENU,focusOnMount:!0},r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:()=>this._onImageResize(l),kind:p.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"small"},a===l&&r.a.createElement("div",{className:i.checkmarkIcon},r.a.createElement(u.b,{kind:S.b.CHECKMARK,colorState:S.a.NORMAL,size:S.d.XS})),r.a.createElement("div",{className:i.paddingLeft},o(M.shrink_image)))),r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:()=>this._onImageResize(d),kind:p.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"large"},a===d&&r.a.createElement("div",{className:i.checkmarkIcon},r.a.createElement(u.b,{kind:S.b.CHECKMARK,colorState:S.a.NORMAL,size:S.d.XS})),r.a.createElement("div",{className:i.paddingLeft},o(M.expand_image)))),r.a.createElement("div",{className:i.divider}),n&&r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this._sendAsAttachment,kind:p.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"send-as-attachment"},r.a.createElement("div",{className:i.paddingLeft},o(M.send_as_attachment)))),r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this.removeImg,kind:p.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"img-hover-remove"},r.a.createElement("div",{className:i.paddingLeft},o(M.remove_image)))));case I.RTEHoverOverlayTypes.LINK_ENHANCER_CARD:return s!==N.b.APPEND?r.a.createElement(C.a,{kind:v.a.MENU,focusOnMount:!0},r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this.props.onCardResize.bind(null,N.b.MINI),kind:p.a.MENUITEM_PARENT_TEXT_COLOR},s===N.b.MINI&&r.a.createElement("div",{className:i.checkmarkIcon},r.a.createElement(u.b,{kind:S.b.CHECKMARK,colorState:S.a.NORMAL,size:S.d.XS})),r.a.createElement("div",{className:i.paddingLeft},this.context.intl.formatMessage(M.resize_to_mini_size)))),r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this.props.onCardResize.bind(null,N.b.MEDIUM),kind:p.a.MENUITEM_PARENT_TEXT_COLOR},s===N.b.MEDIUM&&r.a.createElement("div",{className:i.checkmarkIcon},r.a.createElement(u.b,{kind:S.b.CHECKMARK,colorState:S.a.NORMAL,size:S.d.XS})),r.a.createElement("div",{className:i.paddingLeft},this.context.intl.formatMessage(M.resize_to_cover_size)))),r.a.createElement("div",{className:i.divider}),r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this.props.onCardMove,kind:p.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"move-bottom"},r.a.createElement("div",{className:i.paddingLeft},this.context.intl.formatMessage(M.move_card_to_bottom)))),r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this.props.onCardRemove,kind:p.a.MENUITEM_PARENT_TEXT_COLOR},r.a.createElement("div",{className:i.paddingLeft},this.context.intl.formatMessage(M.remove_card))))):r.a.createElement(C.a,{kind:v.a.MENU,focusOnMount:!0},r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this.props.onCardResize.bind(null,N.b.MEDIUM),kind:p.a.MENUITEM_PARENT_TEXT_COLOR,"data-test-id":"move-inline"},this.context.intl.formatMessage(M.move_card_inline))),r.a.createElement(g.a,{className:i.menuItem},r.a.createElement(h.a,{onClick:this.props.onCardRemove,kind:p.a.MENUITEM_PARENT_TEXT_COLOR},this.context.intl.formatMessage(M.remove_card))));default:return null}}),t}componentDidMount(){this.deselectImage=(()=>{this._removeEventListeners(),this.props.editor.element.classList.remove(I.HIDE_SELECTION_CLASS),this._hideOverlay()}),this.props.onload&&this.props.onload()}componentWillUnmount(){this._removeEventListeners(),clearTimeout(this.hideTimeout),clearTimeout(this._interval)}render(){const{shown:e,isSelected:t}=this.state,a=c()(m.a,{shown:e,isSelected:t}),{formatMessage:n}=this.context.intl;return r.a.createElement("div",{className:a.hoverContainer,onMouseOver:this.handleMouseOver,onMouseOut:this.handleMouseOut,onClick:e=>e.target===this._overlay&&this.selectImage(),"data-test-id":"img-hover-overlay-container",ref:e=>this._overlay=e},e&&r.a.createElement(E.c,{permittedArrowDirections:[b.g.ANY],zAltitude:f.ZIndices.POPOVER.HIGH,align:b.a.START,triggerOn:E.b.CLICK,triggerOff:E.a.CLICK,className:a.popoverContainer,onContentMouseOver:this.handleMouseOver,onContentMouseOut:this.handleMouseOut,isArrowVisible:!1},r.a.createElement("div",{className:a.icon},r.a.createElement(_.a,{kind:S.b.MORE,colorStates:{normal:S.a.COOL_FAINT,hovered:S.a.SELECTED},size:S.d.XXS,title:n(M.img_overlay_button_title)})),r.a.createElement("div",{className:a.menuContainer},this.renderMenu())))}}D.contextTypes={intl:o.i.isRequired,bindShortcut:s.a.func,unbindShortcut:s.a.func},D.defaultProps={onImageRemove:()=>{}},t.default=D},function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return c});a(6);var n=a(2),s=a.n(n),i=a(4),r=a(971),o=a(0);const l=Object(i.h)({header:{id:"stationery.cue_header",defaultMessage:"Send your emails with style"},body:{id:"stationery.cue_body",defaultMessage:"Make your emails stand out with artist-designed stationery from Paperless Post."}});function c({onTryNow:e,close:t}){return s.a.createElement(r.a,{headerText:l.header,bodyText:l.body,cueName:o.kb.STATIONERY_CUE,onTryNow:e,close:t,onMayBeLater:()=>{}})}},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(26),l=a.n(o),c=a(143),d=a(4),m=a(11),_=a.n(m),u=a(1093),h=a.n(u),p=a(10),g=a(0),E=a(17),b=a(14),C=a(7),f=a(967),v=a(452),I=a(472),y=a(1094),S=a.n(y),N=a(363),T=a(29);const A=Object(d.h)({coupon_separator_saved:{id:"coupon_separator_saved",defaultMessage:"Saved deals"},coupon_separator_all:{id:"coupon_separator_all",defaultMessage:"All deals"},deal_separator_all:{id:"deal_separator_all",defaultMessage:"Deals from your inbox"},timechunk_str_today:{id:"timechunk_str_today",defaultMessage:"Today"},timechunk_str_yesterday:{id:"timechunk_str_yesterday",defaultMessage:"Yesterday"},timechunk_str_this_week:{id:"timechunk_str_this_week",defaultMessage:"This week"},timechunk_str_last_week:{id:"timechunk_str_last_week",defaultMessage:"Last week"},timechunk_str_this_month:{id:"timechunk_str_this_month",defaultMessage:"Earlier in {message}"},timechunk_str_this_year:{id:"timechunk_str_this_year",defaultMessage:"Earlier in {message}"},timechunk_str_days:{id:"timechunk_str_days",defaultMessage:"{weekday, select,\n            0 {Sunday}\n            1 {Monday}\n            2 {Tuesday}\n            3 {Wednesday}\n            4 {Thursday}\n            5 {Friday}\n            6 {Saturday}\n        }"},timechunk_str_months:{id:"timechunk_str_months",defaultMessage:"{month, select,\n            0 {January}\n            1 {February}\n            2 {March}\n            3 {April}\n            4 {May}\n            5 {June}\n            6 {July}\n            7 {August}\n            8 {September}\n            9 {October}\n            10 {November}\n            11 {December}\n        }"},linked_stores_separator:{id:"linked_stores_separator",defaultMessage:"Your stores"},unlinked_stores_separator:{id:"unlinked_stores_separator",defaultMessage:"More stores"},single_store_separator:{id:"single_store_separator",defaultMessage:"Coupons"}}),M=g.Nd.Types;class D extends r.a.PureComponent{render(){const{type:e,value:t,context:a,style:n}=this.props,{formatMessage:s,formatDate:i}=a.intl,o=a.getCss(S.a,babelHelpers.extends({},n,{isDarkThemeMode:a.getThemeMode()===T.f.DARK}));let l=null;switch(e){case M.DAY:l=s(A.timechunk_str_days,{weekday:t});break;case M.MONTH:case M.THIS_MONTH:l=s(A.timechunk_str_months,{month:t});break;case M.THIS_YEAR:case M.YEAR:l=i(t,{year:"numeric"})}const c=e?A["timechunk_str_"+e.toLowerCase()]:null;let m=null;return m=c?r.a.createElement(d.c,babelHelpers.extends({},c,{values:{message:l}})):l,r.a.createElement("div",{className:o.container,"data-test-id":"time-chunk-separator"},m)}}class O extends r.a.PureComponent{render(){const{context:e,value:t,dealsViewV2:a}=this.props,{formatMessage:n}=e.intl,s=0===t,i=e.getCss(S.a,{isDarkThemeMode:e.getThemeMode()===T.f.DARK,large:!s&&!a,flex:s,couponSeparator:!0}),o=Object(T.k)({context:e,includeMedium:!1}),l=s?A.coupon_separator_saved:A.coupon_separator_all;return r.a.createElement("div",{className:i.container,"data-test-id":"coupon-separator"},s||a?null:r.a.createElement("div",{className:i.listDivider}),r.a.createElement("span",{className:i.couponHeader},n(a?A.deal_separator_all:l)),s&&r.a.createElement("span",{className:i.partnerAttributionIcon},r.a.createElement(N.a,{isOnDarkBackground:o})))}}class k extends r.a.PureComponent{render(){const{formatMessage:e}=this.props.context.intl,t=this.props.value,a=this.props.context.getCss(S.a,{black:!0,spacedHeader:t,longAndWideDivider:!t,extraMarginInfoText:!t,isDarkThemeMode:this.props.context.getThemeMode()===T.f.DARK}),n=t?A.linked_stores_separator:A.unlinked_stores_separator;return r.a.createElement("div",{className:a.container,"data-test-id":"grocery-stores-separator"},t?null:r.a.createElement("div",{className:a.listDivider}),r.a.createElement("span",{className:a.infoText},e(n)))}}class R extends r.a.PureComponent{render(){const{formatMessage:e}=this.props.context.intl,t=this.props.context.getCss(S.a,{black:!0,noDivider:!0});return r.a.createElement("div",{className:t.container,"data-test-id":"single-store-separator"},r.a.createElement("span",{className:t.infoText},e(A.single_store_separator)))}}var x=a(1095),P=a.n(x),w=a(60);const F=Object(d.h)({no_saved_coupons:{id:"zero_saved_coupons_view.no_saved_coupons",defaultMessage:"No saved deals yet"},saved_coupons_instruction:{id:"zero_saved_coupons_view.saved_coupons_instruction",defaultMessage:"Look for the scissors icon to save and keep track of your favorite deals"}});var L=class extends r.a.Component{render(){const{context:e}=this.props,t=e.getThemeMode(),a=e.getCss(P.a,{themeMode:t}),{formatMessage:n}=e.intl;return r.a.createElement("div",{className:a.container,"data-test-id":"zero-saved-coupons-view-container"},r.a.createElement("img",{className:a.couponImage,src:t===T.f.DARK?Object(w.a)("/img/coupon_emptystate_dark.png"):Object(w.a)("/img/coupon_emptystate_light.png"),"data-test-id":"zero-saved-coupons-view-image"}),r.a.createElement("div",{className:a.descWrapper},r.a.createElement("div",{className:a.heading,"data-test-id":"zero-saved-coupons-view-heading"},n(F.no_saved_coupons)),r.a.createElement("div",{className:a.description,"data-test-id":"zero-saved-coupons-view-description"},n(F.saved_coupons_instruction))))}},B=a(13),H=a(16),U=a(30),j=a(3),W=a(1096),G=a.n(W),Z=a(9),V=a(5),q=a(1);const z=({listId:e,i13nModel:t})=>({type:q.a.TOGGLE_LIST_VISIBILITY,listId:e,i13nModel:t}),Y=Object(d.h)({deal_separator_recommended:{id:"deal_separator_recommended",defaultMessage:"Deals for you"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"}});class K extends r.a.Component{render(){const{toggleVisibility:e,expanded:t,expandable:a}=this.props,{formatMessage:n}=this.context.intl,s=this.context.getCss(G.a),i=Object(T.k)({context:this.context,includeMedium:!1});return r.a.createElement("div",{className:s.container,"data-test-id":"top-deals-header"},r.a.createElement("div",{className:s.iconContainer},r.a.createElement("span",{className:s.header},n(Y.deal_separator_recommended)),r.a.createElement("span",{className:s.partnerAttributionIcon},r.a.createElement(N.a,{isOnDarkBackground:i,size:j.d.XS}))),r.a.createElement("div",{className:s.buttonContainer},a?r.a.createElement(H.a,{marginLess:!0,kind:U.a.THEMED_LIKE_COMPSOE_BUTTON,onClick:e,overridingClass:s.expandButton},n(t?Y.viewLess:Y.viewMore)):null))}}K.contextTypes={intl:d.i.isRequired,getCss:s.a.func,getThemeMode:s.a.func};var X=Object(B.b)(e=>{const{getListsSelectors:t,getCouponsSelectors:a}=Object(Z.b)(e),{isListExpanded:n}=t(),{getCouponCardStreamItems:s}=a(),i=Object(C.e)({referrer:g.Fb.TOP_COUPONS});return{expanded:n(Object(C.e)({referrer:g.Fb.TOP_COUPONS})),expandable:s(i).length>4}},e=>{const t=Object(C.e)({referrer:g.Fb.TOP_COUPONS}),a={mKey:V.e.TOGGLE_LIST_VISIBILITY,sec:V.g.COUPONS_LIST};return{toggleVisibility:()=>e(z({listId:t,i13nModel:a}))}})(K),Q=a(1097),$=a.n(Q),J=a(56);function ee(e,{getCss:t,getThemeMode:a}){const n=t($.a,{themeMode:a()});return r.a.createElement("div",{className:n.container},r.a.createElement(J.b,null))}ee.contextTypes={getCss:s.a.func,getThemeMode:s.a.func};var te=ee,ae=a(232),ne=a(234),se=a(38),ie=a(1098),re=a.n(ie),oe=a(48);const le=Object(d.h)({comma:{id:"mail_app.comma_with_space",defaultMessage:",\\u0020"},me:{id:"mail_app.me",defaultMessage:"me"},and:{id:"mail_app.and",defaultMessage:"\\u0020and\\u0020"}}),ce=" .. ",de=".",me=10;class _e extends r.a.Component{constructor(...e){var t;return t=super(...e),this.getSenderLabelText=(({name:e,email:t})=>{const{myAddresses:a}=this.props,{formatMessage:n}=this.context.intl;let s;return(s=a[t]?n(le.me):e?e.split(" ")[0]:t.split("@")[0]).length>me+de.length?s.slice(0,me)+de:s}),this.trimIndicesToVisible=((e,t)=>{const{visibleNum:a}=this.props;return e.length<=a-1?t:t.slice(0,e[0].recent?a-1:a)}),this.getLabel=((e,t)=>{return r.a.createElement(e?"span":"strong",0,t)}),this.getSenderLabels=(e=>{const{myAddresses:t,isRead:a}=this.props,{formatMessage:n}=this.context.intl;if(0===e.length)return null;if(1===e.length){const s=e[0],i=t[s.email]?n(le.me):null;return this.getLabel(a,i||s.name||s.email)}const s=[],i=Object(oe.c)(e),r=Object(oe.b)(i),o=i.map(e=>this.getSenderLabelText(e)),l=this.trimIndicesToVisible(i,r).sort();let c=0;return l.forEach((e,t)=>{const a=o[e];e>c+1?s.push(ce):t>0&&s.push(n(le.comma)),s.push(a),c=e}),this.getLabel(a,s.join(""))}),this.getSenderTooltip=(e=>{const{formatMessage:t}=this.context.intl,a=Object(oe.c)(e);let n="";if(a)if(1===(n=(n=a.map(e=>this.getSenderLabelText(e))).filter((e,t,a)=>a.indexOf(e)===t)).length)n=a[0].email;else{const e=n.pop();n=n.join(t(le.comma))+t(le.and)+e}return n}),t}render(){const e=_()(re.a,{transparent:this.props.transparent}),{senders:t,onClick:a,layoutClassNames:n}=this.props,s=this.getSenderTooltip(t);return r.a.createElement("div",{className:n.senders,"data-test-id":"senders",role:"gridcell"},r.a.createElement("span",{className:e.participants,onClick:a,role:"gridcell",title:s},this.getSenderLabels(t)))}}_e.defaultProps={visibleNum:3,myAddresses:{},transparent:!1},_e.contextTypes={intl:d.i};var ue=_e,he=a(1099),pe=a.n(he),ge=a(15);const Ee=Object(d.h)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},msgIsRead:{id:"msg_is_read",defaultMessage:"This message is read"},msgIsNotRead:{id:"msg_is_not_read",defaultMessage:"This message is not read"}}),be=({isDarkThemeMode:e,layoutClassNames:t,isHovered:a,isRead:n,readOnly:s,onClick:i},{getCss:o,intl:l})=>{const c=o(pe.a,{isDarkThemeMode:e}),{formatMessage:d}=l,m=d(n?Ee.markAsUnread:Ee.markAsRead);let _,u;return n?a()?(_=r.a.createElement(ge.b,{"data-test-read":n,kind:j.b.CIRCLE,size:j.d.XS,colorState:j.a.INHERITED}),u=r.a.createElement("span",{className:c.accessible,"aria-label":d(n?Ee.msgIsRead:Ee.msgIsNotRead)})):u=r.a.createElement("span",{className:c.accessible,"aria-label":d(Ee.msgIsRead)}):(_=r.a.createElement(ge.b,{"data-test-read":n,kind:j.b.CIRCLE,size:j.d.XS,colorState:e?j.a.SELECTED_DARK_THEME_MODE:j.a.SELECTED}),u=r.a.createElement("span",{className:c.accessible,"aria-label":d(Ee.msgIsNotRead)})),s?r.a.createElement("span",{"data-test-id":"icon-btn-read",title:m,className:c.readIcon,role:"gridcell"},_,u):r.a.createElement("span",{className:t.readIcon,role:"gridcell"},r.a.createElement(H.a,{"data-test-id":"icon-btn-read",title:d(n?Ee.markAsUnread:Ee.markAsRead),onClick:i,onDoubleClick:i,className:c.readIcon},_,u))};be.defaultProps={isHovered:()=>!1},be.contextTypes={intl:d.i,getCss:s.a.func};var Ce=be,fe=a(1100),ve=a.n(fe);const Ie=Object(d.h)({msgIsReplied:{id:"msg_is_replied",defaultMessage:"Replied"}}),ye=(e,t)=>{const{isDarkThemeMode:a,layoutClassNames:n}=e,{formatMessage:s}=t.intl,i=t.getCss(ve.a,{isDarkThemeMode:a});return r.a.createElement(H.a,{"data-test-id":"icon-btn-reply",className:`${i.replyIcon} ${n.readIcon}`,role:"gridcell"},r.a.createElement("span",{className:i.indicator},r.a.createElement(ge.b,{kind:j.b.REPLY,size:j.d.XXXS,colorState:a?j.a.INHERITED:j.a.SECOND_LEVEL_GRAY}),r.a.createElement("span",{className:i.accessible,"aria-label":s(Ie.msgIsReplied)})))};ye.contextTypes={intl:d.i,getCss:s.a.func};var Se=ye,Ne=a(1101),Te=a.n(Ne);const Ae=Object(d.h)({msgIsForwarded:{id:"msg_is_forwarded",defaultMessage:"Forwarded"}}),Me=(e,t)=>{const{isDarkThemeMode:a,layoutClassNames:n}=e,{formatMessage:s}=t.intl,i=t.getCss(Te.a,{isDarkThemeMode:a});return r.a.createElement(H.a,{"data-test-id":"icon-btn-forward",className:`${i.forwardIcon} ${n.readIcon}`,role:"gridcell"},r.a.createElement("span",{className:i.indicator},r.a.createElement(ge.b,{kind:j.b.FORWARD,size:j.d.XXXS,colorState:a?j.a.INHERITED:j.a.SECOND_LEVEL_GRAY}),r.a.createElement("span",{className:i.accessible,"aria-label":s(Ae.msgIsForwarded)})))};Me.contextTypes={intl:d.i,getCss:s.a.func};var De=Me,Oe=a(1102),ke=a.n(Oe),Re=a(8);const xe=Object(d.h)({markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},msgIsStarred:{id:"msg_is_starred",defaultMessage:"Starred"},msgIsNotStarred:{id:"msg_is_not_starred",defaultMessage:"Not starred"}}),Pe=({layoutClassNames:e,isStarred:t,isHovered:a,isDarkThemeMode:n,onClick:s,size:i,kind:o,readOnly:l},{getCss:c,intl:d})=>{const m=c(ke.a,{isDarkThemeMode:n}),{formatMessage:_}=d,u=_(t?xe.markAsUnstarred:xe.markAsStarred);let h,p;return t?(h=r.a.createElement(ge.b,{"data-test-starred":t,kind:o,size:i,colorState:n?j.a.STARRED_DARK:j.a.STARRED}),p=r.a.createElement("span",{className:m.accessible,"aria-label":_(xe.msgIsStarred)})):a()?(h=r.a.createElement(ge.b,{kind:o,size:i,colorState:j.a.INHERITED}),p=r.a.createElement("span",{className:m.accessible,"aria-label":_(t?xe.msgIsStarred:xe.msgIsNotStarred)})):p=r.a.createElement("span",{className:m.accessible,"aria-label":_(xe.msgIsNotStarred)}),l?r.a.createElement("span",{"data-test-id":"icon-btn-star",title:u,className:m.starIcon,role:"gridcell"},h,p):r.a.createElement("span",{className:e.starIcon,role:"gridcell"},r.a.createElement(H.a,{"data-test-id":"icon-btn-star",title:u,onClick:s,onDoubleClick:s,className:m.starIcon},h,p))};Pe.defaultProps={size:j.d.XS,isHovered:()=>!1,kind:j.b.STAR},Pe.contextTypes={intl:d.i,getCss:s.a.func};var we=Pe,Fe=a(1103),Le=a.n(Fe);const Be=Object(d.h)({searchByContact:{id:"search_by_contact",defaultMessage:"Search for messages from this sender"},searchBySubject:{id:"search_by_subject",defaultMessage:"Search for messages with this subject"}}),He=(e,t)=>{const a=e.searchType===g.cd.SUBJECT,n=t.getCss(Le.a,{isDarkThemeMode:e.isDarkThemeMode}),{formatMessage:s}=t.intl;return e.showSearch&&e.isHovered()?r.a.createElement("span",{className:a?n.subjectSearchIcon:""},r.a.createElement(H.a,{"data-test-id":"icon-btn-search",title:s(a?Be.searchBySubject:Be.searchByContact),onClick:e.onClick,onDoubleClick:e.onClick,className:e.isCompact?n.contactSearchIconCompact:n.searchIcon},r.a.createElement("span",null,r.a.createElement(ge.b,{kind:j.b.SEARCH_MINI,size:j.d.XS,colorState:j.a.INHERITED})))):null};He.defaultProps={isHovered:()=>!1,isCompact:!1},He.contextTypes={intl:d.i,getCss:s.a.func};var Ue=He,je=a(342),We=a(141),Ge=a(1104),Ze=a.n(Ge);const Ve=Object(d.h)({no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),qe=(e,t)=>{const{formatMessage:a}=t.intl,n=t.getCss(Ze.a),{subject:s,highlightSearchTerm:i,layoutClassNames:o}=e;let l=null;const c=`${n.highlightedTerm} ${o.highlightedTerm}`;return l=s?Object(We.b)(s,i,c):r.a.createElement("span",{className:o.noSubject},a(Ve.no_subject)),r.a.createElement("span",{"data-test-id":"message-subject",className:`${o.subject} ${n.subject}`,role:"gridcell"},l)};qe.defaultProps={highlightSearchTerm:!1},qe.contextTypes={intl:d.i,getCss:s.a.func};var ze=qe,Ye=a(1105),Ke=a.n(Ye);const Xe=(e,t)=>{const{snippet:a,highlightSearchTerm:n,layoutClassNames:s}=e,i=t.getCss(Ke.a),o=`${i.highlightedTerm} ${s.highlightedTerm}`,l=Object(We.b)(a,n,o);return r.a.createElement("div",{className:`${s.snippetContainer} ${i.snippetContainer}`,"data-test-id":"snippet"},r.a.createElement("div",{className:`${i.snippet} ${s.snippet}`,role:"gridcell"},l))};Xe.contextTypes={getCss:s.a.func};var Qe=Xe,$e=a(1106),Je=a.n($e);const et=(e,t)=>{const a=t.getCss(Je.a),{count:n,layoutClassNames:s}=e;return r.a.createElement("span",{"data-test-id":"message-count",className:n>1?`${a.messageCount} ${s.messageCount}`:a.accessible,role:"gridcell"},r.a.createElement("span",null,r.a.createElement("span",{className:a.accessible,"data-test-id":"accessible-message-count"},r.a.createElement(d.c,{id:"msg_count",values:{messageCount:n},defaultMessage:"{messageCount, plural,\n                                                one {# message}\n                                                other {# messages}\n                                            }"})),n>1?r.a.createElement("span",{"aria-hidden":"true","data-test-id":"visible-message-count"},n):null))};et.contextTypes={getCss:s.a.func};var tt=et,at=a(1107),nt=a.n(at);const st=(e,t)=>{const a=t.getCss(nt.a),{hasDraft:n,layoutClassNames:s}=e;return r.a.createElement("span",{"data-test-id":"draft-indicator",className:n?`${a.draftIndicator} ${s.draftIndicator}`:a.accessible},n?r.a.createElement(d.c,{id:"msg_has_draft",defaultMessage:"DRAFT"}):null)};st.contextTypes={getCss:s.a.func};var it=st,rt=a(1108),ot=a.n(rt),lt=a(262),ct=a(374),dt=a(1109),mt=a.n(dt);const _t=100,ut=30,ht=()=>{};class pt extends i.Component{constructor(e){super(e),this.navigateTo=this.navigateTo.bind(this)}navigateTo(e){const{listId:t,groupId:a}=this.props,n={mKey:V.e.ATTACHMENT_LIGHTBOX_OPEN,sec:V.g.MSG_LIST_MSG,interactionType:V.d.click};this.context.navigateTo({route:Object(E.c)(t,a,e,{fullscreen:"1"}),i13nModel:n})}render(){const{attachments:e,isSpam:t,attachmentTraySize:a}=this.props,n=_()(mt.a),s=e.map((e,a)=>r.a.createElement("span",{key:e.id,className:n.attachmentItem,"data-test-id":"attachment-item-"+a},r.a.createElement(lt.a,{attachment:e,readOnly:!0,allowDownload:!1,onRemove:ht,onClick:this.navigateTo.bind(this,e.id),isPreviewEnabled:!t,previewWithoutDownload:!0,smallPreview:!0})));return r.a.createElement("div",{"data-test-id":"attachment-popover"},e.length>a?r.a.createElement("div",{style:{width:2*ut+_t*a},className:n.attachmentsCarouselContainer},r.a.createElement(ct.b,{itemWidth:_t},s)):r.a.createElement("div",{className:n.attachmentsPopoverContainer},s))}}pt.contextTypes={getCss:s.a.func,navigateTo:s.a.func.isRequired};var gt=pt,Et=a(92),bt=a(12),Ct=a(44);const ft=(e,t,a)=>r.a.createElement("span",{"data-test-id":"attachment-icon",className:e.attachmentIcon},r.a.createElement(ge.b,{kind:Object(Ct.g)(t),size:j.d.XS,colorState:a?j.a.FAINT:j.a.DISABLED}),r.a.createElement("span",{className:e.accessible},r.a.createElement(d.c,{id:"msg_has_attachments",defaultMessage:"Message has attachments"}))),vt=({attachments:e,attachmentTraySize:t,isInteractive:a,isDarkThemeMode:n,listId:s,groupId:i},{getCss:o,config:l})=>{const c=o(ot.a);if(!e.length)return r.a.createElement("span",{className:c.accessible,"data-test-id":"accessible-no-attachment"},r.a.createElement(d.c,{id:"msg_no_attachment",defaultMessage:"No attachment"}));if(!a)return ft(c,e,n);const m=Object(Ct.e)(e,l.previewableInlineAttachmentSize);return r.a.createElement(Et.c,{arrowSize:bt.b.M,permittedArrowDirections:[bt.g.UP,bt.g.DOWN],triggerOn:Et.b.HOVER_DELAYED,triggerDelayTime:200,triggerOff:Et.a.HOVER_OUT,align:bt.a.END,offset:16,persistent:!0,isArrowVisible:!1,zAltitude:p.ZIndices.POPOVER.MEDIUM},ft(c,e,n),r.a.createElement(gt,{attachments:m,attachmentTraySize:t,listId:s,groupId:i}))};vt.defaultProps={isInteractive:!0,isHovered:!1,attachmentTraySize:3},vt.contextTypes={getCss:s.a.func,config:s.a.object};var It=vt;const yt=Object(Re.c)(["ACCOUNT","FOLDER","NONE"]);var St=a(1110),Nt=a.n(St),Tt=a(165),At=a(72),Mt=a(47);const Dt=({messageDestinationLabel:e,accountDescription:t,accountEmail:a,folderName:n,folderType:s,layoutClassNames:i},o)=>{const l=_()(Nt.a),{formatMessage:c,locale:d}=o.intl,m={};let u=null;switch(e){case yt.ACCOUNT:{let e=m[d];e||(e=m[d]={[g.fb.YAHOO]:c(At.a.yahoo_account_description),[g.fb.YAHOO_SB]:c(At.a.yahoo_account_description),[g.fb.OUTLOOK]:c(At.a.outlook_account_description),[g.fb.AOL]:c(At.a.aol_account_description),[g.fb.GOOGLE]:c(At.a.gmail_account_description),[g.fb.GOOGLE_APP]:c(At.a.gmail_account_description)});const s=t||e[Object(Mt.f)(a)];u=r.a.createElement("div",{className:`${l.messageDestinationLabel} ${i.messageDestinationLabel}`,"data-test-id":"account"},r.a.createElement("span",{title:s+"/"+n},s));break}case yt.FOLDER:u=r.a.createElement("div",{className:`${l.messageDestinationLabel} ${i.messageDestinationLabel}`,title:n,"data-test-id":"folder"},r.a.createElement(Tt.a,{folderDisplayType:s,name:n}))}return u};Dt.contextTypes={intl:d.i.isRequired};var Ot=Dt;var kt=Object(B.b)((e,t)=>{const{layoutClassNames:a,folderId:n}=t,{getFoldersSelectors:s,getAccountSelectors:i}=Object(Z.b)(e),{getPrimaryFolderTypeByFolderId:r,getFolderName:o,getAccountIdByFolderId:l}=s(),{hasMultipleRootAccounts:c,getAccountDescriptionByAccountId:d,getAccountEmailByAccountId:m}=i(),_=c()?yt.ACCOUNT:yt.FOLDER,u=r(n),h=o(n),p=l(n);return{accountDescription:d(p),accountEmail:m(p),messageDestinationLabel:_,folderName:h,folderType:u,layoutClassNames:a}})(Ot),Rt=a(1111),xt=a.n(Rt);const Pt=(e,t)=>{const a=t.getCss(xt.a),{layoutClassNames:n}=e;return r.a.createElement(H.a,{"data-test-id":"icon-btn-ybadge",className:`${a.ybadgeIcon} ${n.ybadgeIcon}`},r.a.createElement(ge.b,{kind:j.b.YBADGE,size:j.d.XS,colorState:j.a.YBADGE}))};Pt.contextTypes={getCss:s.a.func};var wt=Pt,Ft=a(1017),Lt=a.n(Ft);const{array:Bt,bool:Ht,func:Ut,string:jt,number:Wt,oneOf:Gt}=s.a,Zt=(Gt(Object(Re.e)(g.ac)),({messageIds:e,active:t,selected:a,isRead:n,isStarred:s,renderItemSelection:i,renderReadIndicators:o,renderContactSearchIcon:l,renderSubjectSearchIcon:c,renderSenders:d,renderStarIcon:m,renderSubject:_,renderSnippet:u,renderMessageDestinationLabel:h,renderMessageCount:p,renderDraftLabel:g,renderAttachmentIcon:E,renderDate:b,renderTrashIcon:C,isHovered:f,showSubjectSearch:v,itemHeight:I},{getCss:y,getThemeMode:S})=>{const N=y(Lt.a,{hasJustOneMessage:1===e.length,active:t,selected:a,isRead:n,isStarred:s,isHovered:f(),showSubjectSearchAndHovered:f()&&v}),A=S()===T.f.DARK?N.container+(t?" "+N.active:"")+(a?" "+N.selected:""):N.container;return r.a.createElement("div",{className:A+" message-list-item",style:{height:I-1}},r.a.createElement("div",{className:N.gridB1},r.a.createElement("div",{className:N.check,role:"gridcell"},i()),o(N),d(N),l(),m(N)),r.a.createElement("div",{className:N.gridB2},r.a.createElement("div",{className:N.message},r.a.createElement("div",{className:N.subjectContainer},_(N),p(N),g(N)),c(N),u(N)),h(N),E(N)),r.a.createElement("div",{className:N.iconB2,role:"gridcell"},b(N),C()))});Zt.contextTypes={getCss:s.a.func,getThemeMode:s.a.func};var Vt=Zt,qt=a(24),zt=a(263);const Yt=()=>{},Kt=Object(d.h)({email_aria_label:{id:"email_aria_label",defaultMessage:"{senderNames}'s email"},deselectionAriaLabel:{id:"deselect_message",defaultMessage:"Deselect message"},selectionAriaLabel:{id:"select_message",defaultMessage:"Select message"}}),Xt=e=>{e.stopPropagation(),e.preventDefault()};class Qt extends r.a.Component{constructor(e){super(e),this.onMouseOver=(()=>{this.state.hover||this.props.isScrolling()||this.props.isDragging()||this.setState({hover:!0})}),this.onMouseLeave=(()=>{this.setState({hover:!1})}),this.isHovered=(()=>this.state.hover&&!this.props.isScrolling()&&!this.props.isDragging()),this.isDarkThemeMode=(()=>this.context.getThemeMode()===T.f.DARK),this.handleClick=(e=>{Xt(e),this.openItem(Object(b.i)(e)),this.props.onClick(e)}),this.handleDoubleClick=(e=>{Xt(e),this.openItem(Object(b.i)(e)),this.props.onDoubleClick(e)}),this.openItem=(e=>{this.props.navigateTo({route:Object(E.n)(this.props.listId,this.props.groupId),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:V.e.OPEN_MSG,sec:V.g.MSG_LIST_MSG,mKeyGroup:V.f.open_msg}})}),this.openContactSearch=(e=>{const{senders:t}=this.participantsInfo;if(t.length>1)return;const a={emailAddresses:t[0].email,name:t[0].name||t[0].email};this.props.navigateTo({route:Object(E.r)(a),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:V.e.CONTACT_SEARCH,sec:V.g.MSG_LIST_MSG,mKeyGroup:V.f.search}})}),this.openSubjectSearch=(e=>{const t={keyword:`subject:"${this.props.subject}"`};this.props.navigateTo({route:Object(E.r)(t),streamItem:{listId:this.props.listId,id:this.props.groupId},i13nModel:{interactionType:e,mKey:V.e.SUBJECT_SEARCH,sec:V.g.MSG_LIST_MSG,mKeyGroup:V.f.search}})}),this.handleContactSearchClick=(e=>{Xt(e),this.openContactSearch(Object(b.i)(e)),this.props.onContactSearch()}),this.handleSubjectSearchClick=(e=>{Xt(e),this.openSubjectSearch(Object(b.i)(e)),this.props.onSubjectSearch()}),this.handleSelectionChange=(e=>{Xt(e);const t={listId:this.props.listId,id:this.props.groupId};e.shiftKey?this.props.onRangeSelected(t):this.props.onSelectionChange(t)}),this.handleDeleteClick=(e=>{Xt(e),this.props.onDelete({listId:this.props.listId,id:this.props.groupId})}),this.handleReadChange=(e=>{Xt(e),this.props.onReadChange({listId:this.props.listId,id:this.props.groupId})}),this.handleStarChange=(e=>{Xt(e),this.props.onStarChange({listId:this.props.listId,id:this.props.groupId})}),this.renderItemSelection=(()=>{const{formatMessage:e}=this.context.intl,{selected:t}=this.props;return r.a.createElement(ae.a,{"data-test-id":"icon-btn-checkbox","aria-label":e(t?Kt.deselectionAriaLabel:Kt.selectionAriaLabel),isChecked:!!t,onClick:this.handleSelectionChange,onDoubleClick:this.handleSelectionChange,isInverted:this.isDarkThemeMode()})}),this.renderYBadge=(e=>r.a.createElement(wt,{layoutClassNames:e})),this.renderReadIcon=(e=>{const{isRead:t}=this.props;return r.a.createElement(Ce,{isHovered:this.isHovered,isRead:t,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleReadChange,layoutClassNames:e})}),this.renderReplyIcon=(e=>r.a.createElement(Se,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e})),this.renderForwardIcon=(e=>r.a.createElement(De,{isDarkThemeMode:this.isDarkThemeMode(),layoutClassNames:e})),this.renderReadIndicators=(e=>{const{isVerifiedDomain:t,isRead:a,isReplied:n,isForwarded:s}=this.props;return t()?this.renderYBadge(e):a?n&&!this.state.hover?this.renderReplyIcon(e):s&&!this.state.hover?this.renderForwardIcon(e):this.renderReadIcon(e):this.renderReadIcon(e)}),this.renderSenders=(e=>{const{isRead:t,onClick:a}=this.props,{senders:n,myAddresses:s}=this.participantsInfo;return r.a.createElement(ue,{isRead:t,senders:n,myAddresses:s,onClick:a,layoutClassNames:e})}),this.renderContactSearchIcon=(()=>{if(this.props.isScrolling())return null;const{showContactSearch:e}=this.props;return this.isHovered()?r.a.createElement(Ue,{isHovered:this.isHovered,showSearch:e(this.participantsInfo.senders),isCompact:!1,searchType:g.cd.CONTACT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleContactSearchClick}):null}),this.renderSubjectSearchIcon=(e=>{if(this.props.isScrolling())return null;const{showSubjectSearch:t}=this.props;return this.isHovered()?r.a.createElement(Ue,{isHovered:this.isHovered,showSearch:t,isCompact:!1,searchType:g.cd.SUBJECT,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleSubjectSearchClick,layoutClassNames:e}):null}),this.renderStarIcon=(e=>{const{isStarred:t}=this.props;return r.a.createElement(we,{isHovered:this.isHovered,isStarred:t,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleStarChange,layoutClassNames:e})}),this.renderMessageCount=(e=>{return r.a.createElement(tt,{layoutClassNames:e,count:this.props.messageIds.length})}),this.renderDraftLabel=(e=>{const{hasDraft:t}=this.props;return r.a.createElement(it,{layoutClassNames:e,hasDraft:t()})}),this.renderSubject=(e=>{const{subject:t,highlightSearchTerm:a}=this.props;return r.a.createElement(ze,{subject:t,highlightSearchTerm:a,layoutClassNames:e})}),this.renderSnippet=(e=>{const{snippet:t,highlightSearchTerm:a,showSnippets:n}=this.props;return n?r.a.createElement(Qe,{snippet:t,highlightSearchTerm:a,layoutClassNames:e}):null}),this.renderMessageDestinationLabel=(e=>this.props.showDestinationLabel()?r.a.createElement(kt,{layoutClassNames:e,folderId:this.props.folderId}):null),this.renderAttachmentIcon=(e=>{const{getAttachments:t,groupId:a,isSpam:n,listId:s,isScrolling:i}=this.props;return r.a.createElement("div",{className:e.attachmentIcon,"data-test-id":"attach-icon-wrapper",role:"gridcell"},r.a.createElement(It,{attachments:t(),isDarkThemeMode:this.isDarkThemeMode(),listId:s,groupId:a,isSpam:n,attachmentTraySize:4,isInteractive:!i(),layoutClassNames:e}))}),this.renderDate=(e=>r.a.createElement("span",{className:e.dateWrapper+" date",style:this.isHovered()?{display:"none"}:{},role:"gridcell"},r.a.createElement(ne.a,{"data-test-id":"date-time-label",date:new Date(this.props.timestamp),timezone:this.context.timezone.name}))),this.renderTrashIcon=(()=>this.props.isScrolling()?null:r.a.createElement(je.a,{isHovered:this.isHovered(),isCompact:!1,isDarkThemeMode:this.isDarkThemeMode(),onClick:this.handleDeleteClick})),this.getNavLink=(e=>{this.navLink=e}),this.participantsInfo=e.getParticipantsInfo(),this.state={hover:!1}}componentWillReceiveProps(e){this.participantsInfo=e.getParticipantsInfo()}componentDidUpdate(e){this.props.active&&!e.active&&Object(o.findDOMNode)(this.navLink).focus()}render(){const{formatMessage:e}=this.context.intl,{isRead:t,isStarred:a,selected:n,tabIndex:s,onMouseDown:i,onMouseUp:o,onDragStart:l,onDrag:c,onDragEnd:d,listId:m,groupId:_}=this.props,{senders:u}=this.participantsInfo,h={renderItemSelection:this.renderItemSelection,renderReadIndicators:this.renderReadIndicators,renderContactSearchIcon:this.renderContactSearchIcon,renderSubjectSearchIcon:this.renderSubjectSearchIcon,renderSenders:this.renderSenders,renderStarIcon:this.renderStarIcon,renderSubject:this.renderSubject,renderSnippet:this.renderSnippet,renderMessageDestinationLabel:this.renderMessageDestinationLabel,renderMessageCount:this.renderMessageCount,renderDraftLabel:this.renderDraftLabel,renderAttachmentIcon:this.renderAttachmentIcon,renderDate:this.renderDate,renderTrashIcon:this.renderTrashIcon},p=Object(E.n)(m,_),g=this.context.getCss(Lt.a);return r.a.createElement("a",{role:"row",className:g.link,"data-test-id":"message-list-item","data-test-active":n,"data-test-starred":a,"data-test-read":t,tabIndex:s,"aria-label":e(Kt.email_aria_label,{senderNames:u.map(e=>e.name).join(", ")}),href:this.context.getUrlFromRoute(p),ref:this.getNavLink,onClick:this.handleClick,onDoubleClick:this.handleDoubleClick,onMouseDown:i,onMouseUp:o,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave,onDragStart:l,onDrag:Object(qt.h)()?void 0:c,onDragEnd:d,rel:"noopener"},r.a.createElement(Vt,babelHelpers.extends({},h,this.props,{isHovered:this.isHovered})))}}Qt.contextTypes={intl:s.a.object,getCss:s.a.func,getThemeMode:s.a.func,getUrlFromRoute:s.a.func.isRequired,timezone:se.e},Qt.defaultProps={isScrolling:Yt,isDragging:Yt,onDragStart:Yt,onDrag:Yt,onDragEnd:Yt,openItem:Yt,onMouseUp:Yt,onMouseDown:Yt,onSelectionChange:Yt,onReadChange:Yt,onStarChange:Yt,onClick:Yt,onKeyDown:Yt,onDoubleClick:Yt,onContactSearch:Yt,onSubjectSearch:Yt,onDelete:Yt,tabIndex:-1,selected:!1,active:!1,highlightSearchTerm:!0,previewpane:0,hasDraft:()=>!1,isVerifiedDomain:()=>!1};var $t=Object(zt.a)(Qt),Jt=a(882);const{string:ea,arrayOf:ta,shape:aa,bool:na,func:sa,oneOf:ia}=s.a;s.a.oneOf(Object(Re.e)(g.Mc)),ta(aa({id:ea.isRequired,listId:ea.isRequired})),ia(Object(Re.e)(g.Bc));var ra=a(455),oa=a(20),la=a(959),ca=a(73),da=a(1114),ma=a.n(da),_a=a(78),ua=a(21),ha=a(957);const pa=Object(d.h)({coupon_aria_label:{id:"coupon_aria_label",defaultMessage:"{fromName}'s coupon"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"},openMessage:{id:"coupon.openMessage",defaultMessage:"Open Message"}});class ga extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1,openMailClicked:!1,parentMessageRequested:!1},this.handleOpenMail=(e=>{const{openMailClicked:t}=this.state;e.preventDefault(),e.stopPropagation(),t||this.setState({openMailClicked:!0})}),this.openParentMessage=(()=>{const{cardMid:e,fromEmail:t,clipped:a,viglinkEnabled:n,listId:s,groupId:i,cardConversationId:r,getParentGroupId:o}=this.props,{parentMessageRequested:l}=this.state;if(i){const r={mKey:V.e.COUPON_OPENED,sec:V.g.COUPONS_LIST,actionData:{cardMid:e,fromEmail:t,isClipped:a,viglinkEnabled:n}};this.props.onCouponClick({route:Object(E.n)(s,i),streamItem:{listId:s,groupId:i},i13nModel:r}),this.setState({openMailClicked:!1})}else l||(o(r),this.setState({parentMessageRequested:!0}))}),this.handleViglinkClick=(()=>{this.props.viglinkClicked({i13nModel:{mKey:V.e.COUPON_LIST_VIGLINK_CLICKED,sec:V.g.COUPONS_LIST,actionData:{url:this.props.dealLink}}})}),this.clipCoupon=(e=>{e.preventDefault(),e.stopPropagation();const{cardMid:t,schemaId:a}=this.props;this.props.clip({cardMid:t,schemaId:a,i13nModel:{mKey:V.e.COUPON_CLIPPED,sec:V.g.COUPONS_LIST}})}),this.unclipCoupon=(e=>{e.preventDefault(),e.stopPropagation();const t={mKey:V.e.COUPON_UNCLIPPED,sec:V.g.COUPONS_LIST},{cardMid:a,schemaId:n}=this.props;this.props.unclip({cardMid:a,schemaId:n,i13nModel:t})}),t}componentDidUpdate(){const{openMailClicked:e}=this.state;e&&this.openParentMessage()}render(){const{fromEmail:e,fromName:t,clipped:a,description:n,hideBottomBorder:s,dealLink:i,viglinkEnabled:o,daysUntilExpiry:l,isInferredDate:c}=this.props;if(!e||!t||!n)return null;const{formatMessage:d}=this.context.intl,m=this.context.getTheme(),u=this.context.getThemeMode(),h=_()(ma.a,{themeCombo:`${u}_${m}`,themeMode:u,hideBottomBorder:s}),p=o&&i?{href:Object(_a.c)(i,g.D),onClick:this.handleViglinkClick,target:"_blank",title:n}:null;return r.a.createElement("a",babelHelpers.extends({role:"row","data-test-id":"coupon-list-item","aria-label":d(pa.coupon_aria_label,{fromName:t}),onClick:this.handleOpenMail,className:h.container,key:this.props.schemaId,onMouseOver:()=>this.setState({hovered:!0}),onMouseLeave:()=>this.setState({hovered:!1}),rel:"noreferrer"},p),r.a.createElement("span",{className:h.avatar},r.a.createElement(ca.c,{"data-test-id":"coupon-vendor-xavatar",contact:{email:e},size:ca.b.C,useFallbackImage:!1})),r.a.createElement("div",{className:h.subContainer},r.a.createElement("div",{className:h.vendorGrid},r.a.createElement("span",{"data-test-id":"coupon-vendor-name",className:h.vendorName,title:e},t)),r.a.createElement("div",{className:h.infoGrid},a?r.a.createElement(H.a,{className:h.clippedButton,onClick:this.unclipCoupon,"data-test-id":"unclip-coupon-btn"},r.a.createElement(ge.b,{kind:j.b.SCISSORS,size:j.d.XXS,colorState:j.a.INVERTED})):r.a.createElement(H.a,{className:h.unclippedButton,onClick:this.clipCoupon,"data-test-id":"clip-coupon-btn"},r.a.createElement(ge.b,{kind:j.b.SCISSORS,size:j.d.XXS,colorState:j.a.INHERITED})),r.a.createElement("span",{"data-test-id":"coupon-description",className:o&&i?h.vigLinkDescription:h.description},n),this.state.hovered?r.a.createElement(ua.a,{kind:j.b.SELECTED,size:j.d.XS,onClick:this.handleOpenMail,colorState:j.a.INHERITED,className:h.openEmailIcon,title:d(pa.openMessage),"data-test-id":"open-email-icon"}):null,r.a.createElement("div",{className:h.dateWrapper,"data-test-id":"expiry-date-wrapper"},a?r.a.createElement("strong",{"data-test-id":"clipped-cpn-expiry-info"},r.a.createElement(ha.a,{daysUntilExpiry:l,isInferred:c})):r.a.createElement("span",{className:h.unclippedCpnExpiryInfo,"data-test-id":"unclipped-cpn-expiry-info"},r.a.createElement(ha.a,{daysUntilExpiry:l,isInferred:c}))))))}}ga.contextTypes={intl:d.i.isRequired,getUrlFromRoute:s.a.func,getThemeMode:s.a.func,getTheme:s.a.func,executeAction:s.a.func};var Ea=Object(la.a)(ga),ba=a(457),Ca=a(1019),fa=a.n(Ca);const va=Object(d.h)({heading:{id:"smart_view_groceries",defaultMessage:"Groceries"}});class Ia extends r.a.Component{render(){const{formatMessage:e}=this.context.intl,t=this.context.getThemeMode(),a=_()(fa.a,{smartView:!0,themeMode:t}),n=e(va.heading);return r.a.createElement("div",{"aria-label":n,className:a.groceryViewHeading,"data-test-id":"groceries-heading",title:n},n)}}Ia.contextTypes={getThemeMode:s.a.func,intl:d.i.isRequired};var ya=Ia,Sa=a(1003),Na=a(1116),Ta=a.n(Na);const Aa=Object(w.a)("/img/offers_empty_state.png"),Ma=Object(d.h)({title:{id:"no_linked_grocery_stores.title",defaultMessage:"Your stores"},subtitle:{id:"no_linked_grocery_stores.subtitle",defaultMessage:"No linked loyalty cards yet"},primary_text:{id:"no_linked_grocery_stores.primary_text",defaultMessage:"Click on link loyalty card to link your first loyalty card"}});class Da extends r.a.Component{render(){const{showTextVariant:e}=this.props,{formatMessage:t}=this.context.intl,a=_()(Ta.a),n=t(Ma.title),s=t(e?Sa.strings.header_text:Ma.subtitle),i=t(Ma.primary_text),o=t(Sa.strings.body_text);return r.a.createElement("div",{className:a.container,"data-test-id":"no-linked-retailers-row"},e?null:r.a.createElement("div",{className:a.title},n),r.a.createElement("div",{className:a.content},r.a.createElement("img",{className:a.image,src:Aa}),r.a.createElement("div",{className:a.text},r.a.createElement("div",{className:a.subtitle},s),e?null:r.a.createElement("div",{className:a.textline},i),r.a.createElement("div",{className:a.textline},o))))}}Da.contextTypes={intl:d.i.isRequired};var Oa=Object(B.b)(e=>{const{isFeatureEnabled:t}=Object(Z.b)(e);return{showTextVariant:t(g.kb.QUOTIENT_TEXT_VARIANT)}})(Da),ka=a(75),Ra=a(57),xa=a(63),Pa=a(40),wa=a(137),Fa=a(1117),La=a.n(Fa);const Ba=Object(d.h)({retailer_unlink_modal_header:{id:"retailer_unlink_modal.header",defaultMessage:"Are you sure you want to unlink<br/> <b>{retailerName} card {loyaltyId}</b>?"},retailer_unlink_modal_points:{id:"retailer_unlink_modal.points",defaultMessage:"From within Yahoo Mail groceries:"},retailer_unlink_modal_first:{id:"retailer_unlink_modal.first",defaultMessage:"You won't be able to receive and add coupons with this loyalty card."},retailer_unlink_modal_second:{id:"retailer_unlink_modal.second",defaultMessage:"All information associated with this card will be permanently deleted."},retailer_unlink_modal_primary_button:{id:"retailer_unlink_modal.primary_button",defaultMessage:"Unlink"},retailer_unlink_modal_secondary_button:{id:"retailer_unlink_modal.secondary_button",defaultMessage:"Cancel"},retailer_unlink_modal_close:{id:"retailer_unlink_modal.close",defaultMessage:"Close"}});class Ha extends r.a.Component{constructor(...e){var t;return t=super(...e),this.unlinkHandler=(()=>{const{accountIds:e,retailerId:t,unlinkRetailerRequested:a}=this.props;a({retailerId:t}),this.context.navigateTo({route:Object(E.t)(g.td.GROCERIES,{accountIds:e})})}),t}render(){const{loyaltyId:e,onClose:t,retailerName:a}=this.props,{formatMessage:n}=this.context.intl,s=_()(La.a);return r.a.createElement(wa.a,{onClose:t},r.a.createElement("div",{className:s.dialog,"data-test-id":"retailer-unlink-modal"},r.a.createElement("div",{className:s.svgContainer},r.a.createElement(ge.b,{colorState:j.a.WARNING_GRAD_RED,kind:j.b.EXCLAMATION_ALT,size:j.d.L})),r.a.createElement("div",{className:s.container},r.a.createElement("div",{className:s.header},r.a.createElement(d.b,babelHelpers.extends({},Ba.retailer_unlink_modal_header,{values:{retailerName:a,loyaltyId:e}})),r.a.createElement(ua.a,{"aria-label":n(Ba.retailer_unlink_modal_close),"data-test-id":"close-button",kind:j.b.CLOSE,onClick:t,size:j.d.XS,title:n(Ba.retailer_unlink_modal_close)})),r.a.createElement("div",{className:s.listHeader},n(Ba.retailer_unlink_modal_points)),r.a.createElement("ul",null,r.a.createElement("li",null,n(Ba.retailer_unlink_modal_first)),r.a.createElement("li",null,n(Ba.retailer_unlink_modal_second))),r.a.createElement("div",null,r.a.createElement(H.a,{"aria-label":n(Ba.retailer_unlink_modal_primary_button),"data-test-id":"primary-button",kind:U.a.PRIMARY,onClick:this.unlinkHandler,title:n(Ba.retailer_unlink_modal_primary_button)},n(Ba.retailer_unlink_modal_primary_button)),r.a.createElement(H.a,{"aria-label":n(Ba.retailer_unlink_modal_secondary_button),"data-test-id":"secondary-button",kind:U.a.SECONDARY,onClick:t,title:n(Ba.retailer_unlink_modal_secondary_button)},n(Ba.retailer_unlink_modal_secondary_button))))))}}Ha.contextTypes={intl:d.i.isRequired,navigateTo:s.a.func};var Ua=Object(B.b)((e,{retailerId:t=""})=>{const{getRetailersSelectors:a}=Object(Z.b)(e),{getLoyaltyIdFromRetailerId:n}=a();return{loyaltyId:n(t)}},e=>({unlinkRetailerRequested:t=>e(Object(ka.w)(t))}))(Ha),ja=a(1118),Wa=a.n(ja);const Ga=Object(w.a)(g.Fc),Za=Object(w.a)("/img/add_coupon_icon.png"),Va=Object(d.h)({single_store_helper_modal_header:{id:"single_store_helper_modal.header",defaultMessage:"Saving on groceries is simple!"},single_store_helper_modal_first:{id:"single_store_helper_modal.first",defaultMessage:'<b>Step 1:</b> Click on <img src="{urlPath}" width="20" /> to add coupons to your loyalty card'},single_store_helper_modal_second:{id:"single_store_helper_modal.second",defaultMessage:"<b>Step 2:</b> Use your loyalty card at the checkout counter, to find your discounts applied automatically"},single_store_helper_modal_primary_button:{id:"single_store_helper_modal.primary_button",defaultMessage:"Got it"},single_store_helper_modal_close:{id:"single_store_helper_modal.close",defaultMessage:"Close"}});class qa extends r.a.Component{render(){const{formatMessage:e}=this.context.intl,t=_()(Wa.a),a={width:`${72*p.GRID_UNIT}px`,height:`${9*p.GRID_UNIT}px`};return r.a.createElement(wa.a,{onClose:this.props.onClose},r.a.createElement("div",{className:t.dialog,"data-test-id":"single-store-helper-modal"},r.a.createElement("div",{className:t.close},r.a.createElement(ua.a,{"aria-label":e(Va.single_store_helper_modal_close),"data-test-id":"close-button",kind:j.b.CLOSE,onClick:this.props.onClose,size:j.d.XS,title:e(Va.single_store_helper_modal_close)})),r.a.createElement("img",{className:t.logo,"data-test-id":"image",src:Ga}),r.a.createElement("span",{className:t.header},e(Va.single_store_helper_modal_header)),r.a.createElement("span",{className:t.body},r.a.createElement(d.b,babelHelpers.extends({},Va.single_store_helper_modal_first,{values:{urlPath:Za}}))),r.a.createElement("span",{className:t.body},r.a.createElement(d.b,Va.single_store_helper_modal_second)),r.a.createElement(H.a,{"aria-label":e(Va.single_store_helper_modal_primary_button),"data-test-id":"primary-button",kind:U.a.PRIMARY,marginLess:!0,onClick:this.props.onClose,style:a,title:e(Va.single_store_helper_modal_primary_button)},e(Va.single_store_helper_modal_primary_button))))}}qa.contextTypes={intl:d.i.isRequired};var za=qa,Ya=a(960),Ka=a(1119),Xa=a.n(Ka);const Qa=Object(w.a)("/img/add_coupon_icon.png"),$a=Object(d.h)({multiple_coupon_info:{id:"savings_summary.multiple_coupon_info",defaultMessage:"{numActivatedOffers} coupons on your card"},single_coupon_info:{id:"savings_summary.single_coupon_info",defaultMessage:"{numActivatedOffers} coupon on your card"},zero_coupon:{id:"savings_summary.zero_coupon",defaultMessage:'Click on <img src="{urlPath}" width="20" /> to add your first coupon.'}});class Ja extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onThumbnailClick=(()=>{const e={mKey:V.e.QTNTVIEW_SMARTVIEW_ACTION,sec:V.g.QUOTIENT,actionData:{reason:{featurefamily:g.ib.IC,featurename:g.kb.QUOTIENT,viewtype:"grocerysinglestore",actiontype:"viewmore",origin:"smartview"}}};this.context.navigateTo({route:Object(E.b)(this.props.retailerId),i13nModel:e})}),this.renderOverflowThumbnail=((e,t)=>{const a=_()(Xa.a);return r.a.createElement("div",{className:a.overflowNumber,"data-test-id":"overflow-thumbnail",key:e,onClick:this.onThumbnailClick},"+",t)}),this.renderThumbnails=(()=>{const{contentWidth:e,imageUrls:t,numActivatedOffers:a}=this.props,n=e/2-40,s=_()(Xa.a),i=Math.floor(n/p.ACTIVATED_OFFERS_THUMBNAIL_WIDTH);let o=0;return a>=i&&(o=a-i+1,t.length=i-1),r.a.createElement("div",{className:s.thumbnailsContainer},t.map((e,t)=>r.a.createElement("img",{className:s.thumbnails,"data-test-id":"thumbnail",key:t,onClick:this.onThumbnailClick,onError:e=>Object(Ya.a)(e,g.Fc),src:e})).concat(o>0?this.renderOverflowThumbnail(a,o):[]))}),t}render(){const e=_()(Xa.a),t=0===this.props.numActivatedOffers?"No":this.props.numActivatedOffers,{formatMessage:a}=this.context.intl;return t?r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.couponInfo,"data-test-id":"coupons-on-card"},a(1===t?$a.single_coupon_info:$a.multiple_coupon_info,{numActivatedOffers:t})),"No"===t?r.a.createElement("span",{className:e.noCoupon},r.a.createElement(d.b,babelHelpers.extends({},$a.zero_coupon,{values:{urlPath:Qa}}))):this.renderThumbnails()):null}}Ja.contextTypes={intl:d.i.isRequired,navigateTo:s.a.func};var en=Object(B.b)((e,{retailerId:t=""})=>{const{getRoute:a,getMainContentWidth:n,getActivatedOffersSelectors:s,getRetailersSelectors:i}=Object(Z.b)(e),r=n(),o=Object(C.t)(a()),l=Object(C.Q)(o,{listFilter:g.Eb.ACTIVATED_OFFER_CARDS}),{getNumActivatedOffersFromRetailerId:c}=i(),{getActivatedOfferStreamItems:d}=s(),m=d(l).map(e=>e.imageUrl).reverse();return{contentWidth:r,numActivatedOffers:c(t),imageUrls:m}})(Ja),tn=a(1120),an=a.n(tn);const nn=Object(d.h)({separator_text:{id:"store_summary.separator_text",defaultMessage:"Loyalty number"},savings_text:{id:"store_summary.savings_text",defaultMessage:"Total savings"},coupons_text:{id:"store_summary.coupons_text",defaultMessage:"Coupons claimed"}});class sn extends r.a.Component{render(){const{brandImage:e,loyaltyId:t,offersUsed:a,retailerName:n,totalSavings:s}=this.props,{formatMessage:i}=this.context.intl,o=_()(an.a);return r.a.createElement("div",{className:o.container,"data-test-id":"store-summary"},r.a.createElement("div",{className:o.cardContainer,"data-test-id":"store-details"},r.a.createElement("div",{className:o.imageContainer},r.a.createElement("img",{className:o.image,"data-test-id":"store-image",onError:e=>Object(Ya.a)(e,g.Fc),src:e}),r.a.createElement("div",{className:o.overlayContainer},r.a.createElement("div",{className:o.overlay}))),r.a.createElement("div",{className:o.messageContainer},r.a.createElement("span",{className:o.header,"data-test-id":"store-name"},n),r.a.createElement("span",{className:o.subTitle},i(nn.separator_text)),r.a.createElement("span",{"data-test-id":"loyalty-id"},t))),null===s||null===a?null:r.a.createElement("div",{className:o.savingContainer,"data-test-id":"store-savings"},r.a.createElement("div",{className:o.total},r.a.createElement("span",null,i(nn.savings_text)),r.a.createElement("span",{"data-test-id":"total-savings"},"$",s)),r.a.createElement("div",{className:o.coupons},r.a.createElement("span",null,i(nn.coupons_text)),r.a.createElement("span",{"data-test-id":"offers-used"},a))))}}sn.contextTypes={intl:d.i.isRequired};var rn=Object(B.b)((e,{retailerId:t=""})=>{const{getRetailersSelectors:a}=Object(Z.b)(e),{getBrandImageFromRetailerId:n,getLoyaltyIdFromRetailerId:s,getTotalSavingsFromRetailerId:i,getOffersUsedFromRetailerId:r}=a();return{brandImage:n(t),loyaltyId:s(t),totalSavings:i(t),offersUsed:r(t)}})(sn);const on=Object(d.h)({helper_text:{id:"single_store.helper_text",defaultMessage:"How to use"},print:{id:"single_store.print",defaultMessage:"Print shopping list"},shopping_list:{id:"single_store.shopping_list",defaultMessage:"Your {retailerName} shopping list"},more:{id:"single_store.more",defaultMessage:"More"},unlink:{id:"single_store.unlink",defaultMessage:"Unlink card"}});class ln extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showHelperModal:!1,showUnlinkModal:!1},this.hideHelperModal=(()=>{this.setState({showHelperModal:!1})}),this.hideUnlinkModal=(()=>{this.setState({showUnlinkModal:!1})}),this.handleBackButtonClick=(()=>{const{isActivatedView:e,accountIds:t,retailerId:a}=this.props,n=e?Object(E.k)(a):Object(E.t)(g.td.GROCERIES,{accountIds:t});this.context.navigateTo({route:n})}),this.handlePrint=(()=>{const{printOffers:e,retailerId:t}=this.props;e({retailerId:t})}),this.renderSummaryRow=(e=>{const{retailerId:t,retailerName:a}=this.props;return r.a.createElement("div",{"data-test-id":"summary-row",className:e.summaryRow},r.a.createElement(rn,{retailerId:t,retailerName:a}),r.a.createElement(en,{retailerId:t}))}),this.renderOptions=(e=>{const{formatMessage:t}=this.context.intl;return r.a.createElement(xa.a,null,r.a.createElement(Ra.a,null,r.a.createElement("div",{className:e.helper,"data-test-id":"more-options"},r.a.createElement(ua.a,{"aria-label":t(on.more),colorState:j.a.LESS_IMPORTANT,kind:j.b.MORE,size:j.d.XS,title:t(on.more)}))),r.a.createElement(Pa.b,{align:bt.a.END,permittedArrowDirections:[bt.g.UP],triggerOn:bt.h.CLICK,zAltitude:p.ZIndices.POPOVER.HIGH},r.a.createElement("div",{className:e.pContent},r.a.createElement("span",{className:e.body,"data-test-id":"unlink",onClick:()=>this.setState({showUnlinkModal:!0})},t(on.unlink)),r.a.createElement("span",{className:e.body,"data-test-id":"helper",onClick:()=>this.setState({showHelperModal:!0})},t(on.helper_text)))))}),t}render(){const{accountIds:e,isActivatedView:t,retailerId:a,retailerName:n}=this.props,{formatMessage:s}=this.context.intl,i=this.context.getThemeMode(),o=_()(fa.a,{themeMode:i});return r.a.createElement("div",{className:o.container},r.a.createElement("div",{className:o.heading},r.a.createElement("div",{className:o.backButton,"data-test-id":"offers-back-button",onClick:this.handleBackButtonClick},r.a.createElement(ge.b,{colorState:j.a.LESS_IMPORTANT,kind:j.b.ARROW_UP,rotate:j.c.D270,size:j.d.S})),r.a.createElement("div",{"aria-label":n,"data-test-id":"offers-header",title:n},t?s(on.shopping_list,{retailerName:n}):n),r.a.createElement("div",{className:o.infoText},t?r.a.createElement("div",{className:o.print,"data-test-id":"offers-info",onClick:this.handlePrint},r.a.createElement(ua.a,{ariaLabel:s(on.print),colorState:j.a.FIRST_LEVEL_GRAY,kind:j.b.PRINTER,paddingLess:!0,size:j.d.S,title:s(on.print)}),r.a.createElement("span",null,s(on.print))):null,this.renderOptions(o)),this.state.showHelperModal?r.a.createElement(za,{onClose:this.hideHelperModal}):null,this.state.showUnlinkModal?r.a.createElement(Ua,{accountIds:e,onClose:this.hideUnlinkModal,retailerId:a,retailerName:n}):null),t?null:this.renderSummaryRow(o))}}ln.contextTypes={getThemeMode:s.a.func,intl:d.i.isRequired,navigateTo:s.a.func};var cn=Object(B.b)(e=>{const{getRoute:t,getRetailersSelectors:a,getSelectedAccountId:n}=Object(Z.b)(e),{getRetailersFromRetailerIds:s}=a(),i=Object(C.t)(t()),r=Object(C.p)(i)||"",o=s([r]),l=Object(Re.a)(o,"0.displayName",""),c=Object(C.r)(i);return{accountIds:[n()],isActivatedView:c===g.Eb.ACTIVATED_OFFER_CARDS,retailerId:r,retailerName:l}},e=>({printOffers:t=>e(Object(ka.h)(t))}))(ln);var dn=Object(B.b)((e,t)=>{const{cardMid:a,conversationId:n,messageId:s}=t,{getMessagesSelectors:i,getFeaturesSelectors:r}=Object(Z.b)(e),{getFromAddresses:o}=i(),l=r().isEnabled(g.kb.CONVERSATIONS)?n:s,c=o(a);let d="",m="";return c&&c.length>0&&(d=c[0].email,m=c[0].name),{fromEmail:d,fromName:m,groupId:l}}),mn=a(1121),_n=a.n(mn);const un=Object(d.h)({receipt_aria_label:{id:"receipt_aria_label",defaultMessage:"{fromName}'s receipt"},receipt_multiple_items:{id:"receipt_multiple_items",defaultMessage:"& {numItems} more {numItems, plural,\n            =1 {item}\n            other {items}}"},receipt_price_label:{id:"receipt_price_label",defaultMessage:"Price:"}});class hn extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleReceiptClick=(e=>{e.preventDefault();const{cardMid:t,fromEmail:a,listId:n,groupId:s}=this.props,i={mKey:V.e.RECEIPT_OPENED,sec:V.g.RECEIPTS_LIST,actionData:{cardMid:t,fromEmail:a}};this.props.onReceiptClick({route:Object(E.n)(n,s),streamItem:{listId:n,groupId:s},i13nModel:i})}),t}render(){const{fromEmail:e,fromName:t,itemName:a,hideBottomBorder:n,price:s,currency:i,orderDate:o,numItems:l}=this.props,{formatMessage:c,formatNumber:m}=this.context.intl,u=this.context.getTheme(),h=this.context.getThemeMode(),p=l<2?null:c(un.receipt_multiple_items,{numItems:l-1}),g=_()(_n.a,{themeCombo:`${h}_${u}`,themeMode:h,hideBottomBorder:n}),E=i?m(s,{style:"currency",currency:i}):`${c(un.receipt_price_label)} ${(Math.round(100*parseFloat(String(s)))/100).toFixed(2)}`;return r.a.createElement("a",{role:"row","data-test-id":"receipt-list-item","aria-label":c(un.receipt_aria_label,{fromName:t}),onClick:this.handleReceiptClick,className:g.container},r.a.createElement("span",{className:g.avatar},r.a.createElement(ca.c,{"data-test-id":"receipt-vendor-xavatar",contact:{email:e},size:ca.b.C,useFallbackImage:!1})),r.a.createElement("div",{className:g.subContainer},r.a.createElement("div",{className:g.vendorGrid},r.a.createElement("span",{"data-test-id":"receipt-vendor-name",className:g.vendorName,title:e},t)),r.a.createElement("div",{className:g.infoGrid},r.a.createElement("span",{"data-test-id":"receipt-itemName",className:g.itemName},a," ",p),s?r.a.createElement("span",{"data-test-id":"receipt-price",className:g.price,"aria-label":E},E):null,r.a.createElement("div",{className:g.dateWrapper,"data-test-id":"date-received-wrapper"},r.a.createElement("span",{className:g.date,"data-test-id":"date-received-info"},r.a.createElement(d.a,{id:"receipt_list_item.date_received",value:o,day:"2-digit",month:"short"}))))))}}hn.contextTypes={intl:d.i.isRequired,getUrlFromRoute:s.a.func,getThemeMode:s.a.func,getTheme:s.a.func,executeAction:s.a.func};var pn=dn(hn),gn=a(1122),En=a.n(gn);const bn=Object(w.a)("/img/receipt_and_cc_color.png"),Cn=Object(d.h)({heading:{id:"receipt_header.heading",defaultMessage:"Purchases from email"},earny_upsell_header:{id:"earny_upsell.header",defaultMessage:"You may have overpaid on purchases"},earny_upsell_body:{id:"earny_upsell.body",defaultMessage:"Use your receipts to get money back"},earny_upsell_primary_button:{id:"earny_upsell.primary_button",defaultMessage:"Show me how much I could save"},refund_estimate_upsell_header:{id:"refund_estimate_upsell.header",defaultMessage:"You may have overpaid on recent purchases"},refund_estimate_upsell_spent:{id:"refund_estimate_upsell.spent",defaultMessage:"You spent ${spent}"},refund_estimate_upsell_refund:{id:"refund_estimate_upsell.refund",defaultMessage:"Estimated refunds ${refund}"}});class fn extends r.a.Component{constructor(...e){var t;return t=super(...e),this.openEarnyOauth=(()=>{window.open(g.bb,"_blank")}),this.onClickRefundEstimateUpsell=(()=>{this.openEarnyOauth(),this.props.refundUpsellClicked()}),this.onClickEarnyUpsell=(()=>{this.openEarnyOauth(),this.props.earnyUpsellClicked()}),this.renderRefundEstimateUpsell=(()=>{const{totalPotentialSaving:e,totalSpentWithPossibleSaving:t,earnyVendors:a}=this.props,n=this.context.getThemeMode(),{formatMessage:s}=this.context.intl,i={themeMode:n},o=_()(En.a,i);let l="";const c=a.filter((e,t,a)=>a.indexOf(e)===t);return 1===c.length?l=c[0]:2===c.length?l=c[0]+" & "+c[1]:c.length>2&&(l=c[0]+", "+c[1]+" & "+c[2]),r.a.createElement("div",{className:o.refundEstimateUpsell,"data-test-id":"refund-estimate-upsell",onClick:this.onClickRefundEstimateUpsell},r.a.createElement("div",{className:o.refundEstimateTopDivider}),r.a.createElement("div",{className:o.refundEstimateUpsellContent},r.a.createElement("div",{className:o.refundEstimateOuterCircle},r.a.createElement("span",{className:o.refundEstimateNumber},a.length)),r.a.createElement("div",{className:o.refundEstimateTextWrapper},r.a.createElement("div",{className:o.upsellHeader},s(Cn.refund_estimate_upsell_header)),r.a.createElement("div",{className:o.upsellBody},l))),r.a.createElement("div",{className:o.refundEstimateSavingsContent},r.a.createElement("span",{className:o.bulletPointSpent}),r.a.createElement("span",{className:o.refundEstimateSpent},s(Cn.refund_estimate_upsell_spent,{spent:t})),r.a.createElement("span",{className:o.bulletPointSavings}),r.a.createElement("span",{className:o.refundEstimateSavings},s(Cn.refund_estimate_upsell_refund,{refund:e}))))}),this.renderEarnyAuthUpsell=(()=>{const e=this.context.getThemeMode(),{formatMessage:t}=this.context.intl,a=_()(En.a,{themeMode:e});return r.a.createElement("div",{className:a.earnyUpsell,"data-test-id":"earny-upsell"},r.a.createElement("div",{className:a.earnyTopDivider}),r.a.createElement("div",{className:a.earnyUpsellContent},r.a.createElement("div",{className:a.svgStyle},r.a.createElement("img",{src:bn})),r.a.createElement("div",{className:a.earnyTextWrapper},r.a.createElement("div",{className:a.upsellHeader,"aria-label":t(Cn.earny_upsell_header)},t(Cn.earny_upsell_header)),r.a.createElement("div",{className:a.upsellBody,"aria-label":t(Cn.earny_upsell_body)},t(Cn.earny_upsell_body)),r.a.createElement("div",{className:a.actionContainer},r.a.createElement(H.a,{onClick:this.onClickEarnyUpsell,title:t(Cn.earny_upsell_primary_button),"data-test-id":"earny-upsell-sign-up-button",kind:U.a.PRIMARY,"aria-label":t(Cn.earny_upsell_primary_button)},t(Cn.earny_upsell_primary_button))))))}),this.renderUpsell=(()=>{const{isEarnyConnected:e,totalPotentialSaving:t,enableEarnyUpsells:a}=this.props,n=this.context.getThemeMode(),s=_()(En.a,{themeMode:n,oneUpsell:0===t,avoidUpsells:e});return a?r.a.createElement("div",null,r.a.createElement("div",{className:s.container,"data-test-id":"receipt-container"},e||0===t?null:this.renderRefundEstimateUpsell(),e?null:this.renderEarnyAuthUpsell()),r.a.createElement("div",{className:s.listDivider})):null}),t}render(){const{isEmpty:e}=this.props,{formatMessage:t}=this.context.intl,a=this.context.getThemeMode(),n=_()(En.a,{themeMode:a}),s=t(Cn.heading);return r.a.createElement("div",null,r.a.createElement("div",{className:n.heading,"data-test-id":"receipt-heading","aria-label":s,title:s},s),e?null:this.renderUpsell())}}fn.contextTypes={intl:d.i.isRequired,getThemeMode:s.a.func,getTheme:s.a.func,dispatch:s.a.func};var vn=Object(B.b)(e=>{const{getContentProviders:t,getReceiptSelectors:a,getActionTimeStamp:n,getFeaturesSelectors:s}=Object(Z.b)(e),{doesContentProviderExist:i,isContentProviderConnected:r}=t(),{getTotalPotentialSaving:o,getTotalSpentWithEligibleSaving:l,getEarnyEligibleVendors:c,getNumPurchases:d}=a(),m=s().isEnabled(g.kb.ENABLE_EARNY_UPSELLS),_=i(g.M.EARNY)&&r(g.M.EARNY),u=n()-10368e6;return{isEarnyConnected:_,totalPotentialSaving:o(u),totalSpentWithPossibleSaving:l(u),earnyVendors:c(u),numPurchases:d(u),enableEarnyUpsells:m}},e=>({refundUpsellClicked:()=>e((()=>({type:q.a.REFUND_ESTIMATE_UPSELL_CLICKED,i13nModel:{mKey:V.e.REFUND_ESTIMATE_UPSELL,sec:V.g.RECEIPTS_LIST,interactionType:V.d.click}}))()),earnyUpsellClicked:()=>e((()=>({type:q.a.EARNY_UPSELL_CLICKED,i13nModel:{mKey:V.e.EARNY_UPSELL,sec:V.g.RECEIPTS_LIST,interactionType:V.d.click}}))())}))(fn),In=a(456);var yn=Object(B.b)((e,t)=>{const{schemaId:a}=t,{getFlightsSelectors:n}=Object(Z.b)(e),{getFlightCard:s}=n(),{departureAirportDesc:i,departureAirportCode:r,departureAirportName:o,arrivalAirportDesc:l,arrivalAirportCode:c,arrivalAirportName:d,departureTime:m,arrivalTime:_,flightNumber:u,passengers:h,providerName:p,providerIataCode:g,reservationId:E}=s(a);return{departureAirportDesc:i,departureAirportCode:r,departureAirportName:o,arrivalAirportDesc:l,arrivalAirportCode:c,arrivalAirportName:d,departureTime:m,arrivalTime:_,flightNumber:u,passengers:h,providerName:p,providerIataCode:g,reservationId:E}}),Sn=a(18);const Nn="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAIAAAAlC+aJAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAeZJREFUeNrsmlFLAkEUhVVWcimNBJdWiAiKCgsq6sf30GNPQU9ZEYaUkaChZUWGG3Six3ZmZ/XujtK57JO7DOebmXvuvWD2+OQ0M8uRy8x4EIAABCAAAQhAAAIQgAAE+L8AjtRCe7tb+Xz4atc3zde392kHKC+VHCd8taOD2tl5PSEGsSsEicpNchwwFBfmpxoAG3xx1UifQTKJH9ud9BmEXSh9BnkbBQMePYMq3YVdCM7oVcpj7Pfvj1Xf0zAg6YMgSBYAeakHgER8c9dqhzKMgq9SUXlbVlf822YrWQAog0S3MKf5ZnNjDUKHw8+/r7pPPTza0rGoetXrvwgA4IixSTvb6/olIj8YLzrd3v1DO5IkF5mRH2G7m0Lg9h7u11SJFMOF6mpbTCFwvJqbZgSAQ+w/DywyVJcrk9YBtJMWAVy3MCkAvFJTm5KO0SgQqMQinj2mHWm92BQAXmSFIfLwY/RCqGsixd88YB6aMSP2RAb1aBBMeklYuGHLiTVDOxH8jkJmUoLidYVYFE+E6/meufrJR03hdhrqDTsLEfWSQ30s9T/z52VDZMx3rKiXGgbErpAt9TIAFtULAGDcsaheJgdMelX0M6ghSdTBLP+tQgACEIAABCAAAQhAAAIQgACW4luAAQAJVQdmI18HzQAAAABJRU5ErkJggg==";const Tn=Object(d.h)({viewEmail:{id:"flight.viewEmail",defaultMessage:"View email"},flightNumber:{id:"flight.flightNumber",defaultMessage:"Flight {flightNumber}"},confirmationNumber:{id:"flight.confirmation",defaultMessage:"Confirmation: {reservationId}"},depart:{id:"flight.depart",defaultMessage:"Depart"},arrive:{id:"flight.arrive",defaultMessage:"Arrive"}}),An={container:{width:"100%",maxWidth:`${197*p.GRID_UNIT}px`,minWidth:`${109*p.GRID_UNIT}px`,border:`1px solid ${p.FOURTH_LEVEL_GRAY}`,borderRadius:"2px",margin:`0 ${6*p.GRID_UNIT}px ${3*p.GRID_UNIT}px ${2*p.GRID_UNIT}px`},logo:{padding:`${3*p.GRID_UNIT}px`,verticalAlign:"top"},heading:{padding:`${3*p.GRID_UNIT}px 0 0 0`,fontSize:p.FONT_SIZE_M,fontWeight:p.BOLD,color:p.BLACK,verticalAlign:"middle",width:"88%"},headingCell:{whiteSpace:"nowrap",textOverflow:"ellipsis",overflow:"hidden",display:"inline-flex",flexFlow:"row nowrap",maxWidth:"100%",verticalAlign:"middle",lineHeight:"28px",padding:0},headingLeft:{flexGrow:1,whiteSpace:"pre",overflow:"hidden",textOverflow:"ellipsis"},headingRight:{whiteSpace:"nowrap",minWidth:"48px"},dateTimeGroup:{width:"25%",padding:0},airlineGroup:{padding:`0 0 0 ${8*p.GRID_UNIT}px`,width:"50%"},date:{color:p.FIRST_LEVEL_GRAY,fontSize:p.FONT_SIZE_XXS,padding:0,lineHeight:"20px"},time:{fontSize:p.FONT_SIZE_L,padding:0},bottomRow:{backgroundColor:p.FIFTH_LEVEL_GRAY,height:"32px"},centerInfo:{padding:`0 0 ${3*p.GRID_UNIT}px 0`},passengers:{padding:0,fontSize:p.FONT_SIZE_S,verticalAlign:"middle",width:"50%",maxWidth:0,textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"},reservation:{fontWeight:p.MEDIUM,padding:`0 0 0 ${8*p.GRID_UNIT}px`},tableBasic:{width:"100%",border:0,borderSpacing:0,padding:0},tableFixed:{width:"100%",border:0,borderSpacing:0,padding:0,tableLayout:"fixed"},tdBasic:{padding:0},tdLastColumn:{padding:`0 ${3*p.GRID_UNIT}px 0 0`,width:"99%"},viewEmail:{textAlign:"right",padding:`${4*p.GRID_UNIT}px 0 0 0`,width:"99%"},viewEmailLink:{color:p.BASE_LINK_COLOR,fontSize:p.FONT_SIZE_XXS}},Mn={container:Object.assign({},An.container,{border:`1px solid ${Object(Sn.rgba)(p.WHITE,.2)}`}),heading:Object.assign({},An.heading,{color:p.WHITE,opacity:.8}),date:Object.assign({},An.date,{color:p.WHITE,opacity:.6}),time:Object.assign({},An.time,{color:p.WHITE,opacity:.8}),bottomRow:Object.assign({},An.bottomRow,{backgroundColor:Object(Sn.rgba)(p.WHITE,.1),color:p.WHITE,opacity:.8}),viewEmailLink:Object.assign({},An.viewEmailLink,{color:"#4FAAFF"})},Dn=({actualTime:e,dateFallback:t,isDarkMode:a})=>{const n=function(e){return 25===e.length?Date.parse(e.substr(0,e.length-6)+"-00:00"):Date.parse(e)}(e),s=Number.isNaN(n);return r.a.createElement("table",{style:An.tableBasic},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:a?Mn.date:An.date},s?t:r.a.createElement(d.a,{value:n,timeZone:"UTC",weekday:"short",day:"numeric",month:"short"}))),r.a.createElement("tr",null,r.a.createElement("td",{style:a?Mn.time:An.time},s?"--":r.a.createElement(d.e,{value:n,timeZone:"UTC",hour:"numeric",minute:"2-digit"})))))};class On extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleViewEmail=((e,t)=>{e.preventDefault();const{listId:a,groupId:n}=this.props;this.context.navigateTo({route:t,streamItem:{listId:a,groupId:n},i13nModel:{interactionType:V.d.click,mKey:V.e.TRAVEL_READ_MSG,sec:V.g.TRAVEL_LIST,mKeyGroup:V.f.open_msg}})}),t}render(){const{departureAirportDesc:e,departureAirportCode:t,departureAirportName:a,arrivalAirportDesc:n,arrivalAirportCode:s,arrivalAirportName:i,departureTime:o,arrivalTime:l,flightNumber:c,passengers:d,providerName:m,providerIataCode:_,reservationId:u,listId:h,groupId:p}=this.props,g=Object(E.n)(h,p),{formatMessage:b}=this.context.intl,C=e||a,f=n||i,v=this.context.getThemeMode()===T.f.DARK;return r.a.createElement("div",{style:v?Mn.container:An.container,"data-test-id":"flight-card"},r.a.createElement("table",{style:An.tableBasic},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:An.logo},r.a.createElement(ca.c,{contact:{iataCode:_},size:ca.b.C,useFallbackImage:!1,customFallbackImageData:Nn})),r.a.createElement("td",{style:An.tdLastColumn},r.a.createElement("table",{style:An.tableBasic},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:An.tdBasic},r.a.createElement("table",{style:An.tableBasic},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:v?Mn.heading:An.heading,"data-test-id":"card-heading"},r.a.createElement("table",{style:An.tableFixed},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:An.headingCell},r.a.createElement("span",{style:An.headingLeft},C,t?` (${t})`:""," - ",f," "),r.a.createElement("span",{style:An.headingRight},s?`(${s})`:"")))))),r.a.createElement("td",{style:An.viewEmail},r.a.createElement("a",{href:this.context.getUrlFromRoute(g),style:v?Mn.viewEmailLink:An.viewEmailLink,onClick:e=>this.handleViewEmail(e,g),"data-test-id":"view-email"},b(Tn.viewEmail)))))))),r.a.createElement("tr",null,r.a.createElement("td",{style:An.centerInfo},r.a.createElement("table",{style:An.tableBasic},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:An.dateTimeGroup,"data-test-id":"depart-date"},r.a.createElement(Dn,{actualTime:o,dateFallback:b(Tn.depart),isDarkMode:v})),r.a.createElement("td",{style:An.dateTimeGroup,"data-test-id":"arrive-date"},r.a.createElement(Dn,{actualTime:l,dateFallback:b(Tn.arrive),isDarkMode:v})),r.a.createElement("td",{style:An.airlineGroup},r.a.createElement("table",{style:An.tableBasic},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:v?Mn.date:An.date,"data-test-id":"airline-name"},m)),r.a.createElement("tr",null,r.a.createElement("td",{style:v?Mn.time:An.time,"data-test-id":"flight-no"},b(Tn.flightNumber,{flightNumber:c}))))))))))))))),r.a.createElement("tr",{style:v?Mn.bottomRow:An.bottomRow},r.a.createElement("td",null," "),r.a.createElement("td",{style:An.tdLastColumn},r.a.createElement("table",{style:An.tableBasic},r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",{style:An.passengers},d.join(", ")),r.a.createElement("td",{style:An.reservation,"data-test-id":"confirmation"},b(Tn.confirmationNumber,{reservationId:u}))))))))))}}On.contextTypes={intl:d.i.isRequired,navigateTo:s.a.func,getUrlFromRoute:s.a.func,getThemeMode:s.a.func};var kn=yn(On),Rn=a(880),xn=a(1123),Pn=a.n(xn);const wn=Object(d.h)({link_loyalty_card:{id:"retailer_card.link_loyalty_card",defaultMessage:"Link loyalty card"},view_coupons:{id:"retailer_card.view_coupons",defaultMessage:"View coupons"}});class Fn extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showQuotientModal:!1},this.handleLoyaltyCardLinkClick=(e=>{e.stopPropagation(),this.setState({showQuotientModal:!0})}),this.renderLoyaltyCardLink=(e=>{const{formatMessage:t}=this.context.intl;return r.a.createElement("div",{className:e.actionContainer},r.a.createElement("div",{"data-test-id":"loyalty-card-link",className:e.link},t(wn.link_loyalty_card)))}),this.renderViewCouponsLink=(e=>{const{formatMessage:t}=this.context.intl;return r.a.createElement("div",{className:e.actionContainer},r.a.createElement("div",{"data-test-id":"view-coupons-link",className:e.link},t(wn.view_coupons)))}),this.handleQuotientModalClose=(()=>{this.setState({showQuotientModal:!1})}),this.handleQuotientModalSuccess=(()=>{this.setState({showQuotientModal:!1})}),this.renderQuotientModal=(e=>r.a.createElement(Rn.default,{"data-test-id":"quotient-modal",retailerId:e,onSuccess:this.handleQuotientModalSuccess,onClose:this.handleQuotientModalClose,parentName:"grocerystorelist"})),this.handleRetailerCardClick=(e=>{const{id:t,linked:a}=this.props.retailerInfo,n={mKey:V.e.QTNTVIEW_SMARTVIEW_ACTION,sec:V.g.QUOTIENT,actionData:{reason:{featurefamily:g.ib.IC,featurename:g.kb.QUOTIENT,viewtype:"grocerystorelist",actiontype:a?"viewcoupon":"linkstore",origin:"smartview"}}};a?this.context.navigateTo({route:Object(E.k)(t),i13nModel:n}):(this.handleLoyaltyCardLinkClick(e),this.props.quotientModalShown({i13nModel:n}))}),t}render(){const{brandImage:e,retailerInfo:{id:t="",displayName:a="",linked:n=!1}={},showTextVariant:s}=this.props,i=this.context.getTheme(),o=this.context.getThemeMode(),l=_()(Pn.a,{themeMode:o,themeCombo:`${o}_${i}`});return r.a.createElement("a",{"data-test-id":"retailer-card","aria-label":a,onClick:this.handleRetailerCardClick,className:l.container},r.a.createElement("div",{"data-test-id":"retailer-icon",className:l.icon},r.a.createElement("img",{className:l.image,src:e,onError:e=>Object(Ya.a)(e,g.Fc)}),r.a.createElement("div",{className:l.overlayContainer},r.a.createElement("div",{className:l.overlay}))),r.a.createElement("div",{"data-test-id":"retailer-header",className:l.header},a),n||s?this.renderViewCouponsLink(l):this.renderLoyaltyCardLink(l),this.state.showQuotientModal?this.renderQuotientModal(t):null)}}Fn.contextTypes={intl:d.i.isRequired,getTheme:s.a.func,getThemeMode:s.a.func,navigateTo:s.a.func};var Ln=Object(B.b)((e,t)=>{const{getRetailersSelectors:a,isFeatureEnabled:n}=Object(Z.b)(e),{getBrandImageFromRetailerId:s}=a();return{brandImage:s(t.retailerInfo.id),showTextVariant:n(g.kb.QUOTIENT_TEXT_VARIANT)}},e=>({quotientModalShown:t=>e(Object(ka.i)(t))}))(Fn),Bn=a(1124),Hn=a.n(Bn);var Un=class extends r.a.Component{render(){const{retailerGroup:e}=this.props,t=_()(Hn.a);return r.a.createElement("div",{className:t.container},e.map(e=>r.a.createElement(Ln,{key:e.id,retailerInfo:e})))}},jn=a(1125),Wn=a.n(jn);var Gn=Object(B.b)((e,t)=>{const{getRoute:a,getOffersSelectors:n}=Object(Z.b)(e),{getOffer:s,isOfferActivated:i}=n(),{offerId:r}=t,o=a(),l=Object(C.t)(o),c=Object(C.r)(l),d=Object(C.p)(l)||"";return{isActivatedOffer:"ACTIVATED_OFFER_CARDS"===c||i(r),offer:s(r),retailerId:d}},e=>({clipOffer:t=>e(Object(ka.b)(t))}))(class extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={offerCardState:!1},this.toggleOfferCardState=(()=>{this.setState({offerCardState:!this.state.offerCardState})}),this.handleOfferActivate=(e=>{e.stopPropagation();const{clipOffer:t,retailerId:a,offer:n}=this.props;t({retailerId:a,offer:n})}),this.handleImageError=(e=>Object(Ya.a)(e,g.Fc)),t}render(){const{offerDescription:e,brandName:t,imageUrl:a,dateDiff:n,offerValue:s,isActivatedOffer:i,type:o}=this.props,l=_()(Wn.a,{expandedCardState:this.state.offerCardState});return r.a.createElement("div",{"data-test-id":"offer-list-item",className:l.container,onClick:this.toggleOfferCardState},r.a.createElement("div",{className:l.svgStyle},r.a.createElement("img",{className:l.icon,src:a,onError:this.handleImageError})),r.a.createElement("div",{className:l.cardDetails},r.a.createElement("div",{className:l.cardTitle},t),r.a.createElement("div",{className:l.cardDescription},e),r.a.createElement("div",{className:l.expiryTime},r.a.createElement(ha.a,{type:o,daysUntilExpiry:n}))),r.a.createElement("div",null,i?r.a.createElement(H.a,{className:l.buttonClipped,"data-test-id":"offer-list-item-btn-clipped"},r.a.createElement(ge.b,{kind:j.b.CHECKMARK,size:j.d.S,colorState:j.a.SECOND_LEVEL_GRAY}),r.a.createElement("span",{className:l.buttonTextUnclipped},r.a.createElement(d.c,{id:"offer_list_item.added",defaultMessage:"Added"}))):r.a.createElement(H.a,{className:l.buttonUnclipped,onClick:this.handleOfferActivate,"data-test-id":"offer-list-item-btn"},r.a.createElement(ge.b,{kind:j.b.ADD,size:j.d.M,colorState:j.a.SUCCESS}),s?r.a.createElement("span",{className:l.buttonTextUnclipped},r.a.createElement(d.c,{id:"offer_list_item.save",defaultMessage:"Save"})," ",r.a.createElement("span",{className:l.buttonTextAmount},s)):r.a.createElement("span",{className:l.buttonTextUnclipped},r.a.createElement(d.c,{id:"offer_list_item.save_now",defaultMessage:"Save now"})))))}}),Zn=a(1126),Vn=a.n(Zn);class qn extends r.a.Component{render(){const{offers:e,type:t}=this.props,a=_()(Vn.a);return r.a.createElement("div",{className:a.container},e.map(({brandName:e,dateDiff:a,description:n,imageUrl:s,offerId:i,offerValue:o=""})=>r.a.createElement(Gn,{brandName:e,dateDiff:a,imageUrl:s,key:i,offerDescription:n,offerId:i,offerValue:o,type:t})))}}var zn=a(974),Yn=a.n(zn),Kn=a(108),Xn=a(423);const Qn=Object(d.h)({claimedOfferStatus:{id:"yahoo_deal.claimed_offer_status",defaultMessage:"claimed offers {percentage}%"}});class $n extends r.a.Component{constructor(...e){var t;return t=super(...e),this.renderPrice=(e=>r.a.createElement("div",{className:e.priceContainer},r.a.createElement("div",{className:e.price},this.props.promotionPrice||this.props.price),this.props.promotionPrice?r.a.createElement("div",{className:e.originalPrice},this.props.price):null)),this.renderClaimedOfferStatus=(e=>r.a.createElement("span",{className:e.claimedOffer},this.context.intl.formatMessage(Qn.claimedOfferStatus,{percentage:this.props.claimedOffer}))),this.yahooDealCardClicked=(()=>{this.props.yahooDealCardClicked({mKey:V.e.YAHOO_DEAL_CARD_CLICKED,sec:V.g.COUPONS_LIST,actionData:{dealType:this.props.type}})}),t}render(){const{description:e,imageUrl:t,price:a,claimedOffer:n,url:s,category:i,columns:o,startTime:l}=this.props,c=this.context.getCss(Yn.a,{columns:o}),d=n&&Date.now()>new Date(l);return r.a.createElement("a",{className:c.container,href:s,rel:"noreferrer",target:"_blank",onClick:this.yahooDealCardClicked},t?r.a.createElement("img",{className:c.image,src:t}):null,r.a.createElement("div",{className:c.descriptionContainer},i?r.a.createElement("div",{className:c.category},i):null,r.a.createElement("div",{className:c.description},e),a?this.renderPrice(c):null,d?this.renderClaimedOfferStatus(c):null))}}$n.contextTypes={intl:d.i.isRequired,getCss:s.a.func};var Jn=Object(B.b)(e=>{const{getMainContentWidth:t}=Object(Z.b)(e);return{columns:Object(Xn.a)(t())}},e=>({yahooDealCardClicked:t=>e(Object(Kn.x)(t))}))($n);class es extends r.a.Component{render(){const{products:e,hasBorder:t,lastItem:a}=this.props,n=this.context.getCss(Yn.a,{lastItem:a});return r.a.createElement("div",{className:t?n.rowWrapper:null},r.a.createElement("div",{className:t?n.rowContainerWithBorder:n.rowContainer},e.map(e=>r.a.createElement(Jn,babelHelpers.extends({key:e.id},e)))))}}es.contextTypes={getCss:s.a.func};var ts=es;const as=Object(d.h)({expiringTime:{id:"yahoo_deal.expiring_time",defaultMessage:"Expires in {remainingTime}"},expires:{id:"yahoo_deal.expires",defaultMessage:"Expires: {remainingTime}"},expiringToday:{id:"yahoo_deal.expiring_today",defaultMessage:"Deals expiring today"},expiringTomorrow:{id:"yahoo_deal.expiring_tomorrow",defaultMessage:"Deals expiring tomorrow"},startsAt:{id:"yahoo_deal.starts_at",defaultMessage:"Starts at {startTime}"},expiredMessage:{id:"vacation_response_settings.v2.expired_message",defaultMessage:"Expired"}}),ns=Object(Re.c)(["NOT_STARTED","STARTED","EXPIRED"]);class ss extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={activityStatus:ns.NOT_STARTED},this.renderActivityStatus=(()=>{const{formatMessage:e,formatTime:t}=this.context.intl,{startTime:a,endTime:n}=this.props;switch(this.state.activityStatus){case ns.NOT_STARTED:return e(as.startsAt,{startTime:t(new Date(a))});case ns.STARTED:return r.a.createElement(d.c,{id:"yahoo_deal.expires",defaultMessage:"Expires: {remainingTime}",values:{remainingTime:r.a.createElement(d.d,{value:new Date(n),updateInterval:1e3})}});case ns.EXPIRED:return e(as.expiredMessage);default:return null}}),this.handleActivityStarted=(()=>{this.setState({activityStatus:ns.STARTED}),this.timer=setTimeout(()=>this.setState({activityStatus:ns.EXPIRED}),new Date(this.props.endTime)-Date.now())}),t}componentDidMount(){const{startTime:e,endTime:t}=this.props,a=Date.now(),n=new Date(e)-a;n>0?this.timer=setTimeout(this.handleActivityStarted,n):a<new Date(t)?this.handleActivityStarted():this.setState({activityStatus:ns.EXPIRED})}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{endTime:e}=this.props,t=this.context.getCss(Yn.a),{formatMessage:a}=this.context.intl,n=new Date(e),s=new Date,i=n.getDate()>s.getDate();return r.a.createElement("div",{className:t.activityHeader},r.a.createElement("span",null,a(i?as.expiringTomorrow:as.expiringToday)),r.a.createElement("div",{className:t.countdownContainer},this.renderActivityStatus()))}}ss.contextTypes={intl:d.i.isRequired,getCss:s.a.func};var is=ss;const rs=Object(d.h)({dealsForYou:{id:"yahoo_deal.deals_for_you",defaultMessage:"Deals for you"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"}});class os extends r.a.Component{render(){const e=this.context.getCss(Yn.a),{formatMessage:t}=this.context.intl;return r.a.createElement("div",{className:e.headerWrapper},r.a.createElement("div",{className:e.headerContainer},r.a.createElement("div",{className:e.headerText},r.a.createElement("div",{className:e.headerIcon},r.a.createElement(ge.b,{kind:j.b.DEALS,colorState:j.a.INVERTED,size:j.d.M})),t(rs.dealsForYou)),this.props.shouldShowToggleButton?r.a.createElement(H.a,{onClick:this.props.toggleView,marginLess:!0,overridingClass:e.headerButton},t(this.props.isExpanded?rs.viewLess:rs.viewMore)):null))}}os.contextTypes={intl:d.i.isRequired,getCss:s.a.func};var ls=Object(B.b)((e,{yahooDealListId:t})=>{const{getYahooDealsSelectors:a,getListsSelectors:n}=Object(Z.b)(e),{getRecommendedProducts:s}=a(),{isListExpanded:i}=n();return{shouldShowToggleButton:s().length>4,isExpanded:i(t)}},(e,{yahooDealListId:t})=>({toggleView:()=>e(z({listId:t,i13nModel:{mKey:V.e.TOGGLE_LIST_VISIBILITY,sec:V.g.COUPONS_LIST}}))}))(os),cs=a(1127),ds=a.n(cs);const ms=Object(d.h)({flights_no_upcoming:{id:"empty_results.flights_no_upcoming",defaultMessage:"No upcoming flights"},flights_empty_desc:{id:'empty_results.flights_empty_desc"',defaultMessage:"Connect another mailbox to see all of your {viewType, select,\n            TRAVEL_VIEW_UPCOMING {upcoming}\n            TRAVEL_VIEW_PAST {past}\n        } flights in one place"},flights_no_past:{id:"empty_results.flights_no_past",defaultMessage:"No past flights"},add_a_mailbox:{id:"empty_results.add_a_mailbox",defaultMessage:"Add a mailbox"},coupons_empty_heading:{id:"empty_results.coupons_empty_heading",defaultMessage:"No deals found"},coupons_empty_desc:{id:"empty_results.coupons_empty_desc",defaultMessage:"Connect another mailbox to see all of your deals in one place"},receipts_empty_heading:{id:"empty_results.receipts_empty_heading",defaultMessage:"Have purchases in another email account?"},receipts_empty_desc:{id:"empty_results.receipts_empty_desc",defaultMessage:"Get your order confirmations organized in one place and we can help you save on purchases."},offers_empty_heading:{id:"empty_results.offers_empty_heading",defaultMessage:"Oops"},retailers_empty_desc:{id:"empty_results.retailers_empty_desc",defaultMessage:"Unable to reach the server. Please try again."},offers_empty_desc:{id:"empty_results.offers_empty_desc",defaultMessage:"{retailerName} has no coupons to add at this time. Please come back later."}});class _s extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleAddMailbox=(e=>{e.preventDefault(),this.context.navigateTo({route:Object(E.s)({settingsGroupId:g.ld.ACCOUNTS}),i13nModel:{mKey:V.e.SETTINGS_LEFT_RAIL_ACCOUNTS,sec:this.sec,interactionType:Object(b.i)(e)}})}),this.renderAddMailbox=(()=>{const e=this.context.getCss(ds.a),{formatMessage:t}=this.context.intl;return r.a.createElement("div",{className:e.addMailbox},r.a.createElement("a",{"data-test-id":"add-mailbox",className:e.addMailboxLink,href:this.context.getUrlFromRoute({name:g.Pc.SETTINGS,params:{settingsGroupId:g.ld.ACCOUNTS}}),onClick:this.handleAddMailbox},t(ms.add_a_mailbox)))}),t}render(){const{listId:e}=this.props,t=Object(C.r)(e),a=Object(C.q)(e),{formatMessage:n}=this.context.intl,s=this.context.getThemeMode(),i=this.context.getCss(ds.a,{moreDescriptionPadding:a===g.Db.COUPON_CARDS,themeMode:s});switch(a){case g.Db.TRAVEL_CARDS:return this.sec=V.g.TRAVEL_LIST,r.a.createElement("div",{className:i.container,"data-test-id":"empty-results"},r.a.createElement("div",{className:i.subContainer},r.a.createElement("div",null,r.a.createElement("img",{"data-test-id":"empty-img",src:t===g.Eb.TRAVEL_VIEW_UPCOMING?Object(w.a)("/img/flights_upcoming.png"):Object(w.a)("/img/flights_past.png"),className:i.travelImage})),r.a.createElement("div",{className:i.heading,"data-test-id":"empty-heading"},n(t===g.Eb.TRAVEL_VIEW_UPCOMING?ms.flights_no_upcoming:ms.flights_no_past)),r.a.createElement("div",{className:i.description,"data-test-id":"empty-desc"},n(ms.flights_empty_desc,{viewType:t})),this.renderAddMailbox()));case g.Db.COUPON_CARDS:return this.sec=V.g.COUPONS_LIST,r.a.createElement("div",{className:i.container,"data-test-id":"empty-results"},r.a.createElement("div",{className:i.subContainer},r.a.createElement("div",null,r.a.createElement("img",{"data-test-id":"empty-img",src:s===T.f.DARK?Object(w.a)("/img/coupon_emptystate_dark.png"):Object(w.a)("/img/coupon_emptystate_light.png"),className:i.couponImage})),r.a.createElement("div",{className:i.heading,"data-test-id":"empty-heading"},n(ms.coupons_empty_heading)),r.a.createElement("div",{className:i.description,"data-test-id":"empty-desc"},n(ms.coupons_empty_desc)),this.renderAddMailbox()));case g.Db.REFUND_CARDS:return r.a.createElement("div",{className:i.container,"data-test-id":"empty-results"},r.a.createElement("div",{className:i.subContainer},r.a.createElement("div",null,r.a.createElement("img",{"data-test-id":"empty-img",src:Object(w.a)("/img/receipt_empty_state.png"),className:i.receiptImage})),r.a.createElement("div",{className:i.heading,"data-test-id":"empty-heading"},n(ms.receipts_empty_heading)),r.a.createElement("div",{className:i.description,"data-test-id":"empty-desc"},n(ms.receipts_empty_desc)),this.renderAddMailbox()));case g.Db.OFFER_CARDS:case g.Db.GROCERY_STORES:{const e=a===g.Db.OFFER_CARDS;return r.a.createElement("div",{className:e?i.offersContainer:i.container,"data-test-id":"empty-results"},r.a.createElement("div",{className:i.subContainer},r.a.createElement("div",null,r.a.createElement("img",{"data-test-id":"empty-img",src:Object(w.a)("/img/offers_empty_state.png"),className:i.offerImage})),r.a.createElement("div",{className:e?i.offersHeading:i.heading,"data-test-id":"empty-heading"},e?"":n(ms.offers_empty_heading)),r.a.createElement("div",{className:e?i.offersDescription:i.description,"data-test-id":"empty-desc"},n(e?ms.offers_empty_desc:ms.retailers_empty_desc,{retailerName:this.props.retailerName}))))}}return null}}_s.contextTypes={getCss:s.a.func,intl:d.i.isRequired,navigateTo:s.a.func,getUrlFromRoute:s.a.func,getThemeMode:s.a.func};var us=Object(B.b)((e,{listId:t})=>{const{getRetailersSelectors:a}=Object(Z.b)(e),{getRetailersFromRetailerIds:n}=a(),s=n([Object(C.p)(t)||""]);return{retailerName:Object(Re.a)(s,"0.displayName","")}})(_s),hs=a(1020),ps=a.n(hs),gs=a(260);class Es extends i.Component{constructor(...e){var t;return t=super(...e),this.handleViglinkClick=(()=>{this.props.viglinkClicked({i13nModel:{mKey:V.e.COUPON_LIST_VIGLINK_CLICKED,sec:V.g.COUPONS_LIST,actionData:{url:this.props.dealLink}}})}),this.src=(()=>{const{fromEmail:e}=this.props,{appId:t}=this.context;return Object(gs.a)({email:e},80,ca.a,t)}),t}render(){const{fromName:e,description:t,daysUntilExpiry:a,isInferredDate:n,viglinkEnabled:s,dealLink:i,isWideView:o}=this.props,l=this.context.getCss(ps.a,{isWideView:o}),c=s&&i?{href:Object(_a.c)(i,g.D),onClick:this.handleViglinkClick,target:"_blank",title:t,rel:"noreferrer"}:null;return r.a.createElement("a",babelHelpers.extends({className:l.container},c),r.a.createElement("img",{className:l.image,src:this.props.imageUrl||this.src()}),r.a.createElement("span",{className:l.content},r.a.createElement("span",{className:l.fromName},e),r.a.createElement("span",{className:l.description},t),r.a.createElement("span",{className:l.expiration},r.a.createElement(ha.a,{daysUntilExpiry:a,isInferred:n}))))}}Es.contextTypes={getCss:s.a.func,appId:s.a.string};var bs=Object(la.a)(Es);class Cs extends r.a.Component{render(){const e=this.context.getCss(ps.a);return r.a.createElement("div",{className:e.row},this.props.items.map(e=>r.a.createElement(bs,babelHelpers.extends({key:e.schemaId},e))))}}Cs.contextTypes={getCss:s.a.func};const fs=_()(h.a),vs=()=>{},Is=e=>{e.stopPropagation(),e.preventDefault()},ys=e=>t=>Object(C.q)(t)===e,Ss=ys(g.Db.TRAVEL_CARDS),Ns=ys(g.Db.REFUND_CARDS);class Ts extends i.Component{constructor(e){super(e),this.handleShortcuts=this.handleShortcuts.bind(this),this.getItemHeight=this.getItemHeight.bind(this),this.formatItem=this.formatItem.bind(this),this.navigateTo=this.navigateTo.bind(this),this.renderVirtualList=this.renderVirtualList.bind(this),this.renderRightPane=this.renderRightPane.bind(this),this.renderResizer=this.renderResizer.bind(this),this.handleSlide=this.handleSlide.bind(this),this.onScrollTop=this.onScrollTop.bind(this),this.setStickyTimechunkRef=this.setStickyTimechunkRef.bind(this),this.reversedTimeChunkIndices=[],this.state={hSliderPos:p.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:p.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET,size:0,stickyTimeChunkIndex:0}}buildTimeChunkIndices(){const e=[];this.props.items.forEach((t,a)=>{Object(C.q)(t.listId)===g.Db.TIMECHUNK&&e.push(a)}),e.reverse(),this.reversedTimeChunkIndices=e}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts),this.buildTimeChunkIndices(),this.props.items.length&&this.updateStickyHeader(0)}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys),clearTimeout(this.stickyHeaderUpdateTimer)}componentDidUpdate(){this.buildTimeChunkIndices(),this.updateStickyHeader(this.props.items.length?0:-1)}handleShortcuts(e){if(Is(e),this.container.contains(e.target)||e.target.contains(this.container)){const{cursorItem:t}=this.props;"Enter"===e.code&&t&&this.navigateTo({route:Object(E.n)(t.listId,t.id),i13nModel:{interactionType:Object(b.i)(e),mKey:V.e.OPEN_MSG,sec:V.g.MSG_LIST_MSG,mKeyGroup:V.f.open_msg}}),this.props.onKeyDown(e)}}navigateTo(){const{streamId:e,cursorItem:t}=this.props;this.context.navigateTo(babelHelpers.extends({streamId:e,streamItem:t},Object.assign.apply({},arguments)))}formatTimeChunk({index:e,scrollable:t,shadow:a,isUpdateSticky:n}){if(t&&0===e)return null;const s={},{items:i}=this.props;return i[e]&&Object(C.q)(i[e].listId)===g.Db.TIMECHUNK?(s.leftPadded=!t,s.shadow=a,Ss(this.props.listId)&&(s.fixedInTravelCard=!t,s.leftPadded=!1),Ns(this.props.listId)&&n&&(s.leftPadded=!1,s.stickyTimechunk=!0),r.a.createElement(D,{style:s,context:this.context,type:i[e].type,value:i[e].value})):null}formatTravelItem(e){return r.a.createElement(kn,{schemaId:e.id,cardConversationId:e.cardConversationId,listId:e.listId,groupId:e.groupId})}formatItem(e,{isScrolling:t,itemIndex:a,itemStartIndex:n}){const s=Object(C.q)(e.listId);switch(a===n&&(clearTimeout(this.stickyHeaderUpdateTimer),this.stickyHeaderUpdateTimer=setTimeout(()=>this.updateStickyHeader(n),0)),s){case g.Db.MESSAGES:return r.a.createElement($t,babelHelpers.extends({streamId:this.props.streamId,groupId:e.id,isScrolling:t,tabIndex:p.TabIndices.MESSAGE_LIST_MAIN,navigateTo:this.navigateTo},e,this.props.actions[s],{itemHeight:e.listItemHeight}));case g.Db.TRAVEL_CARDS:return this.formatTravelItem(e);case g.Db.TIMECHUNK:return this.formatTimeChunk({index:a,scrollable:!0});case g.Db.LOAD_MORE:return r.a.createElement(te,null);case g.Db.COUPON_SEPARATOR:return r.a.createElement(O,{type:g.Db.COUPON_SEPARATOR,value:e.id,context:this.context,dealsViewV2:this.props.dealsViewV2});case g.Db.TOP_DEALS_HEADER:return r.a.createElement(X,null);case g.Db.ZERO_SAVED_COUPONS:return r.a.createElement(L,{context:this.context});case g.Db.COUPON_CARDS:return e.items?r.a.createElement(Cs,{items:e.items}):r.a.createElement(Ea,{schemaId:e.schemaId,listId:e.listId,cardMid:e.cardMid,onCouponClick:this.navigateTo,isScrolling:t,hideBottomBorder:e.isLastItemInGroup});case g.Db.REFUND_CARDS:return r.a.createElement(pn,{onReceiptClick:this.navigateTo,schemaId:e.schemaId,listId:e.listId,cardMid:e.cardMid,messageId:e.messageId,conversationId:e.conversationId,orderDate:e.orderDate,itemName:e.itemName,price:e.price,numItems:e.numItems,currency:e.currency,hideBottomBorder:e.isLastItemInGroup});case g.Db.ZERO_SAVED_GROCERY_STORES:return r.a.createElement(Oa,null);case g.Db.GROCERY_STORES:return r.a.createElement(Un,{retailerGroup:e.retailers});case g.Db.GROCERY_STORES_SEPARATOR:return r.a.createElement(k,{type:g.Db.GROCERY_STORES_SEPARATOR,value:e.linked,context:this.context});case g.Db.SINGLE_STORE_SEPARATOR:return r.a.createElement(R,{type:g.Db.SINGLE_STORE_SEPARATOR,context:this.context});case g.Db.OFFER_CARDS:return r.a.createElement(qn,{type:g.Db.OFFER_CARDS,offers:e.offers});case g.Db.YAHOO_DEAL_CARDS:return r.a.createElement(ts,{products:e.products,hasBorder:e.hasBorder,lastItem:e.lastItem});case g.Db.YAHOO_DEAL_ACTIVITY_HEADER:return r.a.createElement(is,{startTime:e.startTime,endTime:e.endTime});case g.Db.YAHOO_DEAL_HEADER:return r.a.createElement(ls,{yahooDealListId:e.yahooDealListId});case g.Db.ADS:return null;default:return e}}getItemHeight(e){switch(Object(C.q)(e.listId)){case g.Db.COUPON_SEPARATOR:case g.Db.TOP_DEALS_HEADER:return 1!==e.id||this.props.dealsViewV2?p.ITEM_LIST_SEPARATOR_HEIGHT:2*p.ITEM_LIST_SEPARATOR_HEIGHT;case g.Db.RECEIPT_SEPARATOR:case g.Db.TIMECHUNK:case g.Db.GROCERY_STORES_SEPARATOR:case g.Db.SINGLE_STORE_SEPARATOR:return p.ITEM_LIST_SEPARATOR_HEIGHT;case g.Db.LOAD_MORE:return p.MESSAGE_LIST_ITEM_COMPACT_NORMAL_HEIGHT;case g.Db.MESSAGES:return e.listItemHeight;case g.Db.COUPON_CARDS:return e.items?p.DEAL_ITEM_HEIGHT:p.COUPON_LIST_ITEM_HEIGHT;case g.Db.REFUND_CARDS:return p.RECEIPT_LIST_ITEM_HEIGHT;case g.Db.TRAVEL_CARDS:return p.TRAVEL_LIST_ITEM_HEIGHT;case g.Db.ZERO_SAVED_GROCERY_STORES:return p.ZERO_SAVED_GROCERY_STORES_ITEM_HEIGHT;case g.Db.GROCERY_STORES:return p.RETAILERS_LIST_ITEM_HEIGHT;case g.Db.OFFER_CARDS:return p.OFFER_CARD_ITEM_HEIGHT;case g.Db.ZERO_SAVED_COUPONS:return p.ZERO_SAVED_COUPONS_VIEW_HEIGHT;case g.Db.YAHOO_DEAL_CARDS:return p.YAHOO_DEAL_ITEM_HEIGHT;case g.Db.YAHOO_DEAL_ACTIVITY_HEADER:case g.Db.YAHOO_DEAL_HEADER:return p.YAHOO_DEAL_ACTIVITY_HEADER_HEIGHT;case g.Db.ADS:return 0}}setStickyTimechunkRef(e){this.stickyTimechunkNode=e}updateStickyHeader(e){if(!Object(qt.b)())return;if(e<0&&this.stickyTimechunkNode)return void(this.stickyTimechunkNode.innerHTML="");const t=e?this.reversedTimeChunkIndices.find(t=>t<e+1):0;this.stickyTimeChunkIndex=t;const a=this.formatTimeChunk({index:t,scrollable:!1,shadow:e>0,isUpdateSticky:!0});a&&l.a.render(r.a.createElement(d.f,window.AppIntl,r.a.createElement(c.FluxibleComponent,{context:this.context,store:this.context.store},a)),this.stickyTimechunkNode)}onScrollTop(){this.updateStickyHeader(0)}renderStaticHeader(){const{listId:e,items:t}=this.props,a=Object(C.q)(e),n=0===t.length;switch(a){case g.Db.TRAVEL_CARDS:return r.a.createElement(In.a,{listId:this.props.listId});case g.Db.COUPON_CARDS:case g.Db.YAHOO_DEAL_CARDS:return r.a.createElement(ba.a,null);case g.Db.REFUND_CARDS:return r.a.createElement(vn,{isEmpty:n});case g.Db.GROCERY_STORES:return r.a.createElement(ya,null);case g.Db.OFFER_CARDS:return r.a.createElement(cn,null);default:return null}}renderStickyHeader(){if(Object(qt.b)())return r.a.createElement("div",{"data-test-id":"mail-reader-sticky-header",ref:this.setStickyTimechunkRef,style:h.a});const e=this.formatTimeChunk({index:0,scrollable:!1});return e?r.a.createElement("div",{"data-test-id":"mail-reader-sticky-header"},e):null}renderListResult(){const{previewpane:e,streamId:t,items:a,hasMoreItems:n,loadMoreItems:s,listId:i}=this.props,{hSliderPos:o,vSliderPos:l,size:c}=this.state,d=Object(C.q)(i),m=Object(C.r)(i),_=[g.Db.GROCERY_STORES,g.Db.OFFER_CARDS].includes(d)?{}:{padding:`0 ${4*p.GRID_UNIT}px`};return d===g.Db.OFFER_CARDS&&(m===g.Eb.ACTIVATED_OFFER_CARDS&&(_.padding=`${2*p.GRID_UNIT}px 0`),this.context.getThemeMode()===T.f.DARK&&(_.background=p.WHITE)),_.flexBasis=e===g.Bc.RIGHT?`${o}%`:c>0?`${l/100*c}px`:`${l}%`,a.length?r.a.createElement(f.a,{key:t,items:a,bufferSize:100,getItemHeight:this.getItemHeight,formatItem:this.formatItem,loadMoreItems:n?s:vs,styles:_,onScrollTop:this.onScrollTop}):r.a.createElement(us,{listId:this.props.listId})}renderVirtualList(){const{status:e,items:t,listId:a}=this.props,n=Object(C.q)(a);return 0===t.length&&e===g.Mc.ERROR?n===g.Db.OFFER_CARDS||n===g.Db.GROCERY_STORES||n===g.Db.YAHOO_DEAL_CARDS?r.a.createElement(us,{listId:a}):r.a.createElement(v.a,null):r.a.createElement("div",{className:fs.container,"data-test-id":"virtual-list-container"},e===g.Mc.LOADING&&0===t.length?r.a.createElement("div",{className:fs.loadingContainer},r.a.createElement(J.b,null)):this.renderListResult())}renderRightPane(){return r.a.createElement("div",{className:fs.rightPane},r.a.createElement("div",{className:fs.blank},r.a.createElement(ra.a,{listId:this.props.listId,streamId:this.props.streamId})))}handleSlide(e,t,a){this.setState({[e]:t,size:a})}renderResizer(){const{previewpane:e,previewpaneResizable:t,isRTL:n}=this.props;return r.a.createElement(oa.a,{import:"../../apps/mail/molecules/resizer",isEmpty:!1,previewpane:e,previewpaneResizable:t,resize:this.handleSlide,isRTL:n,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,881))},_moduleResolver:function(){return 881}})}getPreviewpaneStyle(){const{previewpane:e,previewpaneResizable:t}=this.props,{hSliderPos:a,vSliderPos:n,size:s}=this.state;let i,r={},o=0;const l=e;if(e===g.Bc.RIGHT){if(t){const e=parseFloat(a);o=e>p.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET?e:p.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET}}else r={flexBasis:s>0?`${n/100*s}px`:`${n}%`},t&&(i=parseFloat(n));return{splitType:l,style:r,verticalOffset:i,horizontalOffset:o}}render(){const e=this.getPreviewpaneStyle(),t=this.props.previewpane===g.Bc.RIGHT;return r.a.createElement("div",{className:fs.mailReader,"data-test-id":"mail-reader","data-test-preview":e.splitType,ref:e=>{this.container=e}},this.renderStaticHeader(),r.a.createElement("div",{className:fs.toolbar,"data-test-id":"mail-reader-toolbar"},this.props.hideToolbar?null:r.a.createElement(Jt.default,this.props)),r.a.createElement("div",{className:fs.listWrapper},r.a.createElement("div",{className:fs.listContainer,"data-test-id":"mail-reader-list-container"},t?[r.a.createElement("div",{key:"list-pane",height:e.verticalOffset,className:fs.leftPane,style:e.style,ref:"leftPane","data-test-id":"left-pane"},this.renderStickyHeader(),this.renderVirtualList()),this.renderResizer(),this.renderRightPane()]:r.a.createElement("div",{key:"list-pane",className:fs.fullPane,"data-test-id":"full-pane"},this.renderStickyHeader(),this.renderVirtualList()))))}}Ts.defaultProps={listenKeys:[],hasMoreItems:!1,loadMoreItems:vs},Ts.contextTypes={navigateTo:s.a.func,executeAction:s.a.func,getStore:s.a.func,getCss:s.a.func,getThemeMode:s.a.func,store:s.a.object,intl:s.a.object,bindShortcut:s.a.func,unbindShortcut:s.a.func,hideToolbar:s.a.bool};t.default=Object(I.a)(Ts)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(151),d=a(38),m=a(56),_=a(0),u=a(9),h=a(213),p=a(3);const g=Object(l.h)({WHEN:{id:"rsvp.when",defaultMessage:"When"},WHERE:{id:"rsvp.where",defaultMessage:"Where"},GOING_MSG:{id:"rsvp.going",defaultMessage:"Yes, I'm going"},EDIT:{id:"rsvp.edit",defaultMessage:"Edit"},MAY_BE_GOING_MSG:{id:"rsvp.maybe",defaultMessage:"I might go"},NOT_GOING_MSG:{id:"rsvp.no",defaultMessage:"No, I'm not going"},WHO:{id:"rsvp.who",defaultMessage:"Who"},VIDEO_CALL:{id:"rsvp.videoCall",defaultMessage:"Video Call"},YES:{id:"rsvp.response.yes",defaultMessage:"Yes"},MAYBE:{id:"rsvp.response.maybe",defaultMessage:"Maybe"},NO:{id:"rsvp.response.no",defaultMessage:"No"},ACCEPTED:{id:"rsvp.response.accepted",defaultMessage:"Accepted"},TENTATIVE:{id:"rsvp.response.tentative",defaultMessage:"tentative"},DECLINED:{id:"rsvp.response.declined",defaultMessage:"Declined"},LOAD_ERROR:{id:"rsvp.error",defaultMessage:"An error occurred retrieving the invite information. "},RELOAD:{id:"rsvp.reload",defaultMessage:"Reload"},NUMBER_GUESTS_INVITED:{id:"rsvp.guestsInvited",defaultMessage:"{amount} {amount, plural, one {guest} other {guests}} invited"}}),E={ACCEPT:"ACCEPTED",MAYBE:"TENTATIVE",DECLINE:"DECLINED"};var b=a(24),C=a(15),f=a(118),v=a.n(f),I=a(11),y=a.n(I),S=a(1081),N=a.n(S);function T(e,t){const a=y()(N.a,{compact:e.compact}),{formatMessage:n,formatDate:s}=t.intl,{startTime:i,endTime:o,location:c,summary:d,isSameDay:m,attendees:_,videoLink:u}=e.inviteInfo,h={weekday:"short",year:"numeric",month:"short",day:"numeric",hour:"numeric",minute:"numeric"},E={hour:"numeric",minute:"numeric"},b=i?s(i,m?E:h):null,f=o?s(o,m?E:h):null,I=_.length<=2?_.join(", "):n(g.NUMBER_GUESTS_INVITED,{amount:_.length}),S=[{shouldRender:b&&f,icon:p.b.CLOCK,heading:n(g.WHEN),description:`${b} - ${f}`},{shouldRender:!!c,icon:p.b.LOCATION_MARKER,heading:n(g.WHERE),description:r.a.createElement("div",{className:a.ellipsisText},v()(c))},{shouldRender:!!I,icon:p.b.GUEST_LIST,heading:n(g.WHO),description:r.a.createElement("div",{className:a.ellipsisText},I)},{shouldRender:!!u,icon:p.b.VIDEO_CALL,heading:n(g.VIDEO_CALL),description:r.a.createElement("a",{className:a.videoLink,href:u,target:"_blank",rel:"noreferrer"},r.a.createElement("div",{className:a.ellipsisText},u))}].filter(e=>e.shouldRender).slice(0,e.compact?2:4),T=S.map(e=>r.a.createElement("div",{key:e.icon,className:S.length>2?a.infoItem:a.infoItemFull},r.a.createElement("div",{className:a.iconContainer},r.a.createElement(C.b,{kind:e.icon,colorState:p.a.SECOND_LEVEL_GRAY})),r.a.createElement("div",{className:a.infoDetails},r.a.createElement("span",{className:a.infoHeading},e.heading),r.a.createElement("div",{className:a.infoDescription},e.description))));return r.a.createElement("div",{className:a.infoTable},r.a.createElement("div",{className:a.headingContainer},r.a.createElement("div",{className:a.title},r.a.createElement("div",{className:a.ellipsisText},v()(d))),r.a.createElement("a",{onClick:e.handleCalendarURLClick,className:a.calendarLink,href:e.calendarURL,target:"_blank",rel:"noopener"},r.a.createElement(l.c,{id:"rsvp.calendarLink",defaultMessage:"View on Calendar"}))),r.a.createElement("div",{className:a.contentContainer},T))}T.contextTypes={intl:l.i};var A=a(1082),M=a.n(A);function D(e,t){const{size:a,inviteInfo:{startTime:n}}=e,{intl:{formatDate:s},getTheme:i}=t,o=y()(M.a,{size:a,[`theme-${i()}`]:!0});if(!n)return null;const l=`${s(n,{weekday:"short"})}, ${s(n,{month:"short"})}`;return r.a.createElement("div",{className:o.container},r.a.createElement(C.b,{kind:p.b.CALENDAR_EMPTY,colorState:p.a.INVERTED,size:e.size}),r.a.createElement("div",{style:{WebkitBackgroundClip:"text"},className:o.dateText},n.getDate()),r.a.createElement("div",{className:o.subText},l.toUpperCase()))}D.contextTypes={getTheme:s.a.func,intl:l.i};var O=a(1083),k=a.n(O);const R=y()(k.a);class x extends r.a.Component{constructor(e){super(e),P.call(this);const{inviteInfo:{response:t}={}}=e;this.state={showEdit:"NEEDS_ACTION"===t,load:!1}}componentWillReceiveProps(e){const{inviteInfo:{response:t}={}}=this.props,{inviteInfo:{response:a}={}}=e;t!==a&&this.loadChange()}render(){const{inviteInfo:{state:e}={}}=this.props;return r.a.createElement("div",{"data-test-id":"container",className:R.container},"REPLY"!==e?this.responseNoReply():this.responseReply())}}x.contextTypes={intl:l.i};var P=function(){this.loadChange=(()=>{this.setState({load:!this.state.load})}),this.showEditChange=(()=>{this.setState({showEdit:!this.state.showEdit})}),this.renderResponse=(()=>{const{formatMessage:e}=this.context.intl,{inviteInfo:{response:t}={}}=this.props;if(!this.state.load)switch(t){case E.ACCEPT:return r.a.createElement("div",{className:R.yes},r.a.createElement("span",{className:R.icon},r.a.createElement(C.b,{kind:p.b.CAL_ACCEPT,size:p.d.XS,colorState:p.a.SUCCESS})),e(g.GOING_MSG));case E.MAYBE:return r.a.createElement("div",{className:R.maybe},r.a.createElement("span",{className:R.icon},r.a.createElement(C.b,{kind:p.b.CAL_MAYBE,size:p.d.XS,colorState:p.a.FIRST_LEVEL_ORANGE})),e(g.MAY_BE_GOING_MSG));case E.DECLINE:return r.a.createElement("div",{className:R.no},r.a.createElement("span",{className:R.icon},r.a.createElement(C.b,{kind:p.b.CAL_DECLINE,size:p.d.XS,colorState:p.a.WARNING})),e(g.NOT_GOING_MSG))}}),this.responseNoReply=(()=>{const{formatMessage:e}=this.context.intl,{inviteInfo:{response:t}={},respondToInvite:a,replyLinks:n}=this.props,s=[{replyString:E.ACCEPT,displayMessage:e(g.YES)},{replyString:E.MAYBE,displayMessage:e(g.MAYBE)},{replyString:E.DECLINE,displayMessage:e(g.NO)}].map(e=>(function(e){const{replyString:t,displayMessage:a,inviteResponse:n,respondToInvite:s,replyLinks:i,onShowEditChange:o,onLoadShow:l}=e,c=i&&i[t],d=n===t,m=y()(k.a,{isChecked:d});return r.a.createElement("a",{key:t,onClick:e=>{c?window.open(c,"_blank"):(e.preventDefault(),e.stopPropagation(),d||l(),s(t)),o()},"data-test-id":t,className:m.replyText,href:"#"},a)})(babelHelpers.extends({onLoadShow:this.loadChange,onShowEditChange:this.showEditChange,respondToInvite:a,inviteResponse:t,replyLinks:n},e)));return r.a.createElement("div",{className:R.confirmationText},r.a.createElement("span",{className:R.text},r.a.createElement(l.c,{id:"rsvp.eventReply",defaultMessage:"Are you going?"})),this.state.load&&r.a.createElement("div",{className:R.loadingContainer,"data-test-id":"rsvp-loader"},r.a.createElement(m.b,{size:m.a.S})),this.state.showEdit?s:r.a.createElement("div",{className:R.showEdit},this.renderResponse(),r.a.createElement("a",{onClick:this.showEditChange,className:R.edit,href:"#"},e(g.EDIT))))}),this.responseReply=(()=>{const{formatMessage:e}=this.context.intl,{inviteInfo:{firstAttendeeStatus:t,firstAttendeeEmail:a}={}}=this.props;switch(t){case E.ACCEPT:return r.a.createElement("div",{className:R.confirmationText},a,":",r.a.createElement("div",{className:R.yes},r.a.createElement("span",{className:R.icon},r.a.createElement(C.b,{kind:p.b.CAL_ACCEPT,size:p.d.XS,colorState:p.a.SUCCESS})),e(g.ACCEPTED)));case E.MAYBE:return r.a.createElement("div",{className:R.confirmationText},a,":",r.a.createElement("div",{className:R.maybe},r.a.createElement("span",{className:R.icon},r.a.createElement(C.b,{kind:p.b.CAL_MAYBE,size:p.d.XS,colorState:p.a.FIRST_LEVEL_ORANGE})),e(g.TENTATIVE)));case E.DECLINE:return r.a.createElement("div",{className:R.confirmationText},a,":",r.a.createElement("div",{className:R.no},r.a.createElement("span",{className:R.icon},r.a.createElement(C.b,{kind:p.b.CAL_DECLINE,size:p.d.XS,colorState:p.a.WARNING})),e(g.DECLINED)))}})},w=a(1084),F=a.n(w);a.d(t,"RsvpView",function(){return L});class L extends r.a.Component{constructor(...e){var t;return t=super(...e),this.getReplyLinks=(()=>{const{messageBodyHtml:e}=this.props,t={};if(e&&Object(b.b)()){const a=Object(c.getInertElement)(e).querySelectorAll("a"),n={[E.ACCEPT]:"Yes",[E.MAYBE]:"Maybe",[E.DECLINE]:"No"};Object.keys(n).forEach(e=>{const s=n[e],i=Array.prototype.find.apply(a,[e=>e.innerHTML.indexOf(s)>=0]);t[e]=i?i.href:null})}return Object.keys(t).every(e=>t[e])?t:null}),this.renderRsvpReply=(()=>{const{inviteInfo:e,rsvpResponseEnabled:t,parseRsvpReplyLinks:a}=this.props,n=a&&this.getReplyLinks();if(t||n)return r.a.createElement(x,{inviteInfo:e,respondToInvite:e=>this._respondToInvite(e),replyLinks:n||null})}),this._getInviteInfo=(()=>{const{name:e}=this.context.timezone,{eventAttachment:{downloadUrl:t},folder:{name:a},messageId:n,getInviteInfo:s}=this.props;s({messageId:n,params:{downloadUrl:t,folderName:a,timezoneName:e}})}),this._respondToInvite=(e=>{const{messageId:t,respondToInvite:a,inviteInfo:{response:n},uid:s,folder:i,inviteInfo:{email:r}}=this.props;a({response:e,oldResponse:n,uid:s,folder:i,messageId:t,email:r})}),this._navigateToCalendar=(()=>{const{navigateToCalendar:e,messageId:t}=this.props;e({messageId:t})}),t}componentDidMount(){this.props.inviteStatus||this._getInviteInfo()}render(){const{intl:{formatMessage:e}}=this.context,{inviteStatus:t,inviteInfo:a,compact:n,calendarURL:s}=this.props,i=y()(F.a,{compact:n}),o={ERROR:r.a.createElement("div",{className:i.errorMessage},e(g.LOAD_ERROR)),LOADING:r.a.createElement("div",{className:i.loadingContainer},r.a.createElement(m.b,{size:m.a.S})),READY:r.a.createElement("div",{className:i.container},r.a.createElement(D,{inviteInfo:a,size:n?p.d.L:p.d.XL}),r.a.createElement("div",{className:i.content},r.a.createElement(T,{inviteInfo:a,compact:n,calendarURL:s,handleCalendarURLClick:this._navigateToCalendar}),this.renderRsvpReply()))};return o[t]?r.a.createElement("div",{className:i.wrapper},o[t]):null}}L.contextTypes={intl:l.i,timezone:d.e};t.default=Object(o.b)((e,t)=>{const{messageId:a}=t,{getFeaturesSelectors:n,getCalendarSelectors:s,getMessageBodiesSelectors:i}=Object(u.b)(e),r=s(),o=n(),l=o.isEnabled(_.kb.RSVP_RESPONSE),c=o.isEnabled(_.kb.PARSE_RSVP_REPLY_LINKS),d=i(),m=r.getInviteStatus(a),h="READY"===m?r.getInviteUid(a):null,p=r.getInviteInfo(a),g=o.getSetting(_.id.CALENDAR_URL),E=d.doesMessageBodyExist(a)&&d.get(a);return{messageBodyHtml:E&&E.html||"",rsvpResponseEnabled:l,parseRsvpReplyLinks:c,inviteStatus:m,inviteInfo:p,uid:h,calendarURL:g}},e=>({getInviteInfo:t=>e(Object(h.a)(t)),respondToInvite:t=>e(Object(h.e)(t)),navigateToCalendar:t=>e(Object(h.d)(t))}))(L)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(26),l=a(4),c=a(13),d=a(9),m=a(374),_=a(61),u=a(0),h=a(1068),p=a.n(h),g=a(11),E=a.n(g);const b=E()(p.a),C=Object(l.h)({featured:{id:"featured",defaultMessage:"Featured"},everyday:{id:"everyday",defaultMessage:"Everyday"},birthday:{id:"birthday",defaultMessage:"Birthday"},seasonal:{id:"seasonal",defaultMessage:"Seasonal"}});class f extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{const{selectedCategory:t}=this.props;e!==t&&this.props.onCategoryChange(e)}),this.renderCategories=(()=>{const{formatMessage:e}=this.context.intl,{selectedCategory:t}=this.props;return Object.keys(u.xd).map(a=>{const n=a===t,s=E()(p.a,{selected:n}),i=e(C[a]);return r.a.createElement("li",{key:a,className:s.category,onClick:this.handleClick.bind(this,a),title:i},r.a.createElement("span",null,i))})}),t}render(){return r.a.createElement("div",{className:b.categoryContainer},r.a.createElement("ul",{className:b.categoryList},this.renderCategories()))}}f.contextTypes={intl:l.i.isRequired};var v=f,I=a(1069),y=a.n(I);const S=E()(y.a),N=Object(l.h)({default_text:{id:"compose.default_text",defaultMessage:"Default"},clear_text:{id:"compose.clear_text",defaultMessage:"Clear"},none_text:{id:"compose.none_text",defaultMessage:"None"}});var T=class extends r.a.Component{constructor(...e){var t;return t=super(...e),this.renderThumbnailImage=(()=>{const{defaultThemeObject:e}=this.props;return e.uniqueId?r.a.createElement("img",{"data-test-id":"default-theme-thumbnail",className:S.themeThumbnailImage,src:e.url}):r.a.createElement("div",{className:S.themeThumbnailImage})}),this._onDefaultThemeChange=(e=>{e.stopPropagation(),this.props.onDefaultThemeChange()}),t}render(){const{defaultThemeObject:e}=this.props;return r.a.createElement("div",{className:S.defaultThemeContainer},r.a.createElement("div",{className:S.defaultText},r.a.createElement(l.c,N.default_text)),this.renderThumbnailImage(),e.uniqueId?r.a.createElement("div",{"data-test-id":"clear-default-button",className:S.clearText,onClick:this._onDefaultThemeChange},r.a.createElement(l.c,N.clear_text)):r.a.createElement("div",{className:S.noneText},r.a.createElement(l.c,N.none_text)))}},A=a(1070),M=a.n(A),D=a(1013),O=(a(8),a(23));const k=Object(l.h)({clear_default:{id:"compose.clear_default",defaultMessage:"Clear Default"},set_as_default:{id:"compose.set_as_default",defaultMessage:"Set as Default"}});class R extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1},this.handleHover=(e=>{this.setState({isHovered:e})}),this.handleItemClick=(e=>{this.props.onItemChange(e)}),t}render(){const{item:e,isSelected:t,isDefault:a,toolbarKind:n}=this.props,{locale:s}=this.context.intl,i="en"!==Object(D.a)(s),{isHovered:o}=this.state,c=E()(M.a,{selected:t,hideStationeryTitle:i,toolbarKind:n}),d=t&&o&&a,m=this.props.showSetDefault&t&&o&&!a;return r.a.createElement("div",{"data-test-id":"stationery-carousel-item",onMouseEnter:this.handleHover.bind(this,!0),onMouseLeave:this.handleHover.bind(this,!1),onClick:this.handleItemClick.bind(this,e.uniqueId),className:c.item},r.a.createElement("div",{className:c.thumbnailContainer},d?r.a.createElement("div",{"data-test-id":"clear-default-button",className:c.selectionOverlay,onClick:e=>{e.stopPropagation(),this.props.onDefaultItemClear()}},r.a.createElement(l.c,k.clear_default)):null,m?r.a.createElement("div",{"data-test-id":"set-default-button",className:c.selectionOverlay,onClick:t=>{t.stopPropagation(),this.props.onDefaultItemChange(e.uniqueId)}},r.a.createElement(l.c,k.set_as_default)):null,r.a.createElement("img",{className:c.itemThumbnailImage,src:e.url})),i?null:r.a.createElement("span",{className:c.itemName,title:e.themeDisplayName},e.themeDisplayName),r.a.createElement("span",{className:c.itemProviderName,title:e.themeProviderName},e.themeProviderName))}}R.defaultProps={showSetDefault:!0},R.contextTypes={intl:l.i.isRequired};var x=R,P=a(1071),w=a.n(P),F=a(443),L=a.n(F),B=a(21),H=a(5),U=a(3),j=a(196),W=a.n(j);a.d(t,"Stationery",function(){return q}),a.d(t,"mapStateToProps",function(){return Y}),a.d(t,"mapDispatchToProps",function(){return K});const G={default:120,vacationResponse:92},Z=Object(l.h)({close:{id:"stationery_popup.btn_close",defaultMessage:"Close"}}),V=100;class q extends r.a.Component{constructor(e,t){super(e,t),z.call(this);const a=e.selectedTheme||e.defaultTheme,n=e.selectedCategory||this.getInitialSelectedCategory(a);this.handleKeyDown=W()(this.handleKeyDown,V),this.state={selectedTheme:a,selectedCategory:n,xButtonHovered:!1}}static getDerivedStateFromProps(e,t){return e.selectedTheme!==t.selectedTheme?{selectedTheme:e.selectedTheme}:null}render(){const{selectedCategory:e,selectedTheme:t}=this.state,{rtl:a,width:n,left:s,right:i,bottom:o,showDefaultTheme:c,showThemeCategories:d,toolbarKind:_,isRTL:u}=this.props,h=!(!t||t===O.NO_STATIONERY),{formatMessage:p}=this.context.intl,g=E()(w.a,{toolbarKind:_});return r.a.createElement("section",{ref:e=>(this._stationeryContainer=e)&&this._stationeryContainer.focus(),"data-test-id":"stationery-menu",onClick:this.stopPropagation,className:g.wrapperContainer,tabIndex:0,onKeyDown:this.handleKeyDown,style:babelHelpers.extends({width:Math.max(n,O.STATIONERY_MIN_WIDTH)+"px"},!u&&{left:s+"px"},u&&{right:i-n+"px"},{bottom:o+"px"})},c?r.a.createElement(T,{defaultThemeObject:this.getDefaultThemeObject(),onDefaultThemeChange:this.handleClearDefaultStationery}):null,d?r.a.createElement(v,{selectedCategory:e,onCategoryChange:this.handleCategoryChange}):null,r.a.createElement("div",{className:g.stationeryContainer},r.a.createElement("div",{className:g.clearStationeryButtonContainer},h?r.a.createElement("span",{"data-test-id":"clear-stationery",className:g.clearStationeryButton,onClick:this.handleClearStationery},r.a.createElement(l.c,{id:"compose.clear_stationery",defaultMessage:"Clear Stationery"})):null,r.a.createElement("span",{className:g.closeWrapper,onMouseEnter:this.handleXButtonHover,onMouseLeave:this.handleXButtonHover},r.a.createElement(B.a,{"data-iskeynav":!0,"data-test-id":"stationery-close-button",kind:U.b.CLOSE,size:U.d.XXS,onClick:this.props.onHide,title:p(Z.close),colorState:this.state.xButtonHovered?U.a.NORMAL:U.a.DISABLED}))),r.a.createElement("div",{className:g.carouselContainer},r.a.createElement(m.b,{itemWidth:_===O.ToolbarTypes.VACATION_RESPONSE_SETTINGS?G.vacationResponse:G.default,toolbarKind:_,rtl:a,initialAnimation:!1,ref:this._setCarouselReference,didMount:this._carouselDidMount,isRTL:u},this.renderItems()))))}}q.contextTypes={executeAction:s.a.func,config:s.a.object.isRequired,intl:l.i.isRequired},q.defaultProps={left:0,width:0,bottom:0,showDefaultTheme:!0,showThemeCategories:!0,categoriesToShow:[]};var z=function(){this.getInitialSelectedCategory=(e=>{const{defaultTheme:t,getThemeConfig:a}=this.props,n=a(e,t);if(n){const{categories:e=""}=n;return e.split(",")[0]}return Object.keys(u.xd)[0]}),this.handleCategoryChange=(e=>{this.setState({selectedCategory:e},()=>{this._carousel.setAnimation(!1),this._carousel.setOffset(0)})}),this.updateTheme=(e=>{e!==this.state.selectedTheme&&(this.setState({selectedTheme:e}),this._carousel.setAnimation(!0));const t=this.props.getThemeConfig(e,this.props.defaultTheme);this.props.onThemeChange(e?t:null,this._getI13nModel(t))}),this._getI13nModel=(e=>e?{mKey:H.e.COMPOSE_ADD_STATIONERY,sec:H.g.RTE_TOOLBAR,actionData:{uniqueThemeName:e.uniqueThemeName}}:{mKey:H.e.COMPOSE_CLEAR_STATIONERY,sec:H.g.RTE_TOOLBAR}),this.handleClearStationery=(()=>{this.updateTheme(null)}),this.handleClearDefaultStationery=(()=>{const{defaultTheme:e}=this.props;e===this.state.selectedTheme&&this.props.onThemeChange(this.props.getThemeConfig(this.state.selectedTheme,"")),this.props.handleDefaultThemeChange({nextTheme:"",i13nModel:this._getI13nModel()})}),this.setDefaultStationery=(e=>{const t=this.props.getThemeConfig(this.state.selectedTheme,e);this.props.onThemeChange(t),this.props.handleDefaultThemeChange({nextTheme:t.uniqueThemeName,i13nModel:this._getI13nModel(t)})}),this.getItems=(()=>{const{stationeryRestrictedThemes:e,categoriesToShow:t,isStationeryThemeDatesEnabled:a}=this.props,{selectedCategory:n}=this.state,{intl:s}=this.context;return L.a.getByCategories([n,...t],{locale:s.locale,showRestrictedThemes:e,enableThemeDateRange:a}).map(this._themeObjectMapper)}),this.getDefaultThemeObject=(()=>{for(const e in L.a.config.stationeryThemes){const t=L.a.config.stationeryThemes[e];if(t.uniqueThemeName===this.props.defaultTheme)return this._themeObjectMapper(babelHelpers.extends({},t,{themeVersion:L.a.config.themeVersions[e]}))}return{}}),this._themeObjectMapper=(e=>{const{stationeryMobThmPath:t}=L.a.config,{uniqueThemeName:a,thmbnailImg:n,themeDisplayName:s,themeProviderName:i,themeVersion:r}=e;return{uniqueId:a,url:`${t}${r}/${a}/${n}`,themeDisplayName:s,themeProviderName:i}}),this.getCurrentIndex=(e=>{const{selectedTheme:t}=this.state;return t?e.findIndex(e=>e.uniqueId===t):-1}),this.navigate=(e=>{const t=this.getItems(),a=this.getCurrentIndex(t)+e;a>=0&&a<t.length&&this.updateTheme(t[a].uniqueId)}),this.handleKeyDown=((e={})=>{switch(e.key){case"ArrowLeft":this.navigate(-1);break;case"ArrowRight":this.navigate(1);break;case"Escape":case"Enter":this.props.onHide();break;default:return}e.stopPropagation(),e.preventDefault()}),this._navigateIfElementNotInTheView=((e,t)=>{const a=e.getBoundingClientRect(),n=t.getBoundingClientRect(),s=n.left+n.width,i=a.left+a.width;a.left<n.left?this._carousel.navHandle(m.a.PREV,n.width-a.width):s<i&&this._carousel.navHandle(m.a.NEXT,a.left-n.left-a.width)}),this._handleSelectedNode=((e,t)=>{e&&this.state.selectedTheme===t.uniqueId&&this.selectedItem!==e&&this._carousel&&this._carousel.carousel&&(this.selectedItem=e,this._navigateIfElementNotInTheView(Object(o.findDOMNode)(this.selectedItem),Object(o.findDOMNode)(this._carousel.carousel)))}),this.renderItem=(e=>{const{defaultTheme:t}=this.props,{selectedTheme:a}=this.state;return r.a.createElement(x,{item:e,isDefault:t===e.uniqueId,isSelected:a===e.uniqueId,onDefaultItemClear:this.handleClearDefaultStationery,onDefaultItemChange:this.setDefaultStationery,onItemChange:this.updateTheme,toolbarKind:this.props.toolbarKind,showSetDefault:this.props.showStationerySetDefault,ref:t=>this._handleSelectedNode(t,e)})}),this.renderItems=(()=>this.getItems().map(e=>r.a.createElement("div",{key:e.uniqueId},this.renderItem(e)))),this.handleXButtonHover=(e=>{this.setState({xButtonHovered:"mouseenter"===e.type})}),this._setCarouselReference=(e=>{e&&e!==this._carousel&&(this._carousel=e)}),this._carouselDidMount=(()=>{this.forceUpdate()}),this.stopPropagation=(e=>{e.stopPropagation()})};const Y=e=>{const{getEnvironmentSelectors:t,getFeaturesSelectors:a}=Object(d.b)(e);return{isRTL:"rtl"===t().getPageDirection(),isStationeryThemeDatesEnabled:a().isEnabled(u.kb.STATIONERY_THEME_DATES)}},K=e=>({handleDefaultThemeChange:({nextTheme:t,i13nModel:a})=>e(Object(_.a)({name:u.id.STATIONERY_DEFAULT_THEME,value:t,i13nModel:a}))});t.default=Object(c.b)(Y,K)(q)},function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(6),r=a.n(i),o=a(1080),l=a.n(o),c=a(10),d=a(9),m=a(13),_=a(4),u=a(73),h=a(1);var p=a(5),g=a(0),E=a(257),b=a(466),C=a(29);a.d(t,"EbayWarrantyUpsell",function(){return v}),a.d(t,"mapStateToProps",function(){return I}),a.d(t,"mapDispatchToProps",function(){return y});const f=Object(_.h)({header:{id:"ebayWarrantyUpsell.header",defaultMessage:"Worry-free shopping"},subHeader:{id:"ebayWarrantyUpsell.subHeader",defaultMessage:"Protect your recent purchases with an eBay warranty"},buttonText:{id:"ebayWarrantyUpsell.buttonText",defaultMessage:"Protect your purchases"}});class v extends n.Component{constructor(...e){var t;return t=super(...e),this.handleWarrantyClick=(()=>{const{orderedItems:e=[]}=this.props.receipt;this.props.onWarrantyClick({i13nModel:{mKey:p.e.EBAY_WARRANTY_UPSELL_CLICKED,sec:p.g.EBAY_WARRANTY_UPSELL,actionData:{position:this.props.position,type:Object(b.a)(e)}}}),window.open(this.constructClickUrl(),"_blank")}),this.constructClickUrl=(()=>{const{position:e,receipt:t}=this.props,{orderedItems:a=[]}=t,n=Object(b.a)(a);let s=E.d,i=E.a;if(i+=`&campid=${E.b[e][n]||E.b[g.eb.TOP][E.g.ELECTRONICS]}`,1===a.length){const{productID:e}=a[0];s=E.e+e}return i+`&mpre=${s}`}),t}render(){const{position:e}=this.props,{formatMessage:t}=this.context.intl,a=this.context.getThemeMode(),n=e===g.eb.RIGHT,i=(a===C.f.MEDIUM||a===C.f.DARK)&&!n,r={backgroundColor:c.WHITE,margin:0,borderBottom:`4px solid ${c.DEFAULT_BACKGROUND_COLOR}`},o={backgroundColor:c.WHITE,borderBottom:`1px solid ${c.FOURTH_LEVEL_GRAY}`,borderRight:`1px solid ${c.FOURTH_LEVEL_GRAY}`,borderLeft:`1px solid ${c.FOURTH_LEVEL_GRAY}`,color:c.BLACK},d=this.context.getCss(l.a,{rightRail:n});return s.a.createElement("div",{className:d.background,"data-test-id":"ebay-warranty-upsell",style:i?r:{}},s.a.createElement("div",{className:d.container,style:i?o:{}},s.a.createElement("div",{className:d.content},s.a.createElement("div",{className:d.imageContainer},s.a.createElement(u.c,{contact:{email:E.c},size:u.b.QUOTIENT_M})),s.a.createElement("div",{className:d.headersContainer},s.a.createElement("span",{className:d.header},t(f.header)),s.a.createElement("span",{className:d.subHeader},t(f.subHeader)))),s.a.createElement("button",{className:d.button,onClick:this.handleWarrantyClick},t(f.buttonText))))}}v.contextTypes={intl:_.i.isRequired,getCss:r.a.func,getThemeMode:r.a.func};const I=e=>{const{getReceiptFromMessageId:t}=Object(d.b)(e);return{receipt:t()}},y=e=>({onWarrantyClick:t=>e((e=>babelHelpers.extends({type:h.a.EBAY_WARRANTY_UPSELL_CLICKED},e))(t))});t.default=Object(m.b)(I,y)(v)},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";a.r(t),a.d(t,"strings",function(){return S}),a.d(t,"QuotientModal",function(){return N}),a.d(t,"mapStateToProps",function(){return T}),a.d(t,"mapDispatchToProps",function(){return A});a(6);var n=a(2),s=a.n(n),i=a(11),r=a.n(i),o=a(4),l=a(13),c=a(895),d=a.n(c),m=a(75),_=a(16),u=a(30),h=a(3),p=a(21),g=a(137),E=a(0),b=a(1),C=a(960),f=a(10),v=a(9),I=a(1061),y=a.n(I);const S=Object(o.h)({close:{id:"quotient_modal.close",defaultMessage:"Close"},phone_number_placeholder:{id:"quotient_modal.phone_number_placeholder",defaultMessage:"Enter phone number"},loyalty_card_placeholder:{id:"quotient_modal.loyalty_card_placeholder",defaultMessage:"Enter loyalty card number"},link:{id:"quotient_modal.link",defaultMessage:"Link loyalty card"},policyText:{id:"quotient_modal.policyText",defaultMessage:'By clicking <b>Link loyalty card</b>, you are agreeing to our partner\'s <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/terms-of-use/">Terms</a> and <a target=\'_blank\' style="color:#878C91; text-decoration:underline;" href="https://www.quotient.com/privacy-policy/">Privacy policy</a>'},validation_text:{id:"quotient_modal.validationText",defaultMessage:"Oops! Unable to link your card"}});class N extends s.a.Component{constructor(...e){var t;return t=super(...e),this.state={loyaltyId:"",isValid:!0},this.handleSuccessClick=(()=>{this.props.onSuccess(),this.props.closeModal()}),this.handleCloseClick=(()=>{this.props.onClose(),this.props.closeModal()}),this.handleOverlayClick=(e=>{e.preventDefault(),e.stopPropagation()}),this.handleInputChange=(e=>{this.setState({loyaltyId:e.target.value,isValid:!0})}),this.unmask=(e=>e.replace(/\D+/g,"")),this.linkCard=(()=>{const{linkRetailerRequested:e,parentName:t,proxyType:a,retailerId:n}=this.props;let{loyaltyId:s}=this.state;a===E.Hc.Phone&&(s=this.unmask(s)),e({retailerId:n,loyaltyId:s,parentName:t})}),t}componentWillReceiveProps(e){null!==e.linked&&(e.linked?(this.setState({isValid:!0}),this.handleSuccessClick()):this.setState({isValid:!1}))}componentDidMount(){this.textInput&&this.textInput.focus()}render(){const{brandImage:e,errorHint:t,proxyType:a,registrationInfo:n}=this.props,{isValid:i,loyaltyId:l}=this.state,{formatMessage:c}=this.context.intl,m=r()(y.a),b={width:`${82*f.GRID_UNIT}px`,height:`${11*f.GRID_UNIT}px`},v=c(a===E.Hc.Phone?S.phone_number_placeholder:S.loyalty_card_placeholder),I=i?n:t,N=I.includes("_blank")?I:I.replace("<a ",'<a target="_blank" '),T=i?"registrationInfo":"errorInfo",A=a===E.Hc.Phone&&["(",/[1-9]/,/\d/,/\d/,")"," ",/\d/,/\d/,/\d/,"-",/\d/,/\d/,/\d/,/\d/];return s.a.createElement(g.a,{onClose:this.handleOverlayClick},s.a.createElement("div",{className:m.dialog,"data-test-id":"quotient-modal"},s.a.createElement("div",{className:m.close},s.a.createElement(p.a,{"aria-label":c(S.close),"data-test-id":"quotient-modal-close-btn",kind:h.b.CLOSE,onClick:this.handleCloseClick,size:h.d.XS,title:c(S.close)})),s.a.createElement("div",{className:m.imgContainer},s.a.createElement("img",{className:m.logo,onError:e=>Object(C.a)(e,E.Fc),src:e}),s.a.createElement("div",{className:m.overlayContainer},s.a.createElement("div",{className:m.overlay}))),s.a.createElement("div",{className:m.inputContainer},s.a.createElement(d.a,{className:m.inputField,"data-test-id":"quotient-modal-text-input",guide:!0,mask:A,maxLength:"20",onChange:this.handleInputChange,placeholder:v,render:(e,t)=>s.a.createElement("input",babelHelpers.extends({},t,{ref:t=>{this.textInput=e(t)}})),type:"text"})),s.a.createElement("div",{className:i?m.noError:m.error,"data-test-id":"quotient-modal-validation-text"},c(S.validation_text)),s.a.createElement("div",{className:T?m[T]:m.noError,dangerouslySetInnerHTML:{__html:N},id:"quotient-modal-info"}),s.a.createElement("div",{className:m.policy,"data-test-id":"quotient-modal-policy-text"},s.a.createElement(o.b,S.policyText)),s.a.createElement("div",null,s.a.createElement(_.a,{"data-test-id":"quotient-modal-primary-btn",disabled:!(l&&i),kind:u.a.PRIMARY,onClick:this.linkCard,style:b},c(S.link)))))}}N.contextTypes={intl:o.i.isRequired},N.defaultProps={onSuccess:()=>{},onClose:()=>{}};const T=(e,{retailerId:t=""})=>{const{getRetailersSelectors:a}=Object(v.b)(e),{getBrandImageFromRetailerId:n,getErrorHintFromRetailerId:s,getProxyTypeFromRetailerId:i,getRegistrationInfoFromRetailerId:r,isLinkedRetailer:o}=a();return{brandImage:n(t),errorHint:s(t),linked:o(t),proxyType:i(t),registrationInfo:r(t)}},A=e=>({closeModal:()=>e({type:b.a.LINK_MODAL_CLOSED}),linkRetailerRequested:t=>e(Object(m.e)(t))});t.default=Object(l.b)(T,A)(N)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(26),l=a.n(o),c=a(8),d=a(0),m=a(343),_=a.n(m),u=a(152),h=a(24),p=a(10),g=a(19),E=a(196),b=a.n(E),C=a(124);const f=!1,v=0,I=0,y="hSliderPos",S="vSliderPos",N={x:{min:{percent:p.PREVIEW_PANE_CONSTRAINT_LEFT_PERCENT_OFFSET},max:{percent:p.PREVIEW_PANE_CONSTRAINT_RIGHT_PERCENT_OFFSET}},y:{min:{pixels:p.PREVIEW_PANE_CONSTRAINT_TOP_PIXELS_OFFSET},max:{pixels:p.PREVIEW_PANE_CONSTRAINT_BOTTOM_PIXELS_OFFSET}}};class T extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={dragging:!1},this.getLimits=(e=>{const{previewpane:t,isRTL:a}=this.props,n=t===d.Bc.RIGHT?N.x:N.y;let s,i,r,o,l=Object(c.a)(n,"min.percent",0)||0,m=Object(c.a)(n,"min.pixels",0)||0,_=Object(c.a)(n,"max.percent",100)||100,u=Object(c.a)(n,"max.pixels",0)||0;if(a){const t=l,a=m;l=100-_,m=e.width-u,_=100-t,u=e.width-a}t===d.Bc.RIGHT?(s=e.left+e.width*l/100,i=e.left+m,r=e.left+e.width*_/100,o=e.left+e.width-u):t===d.Bc.BOTTOM?(s=e.top+e.height*l/100,i=e.top+m,r=e.top+e.height*_/100,o=e.top+e.height-u):Object(g.a)(!1,`Unexpected orientation of preview pane during resize: ${t}`);let h=Math.max(s,i),p=Math.max(Math.min(r,o),h);return a&&(h=Math.min(s,i),p=Math.max(Math.max(r,o),h)),{min:h,max:p}}),this.resize=(()=>{const{previewpane:e,isRTL:t}=this.props,{resize:a,dragStart:n,resizerStart:s,parent:i}=this.state,r=this.resizer.getBoundingClientRect();let o,l,c;e===d.Bc.RIGHT?(l=s.left-i.rect.left+a.x-n.x,c=i.width,t&&(l=c-l),o=y):e===d.Bc.BOTTOM?(l=s.top-i.rect.top+a.y-n.y,c=i.height,o=S):Object(g.a)(!1,`Unexpected orientation of preview pane during resize: ${e}`),this.props.resize(o,l=100*l/c,c),this.setState({dragStart:{x:a.x,y:a.y},resizerStart:{left:r.left,top:r.top}}),f||(this.resizer.style.marginTop="",this.resizer.style.marginLeft="",this.resizer.style.marginRight=""),Object(C.b)(o,l)}),this.onDragStart=(e=>{const t=l.a.findDOMNode(this.resizer),a=t.parentNode,n=t.getBoundingClientRect(),s=a.getBoundingClientRect(),i=this.getLimits(s),{clientX:r,clientY:o}=e;e.stopPropagation(),e.preventDefault(),this.resizer.style.backgroundColor=p.PALETTE.ycolorGrayG,this.setState({dragging:!0,dragStart:{x:r,y:o},resize:{x:r,y:o},resizerStart:{left:n.left,top:n.top},parent:{rect:s,width:a.clientWidth,height:a.clientHeight},limits:i}),e.dataTransfer&&(this.dragIcon=Object(h.f)(e.dataTransfer,this.dragIcon),e.dataTransfer.setData("text","anything")),this._ffDragFunc=(e=>this.onDrag(e)),this._ffDragEndFunc=(e=>this.onDragEnd(e)),document.addEventListener("mousemove",this._ffDragFunc),document.addEventListener("mouseup",this._ffDragEndFunc)}),this.drag=(e=>{const{previewpane:t,isRTL:a}=this.props,{dragStart:n,limits:s}=this.state;let{clientX:i,clientY:r}=e;t===d.Bc.RIGHT?(i>s.max&&(i=s.max),i<s.min&&(i=s.min),this.setState({resize:{x:i,y:r}}),f||(a?this.resizer.style.marginRight=`${n.x-i}px`:this.resizer.style.marginLeft=`${i-n.x}px`)):t===d.Bc.BOTTOM?(r>s.max&&(r=s.max),r<s.min&&(r=s.min),this.setState({resize:{x:i,y:r}}),!f&&this.resizer&&(this.resizer.style.marginTop=`${r-n.y}px`)):Object(g.a)(!1,`We should not be dragging when there is no preview pane: ${t}`)}),this.onDrag=(e=>{this.state.dragging&&(e.stopPropagation(),e.preventDefault(),0!==e.clientX&&0!==e.clientY&&(this.throttledDrag?this.throttledDrag(e):this.drag(e),this.throttledResize&&this.throttledResize()))}),this.onDragEnd=(e=>{e.stopPropagation(),e.preventDefault(),Object(h.a)(this.dragIcon),this.dragIcon=null,this.resizer&&(this.resizer.style.backgroundColor=""),this.setState({dragging:!1}),this.resize(),document.removeEventListener("mousemove",this._ffDragFunc),document.removeEventListener("mouseup",this._ffDragEndFunc)}),t}shouldComponentUpdate(e,t){const a=this.props,n=this.state;return a.isEmpty!==e.isEmpty||a.previewpane!==e.previewpane||a.previewpaneResizable!==e.previewpaneResizable||f&&n.dragging!==t.dragging||f&&n.resize!==t.resize}componentDidMount(){const{previewpane:e,previewpaneResizable:t}=this.props,a=l.a.findDOMNode(this.resizer).parentNode;this.sliderPos={hSliderPos:t&&parseFloat(Object(C.a)(y))||p.PREVIEW_PANE_DEFAULT_LEFT_PERCENT_OFFSET,vSliderPos:t&&parseFloat(Object(C.a)(S))||p.PREVIEW_PANE_DEFAULT_TOP_PERCENT_OFFSET},v>0&&(this.throttledDrag=b()(this.drag,v,{leading:!0,trailing:!1})),I>0&&(this.throttledResize=b()(this.resize,I,{leading:!0,trailing:!1})),e===d.Bc.RIGHT?this.props.resize(y,this.sliderPos.hSliderPos,a.clientWidth):e===d.Bc.BOTTOM?this.props.resize(S,this.sliderPos.vSliderPos,a.clientHeight):Object(g.a)(!1,`Unexpected orientation of preview pane during resize: ${e}`),this._ffDragStartFunc=(e=>this.onDragStart(e)),this.resizer.addEventListener("mousedown",this._ffDragStartFunc)}componentDidUpdate(e){const{previewpane:t}=this.props,a=l.a.findDOMNode(this.resizer);t===d.Bc.BOTTOM&&e.previewpane===d.Bc.RIGHT&&this.props.resize(S,this.sliderPos.vSliderPos,a.parentNode.clientHeight)}componentWillUnmount(){this.resizer.removeEventListener("mousedown",this._ffDragStartFunc)}render(){const{previewpane:e,previewpaneResizable:t,isEmpty:a,isRTL:n}=this.props,s=this.context.getCss(_.a,{previewpane:e}),{resize:i,dragStart:o}=this.state;if(t&&!a){return r.a.createElement("div",{ref:e=>this.resizer=e,style:f&&this.state.dragging?{marginRight:n?`${o.x-i.x}px`:"",marginLeft:n?"":`${i.x-o.x}px`,marginTop:`${i.y-o.y}px`}:{},className:s.resizer,"data-test-id":"resizer"})}return r.a.createElement("div",{ref:e=>this.resizer=e,className:s.deadResizer,"data-test-id":"resizer"})}}T.contextTypes={getCss:s.a.func},t.default=u.a(T)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(10),c=a(1112),d=a.n(c),m=a(157),_=a(63),u=a(57),h=a(40),p=a(12),g=a(16),E=a(30),b=a(32),C=a(21),f=a(3),v=a(62),I=a(88),y=a(29),S=a(0),N=a(8);const T=Object(o.h)({select_messages:{id:"selection_controls.menu",defaultMessage:"Select messages"},select_all:{id:"selection_controls.select_all_messages",defaultMessage:"Select all messages"},deselect_all:{id:"selection_controls.deselect_all_messages",defaultMessage:"Deselect all messages"}});class A extends i.Component{constructor(e){super(e),this.handleCheckboxClicked=this.handleCheckboxClicked.bind(this)}handleCheckboxClicked(e){e.preventDefault();const{onSelectNone:t,onSelectAll:a,selectedItems:n}=this.props;n.length?t():a()}render(){const{selectedItems:e,previewpane:t,checkboxType:a}=this.props,n=this.context.getCss(d.a),{formatMessage:s,formatNumber:i}=this.context.intl,c=this.context.getThemeMode()===y.f.DARK,N=e.length;return r.a.createElement("div",{className:n.container},r.a.createElement("ul",{className:n.list},r.a.createElement(b.a,{kind:I.a.MESSAGE_SELECTION_CHECKBOX},r.a.createElement("span",{className:n.checkboxWrapper},r.a.createElement(m.b,{type:a,highContrast:!0,isInverted:c,isOnDarkBackground:c,"data-iskeynav":!0,paddingLess:!0,onClick:e=>this.handleCheckboxClicked(e)}))),r.a.createElement(b.a,{kind:I.a.MESSAGE_SELECTION_CHEVRON},r.a.createElement(_.a,null,r.a.createElement(u.a,null,r.a.createElement("span",{className:n.chevronWrapper},r.a.createElement(C.a,{kind:f.b.CHEVRON_UP,size:f.d.XS,rotate:f.c.D180,title:s(T.select_messages),"aria-label":s(T.select_messages),colorState:f.a.INHERITED,isOnDarkBackground:c,"data-iskeynav":!0,"data-test-id":"selection-controls-menu-button",paddingLess:!0}))),r.a.createElement(h.b,{permittedArrowDirections:[p.g.UP,p.g.DOWN],triggerOn:p.h.CLICK,offset:4*l.GRID_UNIT,align:p.a.START,zAltitude:l.ZIndices.POPOVER.HIGH},r.a.createElement("div",{className:n.popoverListWrapper},r.a.createElement(v.a,{focusOnMount:!0,"data-test-id":"selection-controls-menu"},r.a.createElement(b.a,{name:"select-all"},r.a.createElement(g.a,{kind:E.a.MENUITEM,onClick:()=>this.props.onSelectAll(),"data-test-id":"select-all-btn"},r.a.createElement(o.c,{id:"select_all",defaultMessage:"All"}))),r.a.createElement(b.a,{name:"select-none"},r.a.createElement(g.a,{kind:E.a.MENUITEM,onClick:()=>this.props.onSelectNone(),"data-test-id":"select-none-btn"},r.a.createElement(o.c,{id:"select_none",defaultMessage:"None"}))),r.a.createElement(b.a,{name:"select-read"},r.a.createElement(g.a,{kind:E.a.MENUITEM,onClick:()=>this.props.onSelectAllRead(),"data-test-id":"select-all-read-btn"},r.a.createElement(o.c,{id:"select_read",defaultMessage:"Read"}))),r.a.createElement(b.a,{name:"select-unread"},r.a.createElement(g.a,{kind:E.a.MENUITEM,onClick:()=>this.props.onSelectAllUnread(),"data-test-id":"select-all-unread-btn"},r.a.createElement(o.c,{id:"select_unread",defaultMessage:"Unread"}))),r.a.createElement(b.a,{name:"select-starred"},r.a.createElement(g.a,{kind:E.a.MENUITEM,onClick:()=>this.props.onSelectAllStarred(),"data-test-id":"select-all-starred-btn"},r.a.createElement(o.c,{id:"select_starred",defaultMessage:"Starred"}))),r.a.createElement(b.a,{name:"select-unstarred"},r.a.createElement(g.a,{kind:E.a.MENUITEM,onClick:()=>this.props.onSelectAllUnstarred(),"data-test-id":"select-all-unstarred-btn"},r.a.createElement(o.c,{id:"select_unstarred",defaultMessage:"Unstarred"})))))))),r.a.createElement(b.a,null,r.a.createElement("div",null,t===S.Bc.NO&&N>0?i(N):""))))}}A.contextTypes={intl:o.i.isRequired,getCss:s.a.func,getThemeMode:s.a.func};var M=A;const D=Object(o.h)({archive_msgs:{id:"archive_msgs",defaultMessage:"Archive the selected messages"}});class O extends r.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>r.a.createElement(o.c,{id:"archive_button.archive_label",defaultMessage:"Archive"})),t}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:a,showLabel:n,isCompact:s}=this.props,i=e(D.archive_msgs),o=this.context.getThemeMode()===y.f.DARK;return r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"toolbar-archive","aria-label":i,title:i,kind:f.b.ARCHIVE,disabled:t,onClick:a,size:f.d.XS,colorState:f.a.INHERITED,isOnDarkBackground:o,isCompact:s},n&&this._renderLabel())}}O.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func},O.defaultProps={showLabel:!0};var k=O;const R=Object(o.h)({restore_msgs:{id:"restore_from_archive",defaultMessage:"Restore selected messages to Inbox"}});class x extends r.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>r.a.createElement(o.c,{id:"archive_button.restore_label",defaultMessage:"Restore to Inbox"})),t}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:a,showLabel:n,isCompact:s}=this.props,i=e(R.restore_msgs),o=this.context.getThemeMode()===y.f.DARK;return r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"toolbar-archive-restore","aria-label":i,title:i,kind:f.b.RESTORE_TO_INBOX,disabled:t,onClick:a,size:f.d.XS,colorState:f.a.INHERITED,isOnDarkBackground:o,isCompact:s},n&&this._renderLabel())}}x.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func},x.defaultProps={showLabel:!0};var P=x,w=a(13),F=a(9),L=a(15),B=a(161),H=a(74),U=a(165),j=a(1113),W=a.n(j),G=a(7),Z=a(80),V=a(127),q=a.n(V);const z="d",Y="e",K="shift+d",X=Object(o.h)({multikey_shortcut:{id:"multikey_shortcut",defaultMessage:"{primaryShortcutKey} then {secondaryShortcutKey}"},move_msgs:{id:"move_msgs",defaultMessage:"Move the selected messages to another folder"},search_placeholder:{id:"folder_menu.search",defaultMessage:"Find a folder"},no_result_label:{id:"folder_menu.empty_search_result",defaultMessage:"No folders found"}});class Q extends i.Component{constructor(e){super(e),this.state={filterString:"",isFilterActive:!1},this._handleMenuHide=this._handleMenuHide.bind(this),this._handleMenuShow=this._handleMenuShow.bind(this),this._focusFirstMenuItem=this._focusFirstMenuItem.bind(this),this._focusContainer=this._focusContainer.bind(this),this.handleKeyDown=this.handleKeyDown.bind(this),this.handleClick=this.handleClick.bind(this)}_renderLabel(){return r.a.createElement(o.c,{id:"move_button.move_label",defaultMessage:"Move"})}_getListStyle(e){return{paddingLeft:`${2*l.GRID_UNIT*(e+2)+l.GRID_UNIT}px`,paddingRight:`${4*l.GRID_UNIT}px`,width:`${62.5*l.GRID_UNIT}px`}}_handleMenuShow(){setTimeout(()=>this.props.isFilterFocused?this._focusFirstMenuItem():this._focusContainer(),0),this.props.onMenuShow()}_handleMenuHide(){this.setState({filterString:"",isFilterActive:!1},()=>{this.props.onMenuHide()})}_focusFirstMenuItem(){if(!this.listContainer)return!1;const e=this.listContainer.querySelector("[data-iskeynav]");return e&&e.focus()}_focusContainer(){return this.listContainer&&this.listContainer.focus()}handleClick(e,t){t.preventDefault(),this.props.onClick(e),this._handleMenuHide()}handleKeyDown(e,t){if(t.target!==this.listContainer)return;if(t.key===S.zb.ARROW_DOWN||t.shiftKey&&t.key.toLowerCase()===z)return t.preventDefault(),this._focusFirstMenuItem();const a=e[t.keyCode-48]||e[t.keyCode-96];a&&this.handleClick(a,t)}renderSearchInput(e){const{hasShortcuts:t}=this.props,a=t?K:null,{filterString:n,isFilterActive:s}=this.state,{formatMessage:i}=this.context.intl,o=a&&!s&&""===n,c=Object.assign({},o?{}:{paddingRight:`${l.GRID_UNIT}px`});return r.a.createElement(b.a,{key:"folder-search","data-test-id":"item-move-to-folder-id-search"},r.a.createElement("div",{className:e.inputContainer,style:c,onClick:e=>e.stopPropagation()},r.a.createElement(L.b,{kind:f.b.SEARCH_MINI,size:f.d.XS,colorState:f.a.DISABLED}),r.a.createElement(B.a,{ref:e=>this.input=e,className:e.inputField,type:"text",id:"folder-menu-search-input","data-test-id":"folder-menu-search-input",value:n,onClear:()=>this.setState({filterString:""}),onChange:e=>this.setState({filterString:e.target.value}),onFocus:()=>this.setState({isFilterActive:!0}),onBlur:()=>this.setState({isFilterActive:!1}),isClearable:!0,placeholder:i(X.search_placeholder),"data-iskeynav":!0}),o?r.a.createElement("span",{className:e.shortcut},a):null))}renderEmptyResult(e){const{formatMessage:t}=this.context.intl;return r.a.createElement(b.a,null,r.a.createElement("div",{className:e.noResultContainer,style:this._getListStyle(0)},t(X.no_result_label)))}renderDisplayShortcut(e,t,a){const{hasShortcuts:n}=this.props;let s;return n&&((a||e===S.sb.INBOX)&&(s=r.a.createElement(o.c,babelHelpers.extends({},X.multikey_shortcut,{values:{primaryShortcutKey:z,secondaryShortcutKey:""+a}}))),e===S.sb.ARCHIVE&&(s=Y)),s?r.a.createElement("span",{className:t.shortcut},s):null}renderAllMailItem(e){const{formatMessage:t}=this.context.intl,a=t(X.all_mail_title);return r.a.createElement(b.a,{key:S.o.ALL_MAIL,"data-test-id":"all-mail"},r.a.createElement(g.a,{kind:E.a.MENUITEM,style:this._getListStyle(0)},r.a.createElement("span",{className:e.fullLabel},r.a.createElement("span",{className:e.itemLabel},r.a.createElement(U.a,{name:a})))))}renderMenuItem(e,t){const{folderId:a,folderName:n,type:s,level:i,disabled:o,shortcut:l}=e;if(-1!==n.toLowerCase().indexOf(this.state.filterString.toLowerCase()))return r.a.createElement(b.a,{key:a},r.a.createElement(g.a,{kind:E.a.MENUITEM,style:this._getListStyle(i),disabled:o,title:n,onClick:e=>this.handleClick(a,e),"data-iskeynav":!0,"data-test-id":"item-move-to-folder-id-"+a},r.a.createElement("span",{className:t.fullLabel},r.a.createElement("span",{className:t.itemLabel},r.a.createElement(H.a,{folderId:a})),this.renderDisplayShortcut(s,t,l))))}renderAnchorButton(){const{disabled:e,showLabel:t,isCompact:a,onMenuToggle:n}=this.props,{formatMessage:s}=this.context.intl,i=s(X.move_msgs),o=this.context.getThemeMode()===y.f.DARK;return r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"folder-menu-button","aria-label":i,title:i,kind:f.b.MOVE_TO_FOLDER,disabled:e,onClick:n,size:f.d.XS,colorState:f.a.INHERITED,isOnDarkBackground:o,isCompact:a},t&&this._renderLabel())}renderPopoverContent(e){const{hasShortcuts:t,folderShortcutMap:a,excludeAllMailItem:n,customFolders:s,systemFolders:i,folderCount:o}=this.props,c=this.context.getCss(W.a);return r.a.createElement(h.b,{triggerOn:e,permittedArrowDirections:[p.g.UP],zAltitude:l.ZIndices.POPOVER.HIGH,onShow:this._handleMenuShow,onHide:this._handleMenuHide},r.a.createElement("div",{className:c.clippedContainer},r.a.createElement("div",{"data-test-id":"folder-menu",className:c.popoverContent,onKeyDown:t?this.handleKeyDown.bind(this,a):()=>{},tabIndex:l.TabIndices.FOLDER_SELECTION_MENU,role:"menu",ref:e=>this.listContainer=e},r.a.createElement(Z.a,{groupTabIndex:l.TabIndices.FOLDER_SELECTION_MENU,skipKeydownOnFormElement:!1},r.a.createElement("ul",{className:c.systemGroup},this.renderSearchInput(c)),0===o&&r.a.createElement("ul",{className:c.lastGroup},this.renderEmptyResult(c)),s.length>0&&r.a.createElement("ul",{className:q()(c.customGroup,{[c.lastGroup]:!(i.length>0),[c.systemGroup]:i.length>0})},s.map(e=>this.renderMenuItem(e,c))),i.length>0&&r.a.createElement("ul",{className:c.lastGroup},!n&&this.renderAllMailItem(c),i.map(e=>this.renderMenuItem(e,c)))))))}renderPopoverContainer(e){const t=this.context.getCss(W.a);return r.a.createElement(_.a,{className:t.popoverContainer},r.a.createElement(u.a,null,this.renderAnchorButton()),this.renderPopoverContent(e))}render(){const{isMenuActive:e,onMenuToggle:t}=this.props;return t?e?this.renderPopoverContainer(p.h.MOUNT):this.renderAnchorButton():this.renderPopoverContainer(p.h.CLICK)}}Q.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func,getCss:s.a.func},Q.defaultProps={showLabel:!0,hasShortcuts:!0,excludeAllMailItem:!0};var $=Object(w.b)((e,t)=>{const{listId:a}=t,{getFoldersSelectors:n,getSelectedAccountId:s}=Object(F.b)(e),{getFolderName:i,getPrimaryFolderTypeByFolderId:r,getSystemFolderListWithSmartView:o,getCustomFolderIds:l,getAccountIdByFolderId:c,getFolderLevelByFolderId:d}=n(),m=Object(G.m)(a),_=m?c(m):s(),u=m?[m]:[],h=[S.sb.DRAFT,S.sb.SENT];let p=0;const g={},E=o(_).reduce((e,{id:t,type:a,kind:n})=>"folder"===n&&-1===h.indexOf(a)?(a===S.sb.INBOX&&(g[p]=t),e.concat({folderId:t,folderName:i(t),type:a,disabled:-1!==u.indexOf(t),shortcut:a===S.sb.INBOX?p++:""})):e,[]),b=l(_).reduce((e,t)=>(g[p]=t,e.concat({folderId:t,folderName:i(t),type:r(t),level:d(t),disabled:-1!==u.indexOf(t),shortcut:p++})),[]);return{systemFolders:E,customFolders:b,folderCount:b.length+E.length,folderShortcutMap:g}})(Q);const J=Object(o.h)({perm_delete_msgs:{id:"perm_delete_msgs",defaultMessage:"Permanently delete the selected messages"},delete_msgs:{id:"delete_msgs",defaultMessage:"Delete the selected messages"}});class ee extends r.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>r.a.createElement(o.c,{id:"delete_button.delete_label",defaultMessage:"Delete"})),t}render(){const{formatMessage:e}=this.context.intl,{permanent:t,disabled:a,onClick:n,showLabel:s,isCompact:i}=this.props,o=e(t?J.perm_delete_msgs:J.delete_msgs),l=t?"perm-delete":"delete",c=this.context.getThemeMode()===y.f.DARK;return r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${l}`,"aria-label":o,title:o,kind:f.b.DELETE,disabled:a,onClick:n,size:f.d.XS,colorState:f.a.INHERITED,isOnDarkBackground:c,isCompact:i},s&&this._renderLabel())}}ee.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func},ee.defaultProps={showLabel:!0};var te=ee;const ae=Object(o.h)({mark_msgs_as_spam:{id:"mark_msgs_as_spam",defaultMessage:"Mark as SPAM"}});class ne extends r.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>r.a.createElement(o.c,{id:"spam_icon_label",defaultMessage:"Spam"})),t}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:a,showLabel:n,isCompact:s}=this.props,i=e(ae.mark_msgs_as_spam),o=this.context.getThemeMode()===y.f.DARK;return r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"toolbar-spam","aria-label":i,title:i,kind:f.b.SPAM,disabled:t,onClick:a,size:f.d.XS,colorState:f.a.INHERITED,isOnDarkBackground:o,isCompact:s},n&&this._renderLabel())}}ne.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func},ne.defaultProps={showLabel:!0};var se=ne;const ie=Object(o.h)({mark_msgs_as_not_spam:{id:"mark_msgs_as_not_spam",defaultMessage:"Mark as Not SPAM"}});class re extends r.a.Component{constructor(...e){var t;return t=super(...e),this._renderLabel=(()=>r.a.createElement(o.c,{id:"not_spam_icon_label",defaultMessage:"Not Spam"})),t}render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:a,showLabel:n,isCompact:s}=this.props,i=e(ie.mark_msgs_as_not_spam),o=this.context.getThemeMode()===y.f.DARK;return r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"toolbar-not-spam","aria-label":i,title:i,kind:f.b.SPAM,disabled:t,onClick:a,size:f.d.XS,colorState:f.a.INHERITED,isOnDarkBackground:o,isCompact:s},n&&this._renderLabel())}}re.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func},re.defaultProps={showLabel:!0};var oe=re,le=a(20),ce=a(56),de=a(1018),me=a.n(de);const _e=Object(o.h)({more_button_title:{id:"more_button_title",defaultMessage:"More options"}});class ue extends i.Component{constructor(e){super(e)}_renderLabel(){return r.a.createElement(o.c,{id:"more_button",defaultMessage:"More"})}render(){const{formatMessage:e}=this.context.intl,{disabled:t,showLabel:n,isCompact:s}=this.props,i=e(_e.more_button_title),o=this.context.getThemeMode()===y.f.DARK,c=this.context.getCss(me.a);return r.a.createElement(_.a,{className:c.popoverContainer},r.a.createElement(u.a,null,r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"toolbar-more","aria-label":i,title:i,kind:f.b.MORE,disabled:t,size:f.d.XS,colorState:f.a.INHERITED,isOnDarkBackground:o,isCompact:s},n&&this._renderLabel())),r.a.createElement(h.b,{triggerOn:p.h.CLICK,permittedArrowDirections:[p.g.UP],zAltitude:l.ZIndices.POPOVER.HIGH},r.a.createElement(le.a,babelHelpers.extends({import:"./more_menu_items.jsx"},this.props,{_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1241))},_moduleResolver:function(){return 1241}}),r.a.createElement(le.b,{loading:!0},r.a.createElement(ce.b,null)))))}}ue.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func,getCss:s.a.func},ue.defaultProps={showLabel:!1};var he=ue,pe=a(373),ge=a.n(pe),Ee=a(54);Object(N.e)(S.wd);class be extends r.a.Component{render(){const e=this.context.getThemeMode()===y.f.DARK,t=this.context.getCss(ge.a),{formatMessage:a}=this.context.intl,{availableSortOrders:n,currentSortOrder:s,showLabel:i}=this.props,o=i?a(Ee.a.sort_menu):null,c=n.map(e=>r.a.createElement(b.a,{key:e,name:"sort-by-"+e},r.a.createElement(g.a,{"data-test-id":"sort-by-"+e,kind:E.a.MENUITEM,onClick:t=>this.props.onClick(t,e),style:{position:"relative"}},e===s?r.a.createElement("span",{className:t.sortByMenuItemIcon},r.a.createElement(L.b,{kind:f.b.CHECKMARK,size:f.d.XXS,colorState:f.a.NORMAL})):null,r.a.createElement("span",{className:t.sortByMenuItemLabel},a(Ee.a["sort_by_"+e])))));return r.a.createElement(_.a,null,r.a.createElement(u.a,null,r.a.createElement(g.a,{"data-test-id":"toolbar-sort-menu-button",kind:E.a.CHROMELESS,tabIndex:"-1","data-iskeynav":!0,isOnDarkBackground:e},r.a.createElement("span",{className:t.sortByMenu},o,r.a.createElement(L.b,{kind:f.b.CHEVRON_UP,size:f.d.XS,rotate:f.c.D180,colorState:f.a.INHERITED})))),r.a.createElement(h.b,{triggerOn:p.h.CLICK,permittedArrowDirections:[p.g.UP],offset:4*l.GRID_UNIT,align:p.a.END,zAltitude:l.ZIndices.POPOVER.HIGH,"data-test-id":"toolbar-sort-popover"},r.a.createElement("div",{className:t.popoverListWrapper},r.a.createElement(v.a,{focusOnMount:!0,"data-test-id":"toolbar-sort-menu"},c))))}}be.contextTypes={intl:o.i.isRequired,getCss:s.a.func,getThemeMode:s.a.func},be.defaultProps={availableSortOrders:[],currentSortOrder:S.wd.DATE_DESC,showLabel:!0};var Ce=be,fe=a(994),ve=a.n(fe);const Ie=(e,t)=>{const{renderSelectionControls:a,renderArchive:n,renderRestoreToInbox:s,renderMove:i,renderDelete:o,renderSpam:c,renderHam:d,renderMore:m,renderSortMenu:_,enableTriageActions:u}=e,h=t.getCss(ve.a);return r.a.createElement("div",{className:h.container,tabIndex:l.TabIndices.MESSAGE_LIST_TOOLBAR},a(h),r.a.createElement("div",{className:h.mainActionControls},r.a.createElement("div",{className:u?h.actionListActive:h.actionListDefault},n(h),s(h),i(h),o(h),c(h),d(h),m(h))),_(h))};Ie.contextTypes={getCss:s.a.func};var ye=Ie;const Se=(e,t)=>{const{renderSelectionControls:a,renderArchive:n,renderRestoreToInbox:s,renderMove:i,renderDelete:o,renderSpam:c,renderHam:d,renderMore:m,renderSortMenu:_,renderSingleGroupActions:u,renderUsabiltyOptions:h,previewpane:p,enableGroupActions:g,enableTriageActions:E}=e,b=t.getCss(ve.a,{previewpane:p,groupActionsActive:g});return r.a.createElement("div",{className:b.container,tabIndex:l.TabIndices.MESSAGE_LIST_TOOLBAR},a(b),_(b),u(b),r.a.createElement("div",{className:b.mainActionControls},r.a.createElement("div",{className:E?b.actionListActive:b.actionListDefault},n(b),s(b),i(b),o(b),c(b),d(b),m(b))),h(b))};Se.contextTypes={getCss:s.a.func};var Ne=Se;const Te=(e,t)=>{const{renderSelectionControls:a,renderArchive:n,renderRestoreToInbox:s,renderMove:i,renderDelete:o,renderSpam:c,renderHam:d,renderMore:m,renderSortMenu:_,renderSingleGroupActions:u,renderUsabiltyOptions:h,previewpane:p,enableGroupActions:g,enableTriageActions:E}=e,b=t.getCss(ve.a,{previewpane:p,groupActionsActive:g});return r.a.createElement("div",{className:b.container,tabIndex:l.TabIndices.MESSAGE_LIST_TOOLBAR},a(b),u(b),r.a.createElement("div",{className:b.mainActionControls},r.a.createElement("div",{className:E?b.actionListActive:b.actionListDefault},n(b),s(b),i(b),o(b),c(b),d(b),m(b))),h(b),_(b))};Te.contextTypes={getCss:s.a.func};var Ae=Te,Me=a(14);const De=["d","shift+d"];var Oe=Object(w.b)((e,t)=>{const{listId:a,streamId:n,actions:s}=t,{getSelectedStreamItems:i,doesStreamExist:r,canShowToolbarItem:o,canEnableToolbarItem:l,shouldEnableGroupActions:c,shouldEnableTriageActions:d,getListsSelectors:m,isPermDeleteFolderType:_,getAvailableSortOrders:u}=Object(F.b)(e),{getItemIdsSelectors:h}=m(),p=r(n)?i(n):[],g=p.length>0&&h(a).getItemIds().length===p.length;let E=S.G.NONE;return p.length&&g?E=S.G.ALL:p.length&&(E=S.G.PARTIAL),babelHelpers.extends({listenKeys:De,canShowToolbarItem:o(n),canEnableToolbarItem:l(n),selectedItems:p,allItemsSelected:g,permanentDelete:_(Object(G.m)(a)),enableGroupActions:c(n),enableTriageActions:d(n),currentSortOrder:Object(G.D)(t.listId),availableSortOrders:u(),checkboxType:E},s.TOOLBAR)}),ke=Object(o.h)({message_reply:{id:"message_reply",defaultMessage:"Reply"},message_reply_all:{id:"message_reply_all",defaultMessage:"Reply all"},message_forward:{id:"message_forward",defaultMessage:"Forward"},close:{id:"close",defaultMessage:"Close"},expand_list:{id:"expand_list",defaultMessage:"Expand message cards"},collapse_list:{id:"collapse_list",defaultMessage:"Collapse message cards"},list_is_expanded:{id:"list_is_expanded",defaultMessage:"Conversation is expanded"},list_is_collapsed:{id:"list_is_collapsed",defaultMessage:"Conversation is collapsed"}});a.d(t,"stopEvent",function(){return xe}),a.d(t,"MessageToolbar",function(){return Pe});Object(N.e)(S.wd);const Re="KeyD",xe=e=>{e.stopPropagation(),e.preventDefault()};class Pe extends i.Component{constructor(e){super(e),this.componentRenderers={renderSelectionControls:this.renderSelectionControls.bind(this),renderArchive:this.renderArchive.bind(this),renderRestoreToInbox:this.renderRestoreToInbox.bind(this),renderMove:this.renderMove.bind(this),renderDelete:this.renderDelete.bind(this),renderSpam:this.renderSpam.bind(this),renderHam:this.renderHam.bind(this),renderMore:this.renderMore.bind(this),renderSortMenu:this.renderSortMenu.bind(this),renderSingleGroupActions:this.renderSingleGroupActions.bind(this),renderUsabiltyOptions:this.renderUsabiltyOptions.bind(this)},this.state={moveMenuActive:!1,moveMenuFilterFocused:!1},this.handleSort=this.handleSort.bind(this),this.handleShortcuts=this.handleShortcuts.bind(this),this.handleMoveMenuShow=this.handleMoveMenuShow.bind(this),this.handleMoveMenuHide=this.handleMoveMenuHide.bind(this),this.handleMoveMenuToggle=this.handleMoveMenuToggle.bind(this)}componentDidMount(){this.context.bindShortcut(this.props.listenKeys,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(this.props.listenKeys)}handleShortcuts(e){if(xe(e),this.props.enableTriageActions)switch(e.code){case Re:this.handleMoveMenuShow(e.shiftKey)}}handleMoveMenuShow(e){if(!this.props.enableTriageActions)return;const t={moveMenuActive:!0};e&&(t.moveMenuFilterFocused=!0),this.setState(t)}handleMoveMenuToggle(e){e.stopPropagation(),this.setState({moveMenuActive:!this.state.moveMenuActive&&this.props.enableTriageActions})}handleMoveMenuHide(){this.setState({moveMenuActive:!1,moveMenuFilterFocused:!1})}handleSort(e,t){const{listId:a,onSortOrderChange:n}=this.props;n({listId:a,sortOrder:t,i13nModel:{interactionType:Object(Me.i)(e)}})}renderSelectionControls(e){const{selectionActions:t,selectedItems:a,previewpane:n,checkboxType:s}=this.props;return r.a.createElement("div",{className:e.cboxWrapper},r.a.createElement("div",{className:e.selectionControlsWrapper},r.a.createElement(M,babelHelpers.extends({},t,{selectedItems:a,previewpane:n,checkboxType:s}))))}renderArchive(e){const{canShowToolbarItem:t,canEnableToolbarItem:a,showLabels:n,onArchive:s}=this.props,i=t("archive"),o=a("archive");return i?r.a.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},r.a.createElement(k,{disabled:!o,showLabel:n,onClick:s})):null}renderRestoreToInbox(e){const{canShowToolbarItem:t,showLabels:a,moveToInbox:n}=this.props,s=t("restore");return s?r.a.createElement("div",{className:s?e.toolbarItem:e.toolbarItemDisabled},r.a.createElement(P,{disabled:!s,showLabel:a,onClick:n})):null}renderMove(e){const{canShowToolbarItem:t,canEnableToolbarItem:a,showLabels:n,listId:s,onMove:i}=this.props,o=t("move"),l=a("move");return o?r.a.createElement("div",{className:l?e.toolbarItem:e.toolbarItemDisabled},r.a.createElement($,{disabled:!l,showLabel:n,listId:s,onClick:i,isMenuActive:this.state.moveMenuActive,isFilterFocused:this.state.moveMenuFilterFocused,onMenuShow:this.handleMoveMenuShow,onMenuHide:this.handleMoveMenuHide,onMenuToggle:this.handleMoveMenuToggle})):null}renderDelete(e){const{canShowToolbarItem:t,canEnableToolbarItem:a,showLabels:n,permanentDelete:s,onDelete:i}=this.props,o=t("delete"),l=a("delete");return o?r.a.createElement("div",{className:l?e.toolbarItem:e.toolbarItemDisabled},r.a.createElement(te,{disabled:!l,showLabel:n,permanent:s,onClick:i})):null}renderSpam(e){const{canShowToolbarItem:t,canEnableToolbarItem:a,showLabels:n,onSpam:s}=this.props,i=t("spam"),o=a("spam");return i?r.a.createElement("div",{className:o?e.toolbarItem:e.toolbarItemDisabled},r.a.createElement(se,{disabled:!o,showLabel:n,onClick:s})):null}renderHam(e){const{canShowToolbarItem:t,showLabels:a,moveToInbox:n}=this.props,s=t("ham");return s?r.a.createElement("div",{className:s?e.toolbarItem:e.toolbarItemDisabled},r.a.createElement(oe,{disabled:!s,showLabel:a,onClick:n})):null}renderMore(e){const{listId:t,canShowToolbarItem:a,canEnableToolbarItem:n,moreMenuActions:s,selectedItems:i,cursorItem:o}=this.props,l=a("more"),c=n("more");return l?r.a.createElement("div",{className:c?e.toolbarItem:e.toolbarItemDisabled},r.a.createElement(he,babelHelpers.extends({disabled:!c,showLabel:!1},s,{selectedItems:i,cursorItem:o,listid:t}))):null}renderSortMenu(e){return r.a.createElement("div",{className:e.viewMenu},r.a.createElement("div",{className:e.sortMenuContainer},r.a.createElement(Ce,{currentSortOrder:this.props.currentSortOrder,availableSortOrders:this.props.availableSortOrders,showLabel:this.props.showLabels,onClick:this.handleSort})))}renderSingleGroupActions(e){const{canShowToolbarItem:t,canEnableToolbarItem:a}=this.props,n=t("raf"),s=a("raf"),{formatMessage:i}=this.context.intl,o=this.context.getThemeMode()===y.f.DARK,l=[{kind:f.b.REPLY,action:"reply",stringKey:"message_reply"},{kind:f.b.REPLY_ALL,action:"replyAll",stringKey:"message_reply_all"},{kind:f.b.FORWARD,action:"forward",stringKey:"message_forward"}].map(({kind:t,stringKey:a})=>{const n=i(ke[a]);return r.a.createElement(b.a,{name:t,key:t,className:e.singleGroupItem},r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":`toolbar-${t}`,"aria-label":n,title:n,kind:t,size:f.d.XS,disabled:!s,colorState:f.a.INHERITED,isOnDarkBackground:o}))});return n?r.a.createElement("div",{className:e.singleGroupActions,"data-test-id":"single-group-action"},r.a.createElement("ul",{key:"group-actions",className:e.singleGroupActionList},l)):null}renderExpandMessages(e){const{canShowToolbarItem:t}=this.props,{formatMessage:a}=this.context.intl,n=this.context.getThemeMode()===y.f.DARK,s=t("expandAll"),i=t("collapseAll");return s||i?r.a.createElement("div",{className:e.expandCollapse,"data-test-id":"expand-messages"},r.a.createElement(C.a,{title:a(ke[i?"collapse_list":"expand_list"]),"aria-label":a(ke[i?"list_is_expanded":"list_is_collapsed"]),kind:i?f.b.COLLAPSE_LIST:f.b.EXPAND_LIST,size:f.d.XS,paddingLess:!1,colorState:f.a.INHERITED,"data-iskeynav":!0,isOnDarkBackground:n})):null}renderClosePreview(e){const{formatMessage:t}=this.context.intl,a=this.context.getThemeMode()===y.f.DARK;return r.a.createElement("div",{"data-test-id":"close-wrapper",className:e.closeWrapper},r.a.createElement(C.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",kind:f.b.CLOSE,size:f.d.XS,disabled:!0,title:t(ke.close),"aria-label":t(ke.close),colorState:f.a.INHERITED,isOnDarkBackground:a}))}renderUsabiltyOptions(e){return r.a.createElement("div",{className:e.usabiltyOptions,"data-test-id":"usabilty-options"},this.renderExpandMessages(e),this.renderClosePreview(e))}render(){const{previewpane:e}=this.props;switch(e){case S.Bc.RIGHT:return r.a.createElement(Ne,babelHelpers.extends({},this.componentRenderers,this.props));case S.Bc.BOTTOM:return r.a.createElement(Ae,babelHelpers.extends({},this.componentRenderers,this.props));default:return r.a.createElement(ye,babelHelpers.extends({},this.componentRenderers,this.props))}}}Pe.contextTypes={intl:o.i.isRequired,navigateTo:s.a.func.isRequired,getThemeMode:s.a.func,bindShortcut:s.a.func,unbindShortcut:s.a.func};t.default=Oe(Pe)},function(e,t,a){"use strict";a.r(t),a.d(t,"TimezoneCheck",function(){return u}),a.d(t,"mapStateToProps",function(){return h}),a.d(t,"resetInitialized",function(){return p});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(259),l=a(38),c=a(13),d=a(9),m=a(0);let _=!1;class u extends r.a.Component{componentDidMount(){const{timezone:e}=this.context,{timezoneCheck:t,themeCueShown:a,isAMT:n}=this.props;if(!t||!e||_||a||n)return;const{geoLocation:s,name:i,lastObservedTimezone:r}=e;_=!0,this.context.executeAction(o.a,{geoLocation:s,serverInferredTimezone:i,lastObservedTimezone:r})}render(){return null}}u.contextTypes={config:s.a.object,timezone:l.e,executeAction:s.a.func};const h=e=>{const{getFeatureCueSelectors:t,getEnvironmentSelectors:a}=Object(d.b)(e);return{themeCueShown:t().shownFeatures().indexOf(m.kb.THEMES_CUE_V3)>=0,isAMT:a().isAMT()}};function p(){_=!1}t.default=Object(c.b)(h)(u)},function(e,t,a){"use strict";a.r(t),a.d(t,"HeartbeatControllerView",function(){return g}),a.d(t,"mapStateToProps",function(){return E}),a.d(t,"mapDispatchToProps",function(){return b});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(9),c=a(150),d=a(125),m=a(4),_=a(0),u=(a(8),a(5)),h=a(43);const p=Object(m.h)({title:{id:"confirm.reload_title",defaultMessage:"Please reload your browser"},message:{id:"confirm.force_reload_message",defaultMessage:"A new update of {mailBrandNameString} is available! We fixed some critical bugs and performance issues."},acceptLabel:{id:"confirm.accept_reload",defaultMessage:"Reload"},cancelLabel:{id:"confirm.cancel_try_later",defaultMessage:"Try it later"},forcedAcceptLabel:{id:"confirm.forced_accept_reload",defaultMessage:"Reload now to proceed"}});class g extends r.a.Component{constructor(...e){var t;return t=super(...e),this.reloadConfirmed=(()=>{const{refreshType:e}=this.props;this.props.reloadApp({i13nModel:{mKey:e===_.q.PERIODIC_REFRESH?u.e.PERIODIC_RELOAD_ACCEPTED:u.e.EMERGENCY_RELOAD_ACCEPTED,sec:e===_.q.PERIODIC_REFRESH?u.g.PERIODIC_RELOAD:u.g.EMERGENCY_RELOAD}}),window.location.reload()}),this.cancelReload=(()=>{this.props.cancelReload({i13nModel:{mKey:u.e.EMERGENCY_RELOAD_CANCELED,sec:u.g.EMERGENCY_RELOAD}})}),t}shouldComponentUpdate(e){return e.refreshType!==this.props.refreshType}render(){const{refreshType:e}=this.props,{formatMessage:t}=this.context.intl,{mailBrandNameString:a}=this.context;let n=null;if(e===_.q.PERIODIC_REFRESH?n=r.a.createElement("div",null,r.a.createElement(c.a,{title:t(p.title),message:t(p.message,{mailBrandNameString:a}),onAccept:this.reloadConfirmed,hideClose:!0,acceptLabel:p.forcedAcceptLabel})):e===_.q.EMERGENCY_REFRESH&&(n=r.a.createElement("div",null,r.a.createElement(d.a,{title:t(p.title),onConfirm:this.reloadConfirmed,onAbort:this.cancelReload,acceptLabel:p.acceptLabel,cancelLabel:p.cancelLabel},r.a.createElement(m.c,{id:"confirm.reload_message",defaultMessage:"A new version of {mailBrandNameString} is available! We have improved the speed, reliability and security of your mail.",values:{mailBrandNameString:a}})))),n){const t={mKey:e===_.q.PERIODIC_REFRESH?u.e.PERIODIC_RELOAD_SHOWED:u.e.EMERGENCY_RELOAD_SHOWED,sec:e===_.q.PERIODIC_REFRESH?u.g.PERIODIC_RELOAD:u.g.EMERGENCY_RELOAD};setTimeout(()=>this.props.showReload({i13nModel:t}),0)}return n}}function E(e){const{getBuildRefreshStatus:t}=Object(l.b)(e);return{refreshType:t()}}g.contextTypes={intl:m.i.isRequired,mailBrandNameString:s.a.string};const b=e=>({showReload:t=>e(Object(h.k)(t)),cancelReload:t=>e(Object(h.a)(t)),reloadApp:t=>e(Object(h.j)(t))});t.default=Object(o.b)(E,b)(g)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(11),c=a.n(l),d=a(1040),m=a.n(d),_=a(14),u=a(956),h=a(371),p=a(3),g=a(21);const E=Object(o.h)({headerText:{id:"all_tabs_plus_cue.header2",defaultMessage:"Want a faster way to read your email?"},bodyText:{id:"all_tabs_plus_cue.body2",defaultMessage:"Turn on People view to see messages from people, not businesses, in one place."},close:{id:"all_tabs_plus_cue.close",defaultMessage:"Close"}});class b extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onClose=(e=>{this.props.onClose({i13nModel:{interactionType:Object(_.i)(e)}})}),this.onTryNow=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(_.i)(e)}})}),t}render(){const{getTheme:e,intl:{formatMessage:t}}=this.context,a=c()(m.a,{[`${e()}`]:!0});return r.a.createElement("div",{role:"navigation"},r.a.createElement("div",{className:a.container,role:"alert","aria-labelledby":"all-tabs-plus-cue-heading","aria-describedby":"all-tabs-plus-cue-desc",ref:"allTabsPlusCueContent",tabIndex:"-1"},r.a.createElement("div",{className:a.coloredBar}),r.a.createElement("div",{className:a.header},r.a.createElement("span",{id:"all-tabs-plus-cue-heading",className:a.headerText},r.a.createElement(o.c,E.headerText))),r.a.createElement("div",{className:a.body,id:"all-tabs-plus-cue-desc"},r.a.createElement(o.c,E.bodyText)),r.a.createElement(h.a,{isCueMode:!0,useCalloutButton:!0,onTryNow:this.onTryNow})),r.a.createElement("div",{className:a.close},r.a.createElement(g.a,{onClick:this.onClose,kind:p.b.CLOSE_MINI,size:p.d.XS,colorState:p.a.IMPROVED_GRAY_DARK,title:t(E.close),"aria-label":t(E.close),"data-test-id":"all-tabs-plus-cue-close"})))}}b.contextTypes={getCss:s.a.func,intl:o.i,getTheme:s.a.func.isRequired},t.default=Object(u.a)(b)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(11),c=a.n(l),d=a(1041),m=a.n(d),_=a(14),u=a(956),h=a(21),p=a(3);const g=c()(m.a),E=Object(o.h)({headerText:{id:"people_smartview_cue.header2",defaultMessage:"Want a faster way to read your email?"},bodyText:{id:"people_smartview_cue.body2",defaultMessage:"See your messages that are from real people, not businesses."},close:{id:"people_smartview_cue.close",defaultMessage:"Close"}});class b extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onClose=(e=>{this.props.onClose({i13nModel:{interactionType:Object(_.i)(e)}})}),t}render(){const{formatMessage:e}=this.context.intl;return r.a.createElement("div",{role:"navigation"},r.a.createElement("div",{className:g.container,role:"alert","aria-labelledby":"people-smartview-cue-heading","aria-describedby":"people-smartview-cue-desc",tabIndex:"-1"},r.a.createElement("div",{className:g.animation}),r.a.createElement("div",{className:g.header},r.a.createElement("div",{id:"people-smartview-cue-heading",className:g.headerText},r.a.createElement(o.c,E.headerText)),r.a.createElement("div",{className:g.bodyText,id:"people-smartview-cue-desc"},r.a.createElement(o.c,E.bodyText))),r.a.createElement("div",{className:g.close},r.a.createElement(h.a,{onClick:this.onClose,kind:p.b.CLOSE_MINI,size:p.d.XS,colorState:p.a.IMPROVED_GRAY_DARK,title:e(E.close),"aria-label":e(E.close),"data-test-id":"people-smartview-cue-close"}))))}}b.contextTypes={getCss:s.a.func,intl:o.i},t.default=Object(u.a)(b)},function(e,t,a){"use strict";a.r(t),a.d(t,"default",function(){return c});a(6);var n=a(2),s=a.n(n),i=a(4),r=a(971),o=a(0);const l=Object(i.h)({header:{id:"settings.cue_header",defaultMessage:"Customize the look of your inbox"},body:{id:"settings.cue_body",defaultMessage:"Open Settings to see email previews, change email spacing, turn on tabs and more."}});function c({onTryNow:e,onShow:t}){return s.a.createElement(r.a,{headerText:l.header,bodyText:l.body,cueName:o.kb.SETTINGS_CUE,onTryNow:e,onShow:t,onMayBeLater:()=>{}})}},function(e,t,a){"use strict";a.r(t);a(6);var n=a(2),s=a.n(n),i=a(1009),r=a.n(i),o=a(11),l=a.n(o),c=a(956),d=a(4),m=a(14),_=a(15),u=a(3);class h extends s.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.onSuccess({i13nModel:{interactionType:Object(m.i)(e)}}),this.props.onClick()}),t}render(){const{kind:e,colorState:t,size:a,rotate:n,bigBadge:i,smallBadge:o,hoveredOver:c}=this.props,d=l()(r.a,{bigBadge:i,smallBadge:o,hoveredOver:c});return s.a.createElement("div",{className:d.badge,"data-test-id":this.props.cueName},s.a.createElement("div",{className:d.pulse1}),s.a.createElement("div",{className:d.pulse2}),s.a.createElement("div",{className:d.orb,onClick:this.handleClick,"data-test-id":"badge-cue-button"},s.a.createElement(_.b,{kind:e,size:a,rotate:n,colorState:t})))}}h.defaultProps={onClick:()=>{},translate:"",colorState:u.a.INVERTED,bigBadge:!1},h.contextTypes={intl:d.i.isRequired},t.default=Object(c.a)(h)},function(e,t,a){"use strict";a.r(t),a.d(t,"CouponsSearchPane",function(){return C});var n=a(2),s=a.n(n),i=a(6),r=a.n(i),o=a(13),l=a(4),c=a(1046),d=a.n(c),m=a(9),_=a(73),u=a(0),h=a(108),p=a(5),g=a(15),E=a(3);const b=Object(l.h)({retailersHeader:{id:"couponsSearch.retailersHeader",defaultMessage:"Search deals from popular stores"},dealsHeader:{id:"couponsSearch.dealsHeader",defaultMessage:"Hot deals you do not want to miss"},recentSearchesHeader:{id:"couponsSearch.recentSearchesHeader",defaultMessage:"Recent searches"}});class C extends n.Component{constructor(...e){var t;return t=super(...e),this.handleDealClick=(e=>{this.props.onDealClick({i13nModel:{mKey:p.e.COUPONS_SEARCH_TOP_DEAL_CLICKED,sec:p.g.COUPONS_SEARCH_PANE,mKeyGroup:p.f.search,actionData:{domain:e.domain,email:e.email,url:e.originalLink}}})}),this.handleRetailerClick=(({name:e,email:t})=>{this.props.onSearchSubmit({query:{name:e,emailAddresses:[t]},i13nModel:{mKey:p.e.COUPONS_SEARCH_TOP_RETAILER_CLICKED,sec:p.g.COUPONS_SEARCH_PANE,mKeyGroup:p.f.search,actionData:{domain:e,email:t}}})}),this.handleRecentSearchClick=(e=>{this.props.onSearchSubmit({query:{keyword:e},i13nModel:{mKey:p.e.COUPONS_SEARCH_RECENT_SEARCH_CLICKED,sec:p.g.COUPONS_SEARCH_PANE,mKeyGroup:p.f.search,actionData:{keyword:e}}})}),t}renderTopRetailers(){const{topRetailers:e}=this.props,t=this.context.getCss(d.a),{formatMessage:a}=this.context.intl,n=[];if(!e||!e.length)return null;for(let a=0;a<e.length;a++){const{name:i,email:r}=e[a];!i||!r||n.length>=5||n.push(s.a.createElement("div",{className:t.retailer,key:i,onClick:()=>this.handleRetailerClick({name:i,email:r})},s.a.createElement("div",{className:t.retailerLogo},s.a.createElement(_.c,{contact:{email:r},size:_.b.NOBLE_L})),s.a.createElement("span",{className:t.retailerName},i)))}return s.a.createElement("div",{className:t.topRetailersContainer},s.a.createElement("h3",{className:t.header},a(b.retailersHeader)),s.a.createElement("ul",{className:t.retailers},n))}renderTopCouponDeals(){const{topCoupons:e,viglinkEnabled:t}=this.props,a=this.context.getCss(d.a),{formatMessage:n}=this.context.intl;if(!e||!e.length)return null;const i=e.map(e=>{const{description:n,dealLink:i,originalLink:r}=e;return n&&i?s.a.createElement("a",{className:a.deal,key:n,href:t?i:r,target:"_blank",title:n,onClick:()=>this.handleDealClick(e)},n):null});return s.a.createElement("div",{className:a.topCouponDealsContainer},s.a.createElement("h3",{className:a.header},n(b.dealsHeader)),s.a.createElement("ul",{className:a.deals},i))}renderRecentSearches(){const{recentSearches:e}=this.props,t=this.context.getCss(d.a),{formatMessage:a}=this.context.intl,n=[];if(!e||!e.length)return null;for(let a=0;a<e.length;a++){const i=e[a]||"";!i||n.length>=3||n.push(s.a.createElement("div",{className:t.recentSearch,key:i,onClick:()=>this.handleRecentSearchClick(i)},s.a.createElement("div",{className:t.searchIcon},s.a.createElement(g.b,{kind:E.b.CLOCK_OUTLINE,size:E.d.S,colorState:E.a.FIRST_LEVEL_GRAY})),s.a.createElement("span",null,i)))}return s.a.createElement("div",{className:t.recentSearchesContainer},s.a.createElement("h3",{className:t.header},a(b.recentSearchesHeader)),s.a.createElement("ul",{className:t.recentSearches},n))}render(){const{containerStyle:e}=this.props,t=this.context.getCss(d.a);return s.a.createElement("div",{className:t.container,style:e,"data-test-id":"coupons-search-pane"},this.renderTopRetailers(),this.renderTopCouponDeals(),this.renderRecentSearches())}}C.contextTypes={getCss:r.a.func,intl:l.i};t.default=Object(o.b)(e=>{const{getCouponsSelectors:t,getRecentSearchesSelectors:a,getFormattedTopRetailers:n,isFeatureEnabled:s}=Object(m.b)(e),{getTopCoupons:i}=t(),{getRecentSearches:r}=a(),o=n(),l=i(u.D),c=s(u.kb.VIGLINK);let d=r();return d=Object.keys(d).map(e=>d[e]&&d[e].query),{topRetailers:o,topCoupons:l,viglinkEnabled:c,recentSearches:Array.from(new Set(d))}},e=>({onDealClick:t=>e(Object(h.j)(t))}))(C)},function(e,t,a){"use strict";a.r(t),a.d(t,"AdBlockUpsellCue",function(){return F}),a.d(t,"mapStateToProps",function(){return L}),a.d(t,"mapDispatchToProps",function(){return B});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(961),c=a(956),d=a(11),m=a.n(d),_=a(1052),u=a.n(_),h=a(30),p=a(21),g=a(3),E=a(362),b=a(14),C=a(9),f=a(13),v=a(60),I=a(16),y=a(0),S=a(328),N=a(5),T=a(10),A=a(103),M=a(8);const D=Object(o.h)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooWiderMailExtensionBranding:{id:"mail.yahoo_wider_mail_extension_branding",defaultMessage:"{widerMail} extension"},yahooWiderMailBranding:{id:"mail.yahoo_wider_mail_upsell_branding",defaultMessage:"Wider Mail"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},adBlockUpsellUserName:{id:"adBlock_upsell_user_name",defaultMessage:"Hi {accountName}!"},adBlockUpsellMessage1:{id:"adBlock_upsell_v6_welcome_message_1",defaultMessage:"Your ad blocker may be interfering with Mail features"},adBlockUpsellMessage2:{id:"adBlock_upsell_v6_welcome_message_2",defaultMessage:"Help us provide you with the best free email!"},adBlockUpsellMessage3:{id:"adBlock_upsell_v6_welcome_message_3",defaultMessage:"We noticed you are using an ad blocker. Please consider whitelisting {mailBrandNameString}"},adBlockUpsellMessage4:{id:"adBlock_upsell_v6_welcome_message_4",defaultMessage:"Haven’t turned off your ad blocker?"},adBlockUpsellDescription1:{id:"adBlock_upsell_v6_description_1",defaultMessage:"Ad blockers insert code into your inbox to block ads, which can negatively impact email performance and make some features stop working. We recommend whitelisting {mailBrandNameString} to avoid these issues and get the best experience."},adBlockUpsellDescription2:{id:"adBlock_upsell_v6_description_2",defaultMessage:"Our world-class email service is provided to you for free in part due to advertising. Please help us by whitelisting {mailBrandNameString}."},adBlockUpsellDescription3:{id:"adBlock_upsell_v6_description_3",defaultMessage:"It only takes a minute!"},feedback:{id:"adblock_upsell_v6_feedback",defaultMessage:"Have feedback?"},adblockUpsellV6LetDoText:{id:"adblock_upsell_v6_let_do_text",defaultMessage:"Let’s do it!"},adblockUpsellV6BackBtnText:{id:"adblock_upsell_v6_back_btn_text",defaultMessage:"Back"},adblockUpsellV6WhitelistBtnText:{id:"adblock_upsell_v6_whitelist_btn_text",defaultMessage:"Whitelist Us!"},adblockUpsellV6Page2Msg:{id:"adblock_upsell_v6_page2_msg",defaultMessage:"How to whitelist {mailBrandNameString}"},adblockUpsellV6DoneBtnText:{id:"adblock_upsell_v6_done_btn_text",defaultMessage:"I'm done"},adblockUpsellWhitelistStep1:{id:"adblock_upsell_v6_whitelist_step_1",defaultMessage:"Step 1"},adblockUpsellWhitelistStep2:{id:"adblock_upsell_v6_whitelist_step_2",defaultMessage:"Step 2"},adblockUpsellWhitelistStep3:{id:"adblock_upsell_v6_whitelist_step_3",defaultMessage:"Step 3"},adblockUpsellWhitelistStep1Des:{id:"adblock_upsell_v6_whitelist_step_1_Des",defaultMessage:"Click on an icon like the ones below in your browser."},adblockUpsellWhitelistStep3Des:{id:"adblock_upsell_v6_whitelist_step_3_Des",defaultMessage:"Refresh {mailBrandNameString}."}}),O="https://chrome.google.com/webstore/detail/",k="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi?src=ymail",R="/img/adblock_upsell_emoji_v6_1.png",x="/img/adblock_upsell_emoji_v6_2.png",P="/img/adblock_upsell_emoji_v6_step2.png",w="/img/adblocker_examples.png";class F extends r.a.Component{constructor(){super(),this.getRapidEvent=((e,t)=>({i13nModel:{mKey:e,interactionType:Object(b.i)(t)}})),this.statOptionClick=((e,t)=>{const{onAdblockUpsellOptionClick:a}=this.props;a({mKey:e,sec:N.g.FEATURE_CUE,interactionType:Object(b.i)(t)})}),this.onClose=(e=>{this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),this.handleOverlayClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),this.handleGetExtension=(e=>{let t=Object(M.a)(window,"AppBootstrapData.browserName","");if("chrome"===(t=t.toLowerCase())){const{extensionSetting:e}=this.props;window.open(O+e.chromeExtensionId,"_blank")}else"firefox"===t&&(location.href=k,this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e)))}),this.getWhitelistStep2Description=(e=>{const{formatMessage:t}=this.context.intl;return t({id:"adblock_upsell_v6_whitelist_step_2_Des",description:"Step description in whitelist steps",defaultMessage:`Select the option to display ads for mail.yahoo.com by clicking either "<span class="${e.boldText}">Don’t run on pages on this domain</span>",  "<span class="${e.boldText}">Enabled on this site</span>", "<span class="${e.boldText}">Trust Site</span>" or similar. The exact text will differ depending on the ad blocker you are using.`})}),this.adBlockUpsellMessage=(()=>{const{adblockCurrentUi:e}=this.props,{formatMessage:t}=this.context.intl,{mailBrandNameString:a}=this.context;switch(e){case y.l.UI_1:return t(D.adBlockUpsellMessage1);case y.l.UI_3:return t(D.adBlockUpsellMessage3,{mailBrandNameString:a});case y.l.UI_4:return t(D.adBlockUpsellMessage4)}}),this.getDescriptionText=(()=>{const{adblockCurrentUi:e}=this.props,{formatMessage:t}=this.context.intl,{mailBrandNameString:a}=this.context;switch(e){case y.l.UI_1:return t(D.adBlockUpsellDescription1,{mailBrandNameString:a});case y.l.UI_3:return t(D.adBlockUpsellDescription2,{mailBrandNameString:a});case y.l.UI_4:return t(D.adBlockUpsellDescription3)}}),this.getFooterText=(e=>{const{formatMessage:t}=this.context.intl,{adBlockPayupHelpUrl:a}=this.props;return t({id:"adblock_upsell_v6_footer_text",defaultMessage:`For more detailed instructions, visit our <a class="${e.upsellOptionLink}" target="_blank" rel="noreferrer" href="${a}">help page</a>.`,description:"Footer text for adblock upsell"})}),this.togglePage=(e=>{this.setState({page:e})}),this.handleClick=((e,t)=>{let a;switch(e){case"goToMailPro":a="cue_"+this.props.cueName+"_mailPro";break;case"goToAdBlockHelp":a="cue_"+this.props.cueName+"_whitelist";break;case"getExtension":a="cue_"+this.props.cueName+"_getExtension",this.handleGetExtension(t);break;case"changeUi":1===this.state.page?(a="cue_"+this.props.cueName+"_page_navigate_2",this.togglePage(2)):(a="cue_"+this.props.cueName+"_page_navigate_1",this.togglePage(1));break;default:a="cue_"+this.props.cueName+"_success"}this.statOptionClick(a,t)}),this.getUpsellImage=(()=>{const{adblockCurrentUi:e}=this.props;if(1===this.state.page){switch(e){case y.l.UI_1:return R;case y.l.UI_3:case y.l.UI_4:return x}return R}return P}),this.onDoneClick=(()=>{this.props.onFeatureCueClosed({mKey:"cue_"+this.props.cueName+"_whitelist_done",sec:N.g.FEATURE_CUE,interactionType:N.d.click}),window.location.reload()}),this.getSubDecriptiontext=(e=>{const{isMailPro:t,isMailProEligible:a,widerMailExtnEnabled:n,isWiderMailEligible:s}=this.props,{formatMessage:i}=this.context.intl,o=`<a data-button-id="goToMailPro" class="${e.upsellOptionLink}" target="_blank" rel="noreferrer" href="${this.props.adFreeMailUrl}">${i(D.yahooMailProBranding)}</a>`,l=`<a data-button-id="getExtension" class="${e.upsellOptionLink}">${i(D.yahooWiderMailExtensionBranding,{widerMail:i(D.yahooWiderMailBranding)})}</a>`;let c=null;return!t&&a&&!n&&s?c=r.a.createElement("span",{className:e.subDescription},r.a.createElement("span",{onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:i({id:"adblock_upsell_sub_description",defaultMessage:`If you prefer an ad-free experience, consider upgrading to ${o} or getting our ${l}, which hides ads on the right side.`,description:"Body text for adblock upsell"})}})):!t&&a?c=r.a.createElement("span",{className:e.subDescription},r.a.createElement("span",{onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:i({id:"adblock_upsell_sub_description_mailpro_only",defaultMessage:`If you prefer an ad-free experience, consider upgrading to ${o}`,description:"Body text for adblock upsell"})}})):!n&&s&&(c=r.a.createElement("span",{className:e.subDescription},r.a.createElement("span",{onClick:e=>this.handleClick(e.target.getAttribute("data-button-id"),e),dangerouslySetInnerHTML:{__html:i({id:"adblock_upsell_sub_description_wider_mail_only",defaultMessage:`If you prefer an ad-free experience, consider getting our ${l}, which hides ads on the right side.`,description:"Body text for adblock upsell"})}}))),c}),this.state={page:1}}render(){const{formatMessage:e}=this.context.intl,{mailBrandNameString:t}=this.context,{onClose:a}=this,{accountName:n,isMailProEligible:s,isWiderMailEligible:i,isMailPro:o,widerMailExtnEnabled:c,cueName:d,adblockCurrentUi:_}=this.props,b=m()(u.a,{pageTwoUi:2===this.state.page,centerDescriptionText:_===y.l.UI_4});return r.a.createElement(l.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:E.a.DARK,ariaLabelledBy:"adBlock-upsell-welcome-message",ariaDescribedBy:"adblock-upsell-description"},r.a.createElement("div",{"data-test-id":d,className:b.container},r.a.createElement("div",{className:b.close},r.a.createElement(p.a,{onClick:a,kind:g.b.CLOSE,size:g.d.XS,colorState:g.a.NORMAL,title:e(D.close),"aria-label":e(D.close),"data-test-id":"close-cue-button"})),r.a.createElement("div",{"data-test-id":"header",className:b.headerSection},r.a.createElement("img",{src:Object(v.a)(this.getUpsellImage())})),r.a.createElement("div",{className:b.heading},1===this.state.page?r.a.createElement("div",null,r.a.createElement("span",null,e(D.adBlockUpsellUserName,{accountName:n})),r.a.createElement("span",{className:b.subHeadingText},this.adBlockUpsellMessage())):r.a.createElement("span",null,e(D.adblockUpsellV6Page2Msg,{mailBrandNameString:t}))),r.a.createElement("div",{className:b.description,"data-test-id":"adblock-upsell-description"},1===this.state.page?r.a.createElement("div",null,this.getDescriptionText(),(i&&!c||s&&!o)&&!(_===y.l.UI_4)&&r.a.createElement("div",null,r.a.createElement("span",null,r.a.createElement("br",null)),this.getSubDecriptiontext(b))):r.a.createElement("div",null,r.a.createElement("div",{className:b.whitelistStepContainer},r.a.createElement("div",{className:b.stepCountContainer},e(D.adblockUpsellWhitelistStep1)),r.a.createElement("div",{className:b.stepDetailContainer},e(D.adblockUpsellWhitelistStep1Des),r.a.createElement("img",{src:Object(v.a)(w)}))),r.a.createElement("div",{className:b.whitelistStepContainer},r.a.createElement("div",{className:b.stepCountContainer},e(D.adblockUpsellWhitelistStep2)),r.a.createElement("div",{className:b.stepDetailContainer},r.a.createElement("span",{dangerouslySetInnerHTML:{__html:this.getWhitelistStep2Description(b)}}))),r.a.createElement("div",{className:b.whitelistStepContainer},r.a.createElement("div",{className:b.stepCountContainer},e(D.adblockUpsellWhitelistStep3)),r.a.createElement("div",{className:b.stepDetailContainer},e(D.adblockUpsellWhitelistStep3Des,{mailBrandNameString:t}))))),r.a.createElement("div",{className:b.adblockUpsellBtnContainer,"data-test-id":"adblock-upsell-btn-container"},1===this.state.page&&r.a.createElement("a",{className:b.optionButtonContainer},r.a.createElement(I.a,{"data-test-id":"navigate-to-page-2",onClick:this.handleClick.bind(this,"changeUi"),kind:h.a.PRIMARY,marginLess:!0},r.a.createElement("span",{className:b.optionButton},e(_===y.l.UI_4?D.adblockUpsellV6LetDoText:D.adblockUpsellV6WhitelistBtnText)))),2===this.state.page&&r.a.createElement("span",null,r.a.createElement("a",{className:b.optionButtonContainer},r.a.createElement(I.a,{"data-test-id":"navigate-to-page-1",onClick:this.handleClick.bind(this,"changeUi"),kind:h.a.SECONDARY,marginLess:!0,style:{width:`${28*T.GRID_UNIT}px`}},r.a.createElement("span",{className:b.optionButton},e(D.adblockUpsellV6BackBtnText)))),r.a.createElement("a",{className:b.optionButtonContainer},r.a.createElement(I.a,{"data-test-id":"whitelist-done",onClick:this.onDoneClick,kind:h.a.PRIMARY,marginLess:!0,style:{width:`${28*T.GRID_UNIT}px`,marginLeft:`${4*T.GRID_UNIT}px`}},r.a.createElement("span",{className:b.optionButton},e(D.adblockUpsellV6DoneBtnText)))))),r.a.createElement("div",null,2===this.state.page&&r.a.createElement("div",{className:b.footerText,onClick:this.handleClick.bind(this,"goToAdBlockHelp"),dangerouslySetInnerHTML:{__html:this.getFooterText(b)}}))))}}F.contextTypes={intl:o.i,mailBrandNameString:s.a.string};const L=e=>{const{getFeaturesSelectors:t,getAccountSelectors:a,getSelectedAccountId:n}=Object(C.b)(e),s=t(),{getAccountNameByAccountId:i}=a(),r=i(n()),o=s.isEnabled(y.kb.MAIL_PRO_ELIGIBLE),l=s.getSetting(y.id.AD_FREE_MAIL_URL),c=s.getSetting(y.id.ADBLOCK_UPSELL_HELP_URL),d=s.getSetting(y.id.WIDER_MAIL_EXTENSION),m=s.isEnabled(y.kb.WIDER_MAIL_ELIGIBLE),_=s.isEnabled(y.kb.MAIL_PRO),u=s.isEnabled(y.kb.IS_WIDER_MAIL_EXTN_ENABLED),h=s.getSetting(y.id.FEEDBACK_URL),p=s.getSetting(y.id.AD_BLOCK_FEATURE_CUE_ID);return{isMailProEligible:o,accountName:r,adFreeMailUrl:l,adBlockPayupHelpUrl:c,isWiderMailEligible:m,extensionSetting:d,isMailPro:_,widerMailExtnEnabled:u,feedbackURL:h,adblockCurrentUi:y.m[p-1]}},B=e=>({onAdblockUpsellOptionClick:t=>e(Object(S.c)({i13nModel:t})),onFeatureCueClosed:t=>e(Object(A.a)({i13nModel:t}))});t.default=Object(c.a)(Object(f.b)(L,B)(F))},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",function(){return v}),a.d(t,"DisconnectedAPTSecurityCue",function(){return I});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(150),c=a(956),d=a(14),m=a(11),_=a.n(m),u=a(1054),h=a.n(u),p=a(0),g=a(9),E=a(13);const b=Object(o.h)({apt_security_message_title:{id:"apt_security_title",defaultMessage:"Important action required"},apt_security_message_body:{id:"apt_security_message_body",defaultMessage:"We strongly suspect that your account has been the target of state-sponsored actors."},apt_security_message_link_text:{id:"apt_security_message_link_text",defaultMessage:"Learn how to better protect yourself"}}),C=_()(h.a);class f extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onUserAction=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_ok",interactionType:e?Object(d.i)(e):"click"}})}),this.getMessage=(()=>{const{intl:e}=this.context,{formatMessage:t}=e,{aptSecurityHelpURL:a=""}=this.props;return r.a.createElement("div",null,t(b.apt_security_message_body),r.a.createElement("div",{className:C.helpUrlContainer},r.a.createElement("a",{className:C.helpUrl,href:a,target:"_blank",rel:"noopener"},t(b.apt_security_message_link_text))))}),t}render(){const{intl:e}=this.context,{formatMessage:t}=e;return r.a.createElement(l.a,{title:t(b.apt_security_message_title),onAccept:this.onUserAction,hideClose:!1,message:this.getMessage()})}}f.contextTypes={intl:o.i.isRequired,config:s.a.object};const v=e=>{const{getFeaturesSelectors:t}=Object(g.b)(e);return{aptSecurityHelpURL:t().getSetting(p.id.APT_SECURITY_HELP_URL)}},I=Object(c.a)(f);t.default=Object(c.a)(Object(E.b)(v)(f))},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",function(){return y});a(6);var n=a(2),s=a.n(n),i=a(4),r=a(1056),o=a.n(r),l=a(956),c=a(16),d=a(30),m=a(14),_=a(961),u=a(362),h=a(11),p=a.n(h),g=a(13),E=a(9),b=a(21),C=a(3);const f=Object(i.h)({close:{id:"linkedin_cue.close_icon",defaultMessage:"Close"}}),v=p()(o.a);class I extends s.a.Component{constructor(...e){var t;return t=super(...e),this.onClickClose=(()=>this.props.onClose({})),this.onClickNotNow=(e=>{this.props.onClose({i13nModel:{mKey:`cue_${this.props.cueName}_not_now`,interactionType:Object(m.i)(e)}})}),this.onClickReconnect=(e=>{this.props.onClose({i13nModel:{mKey:`cue_${this.props.cueName}_reconnect`,interactionType:Object(m.i)(e)}})}),t}render(){const{name:e}=this.props,{intl:{formatMessage:t}}=this.context;return s.a.createElement(_.a,{onClose:this.onClickClose,onOuterClick:()=>{},kind:u.a.DARK},s.a.createElement("div",{role:"alert","data-test-id":"linkedin-upsell",className:v.wrapper},s.a.createElement("div",{className:v.close,"data-test-id":"linkedin-upsell-close-button",onClick:this.onClickClose},s.a.createElement(b.a,{kind:C.b.CLOSE,size:C.d.XS,title:t(f.close)})),s.a.createElement("span",{className:v.image,"aria-hidden":!0}),s.a.createElement("h2",{className:v.header},s.a.createElement(i.c,{id:"linkedin_cue.welcome_text",defaultMessage:"Hi, {name}!",values:{name:e}}),s.a.createElement(i.c,{id:"linkedin_cue.header_text",defaultMessage:"Reconnect your LinkedIn Account"})),s.a.createElement("span",{className:v.description},s.a.createElement(i.c,{id:"linkedin_cue.description",defaultMessage:"Please reconnect your LinkedIn account to retain photos, job titles and other LinkedIn profile information in your Yahoo Mail contacts."})),s.a.createElement(c.a,{overridingClass:v.tryButton,onClick:this.onClickReconnect,kind:d.a.CUE,"data-test-id":"reconnect-button"},s.a.createElement(i.c,{id:"linkedin_cue.reconnect",defaultMessage:"Reconnect to LinkedIn"})),s.a.createElement(c.a,{overridingClass:v.cancelButton,onClick:this.onClickNotNow,kind:d.a.CHROMELESS,"data-test-id":"not-now-button"},s.a.createElement(i.c,{id:"linkedin_cue.not_right_now",defaultMessage:"Not right now"}))))}}I.contextTypes={intl:i.i};const y=e=>{const{getAccountNameByAccountId:t,getSelectedAccountId:a}=Object(E.b)(e);return{name:t(a())}};t.default=Object(g.b)(y)(Object(l.a)(I))},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(377),l=a(16),c=a(11),d=a.n(c),m=a(1057),_=a.n(m),u=a(4),h=a(30),p=a(3),g=a(956),E=a(14),b=a(91);const C=d()(_.a),f=Object(u.h)({bodyWithUserName:{id:"update_wider_mail_cue.bodyWithUserName",defaultMessage:"{firstName}, update your extension to remove the ad on the right and keep Yahoo as your default search."},getExtension:{id:"update_wider_mail_cue.btn_get_extension",defaultMessage:"Get Extension"},maybeLater:{id:"update_wider_mail_cue.btn_maybe_later",defaultMessage:"Maybe later"},close:{id:"update_wider_mail_cue.btn_close",defaultMessage:"Close"}}),v={chromeExtensionUrl:"https://chrome.google.com/webstore/detail/njajpefejmjnhcddhaleakkcehiilppa",widerMailImage:"https://s.yimg.com/nq/wider-mail/1/wider-mail/callout-asset.gif"};class I extends r.a.Component{constructor(...e){var t;return t=super(...e),this.showChromeExtInstallDialog=(()=>{window.open(v.chromeExtensionUrl,"_blank")}),this.onGetExtension=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_get_extension",interactionType:Object(E.i)(e)}}),this.showChromeExtInstallDialog(e)}),this.onTimeout=(()=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_timeout",interactionType:"timeout"}})}),this.onMaybeLater=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(E.i)(e)}})}),this.onClose=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(E.i)(e)}})}),t}componentDidMount(){this.timeout=setTimeout(()=>this.onTimeout(),4e4),this.browserName=window.AppBootstrapData.loggerParams.browser.split(" ")[0].toLowerCase()}componentWillUnmount(){clearInterval(this.timeout)}render(){const{formatMessage:e}=this.context.intl,t=v.widerMailImage,{userDisplayName:a}=this.props,n=a.split(" ")[0];return r.a.createElement(o.a,null,r.a.createElement("div",{"data-test-id":"cue-update-wider-mail-extension",className:C.container},r.a.createElement("div",{"data-test-id":"close-wrapper",className:C.closeWrapper},r.a.createElement(b.a,{"data-iskeynav":!0,"data-test-id":"cue-close-button",kind:p.b.CLOSE,size:p.d.XS,onClick:this.onClose,title:e(f.close),colorStates:{normal:p.a.DISABLED,hovered:p.a.SELECTED}})),r.a.createElement("div",{className:C.imageContainer,"data-test-id":"cue-image-container"},r.a.createElement("img",{src:t})),r.a.createElement("div",{className:C.infoContainer,"data-test-id":"cue-info-container"},r.a.createElement("div",{className:C.messageContainer},r.a.createElement("div",{className:C.body},r.a.createElement(u.c,babelHelpers.extends({},f.bodyWithUserName,{values:{firstName:n}})))),r.a.createElement("div",null,r.a.createElement(l.a,{onClick:this.onGetExtension,kind:h.a.PRIMARY,"data-test-id":"cue-get-extension-button",title:e(f.getExtension)},r.a.createElement(u.c,f.getExtension)),r.a.createElement(l.a,{onClick:this.onMaybeLater,kind:h.a.CHROMELESS,"data-test-id":"cue-maybe-later-button",title:e(f.maybeLater)},r.a.createElement(u.c,f.maybeLater))))))}}I.contextTypes={intl:u.i.isRequired,config:s.a.object},t.default=Object(g.a)(I)},function(e,t,a){"use strict";a.r(t),a.d(t,"ANIMATION_INTERVAL",function(){return x}),a.d(t,"resetThemeLocalDefaults",function(){return w}),a.d(t,"mapStateToProps",function(){return B}),a.d(t,"mapDispatchToProps",function(){return H}),a.d(t,"DisconnectedThemesCueV3",function(){return U});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(961),c=a(956),d=a(11),m=a.n(d),_=a(1058),u=a.n(_),h=a(16),p=a(30),g=a(21),E=a(3),b=a(362),C=a(14),f=a(61),v=a(1010),I=a(1011),y=a(5),S=a(0),N=a(9),T=a(13),A=a(196),M=a.n(A),D=a(1032),O=a(69);let k=null,R=null;const x=1e3,P=1e3;function w(){k=null,R=null}const F=Object(o.h)({done:{id:"themes_cue.done",defaultMessage:"Done"},close:{id:"themes_cue.close",defaultMessage:"Close"},tryNow:{id:"themes_cue.trynow",defaultMessage:"Try now"},pickTheme:{id:"themes_cue.picktheme",defaultMessage:"Make your inbox your own by picking a theme."}});class L extends r.a.Component{constructor(e,t){super(e,t),this.updateThemeAndThemeMode=((e,t)=>{this.props.updateThemeAndThemeMode({updatedSettingAttributes:[{name:S.id.THEME,value:e},{name:S.id.THEME_MODE,value:t}]})}),this.updateTheme=(e=>{if(k===e.currentTarget.value)return;k=e.currentTarget.value;const t={mKey:"cue_themesCueV3_updateThm",sec:y.g.FEATURE_CUE,interactionType:Object(C.i)(e)};this.setState({theme:k},()=>{this.updateThemeVariableStyles(k,this.state.themeMode),O.b.sendI13nModel(t)})}),this.updateThemeMode=(e=>{if(R===e.currentTarget.value)return;R=e.currentTarget.value;const t={mKey:"cue_themesCueV3_updateThmMode",sec:y.g.FEATURE_CUE,interactionType:Object(C.i)(e)};this.setState({themeMode:R},()=>{this.updateThemeVariableStyles(this.state.theme,R),this.props.changeSettings({name:S.id.THEME_MODE,value:R,i13nModel:t})})}),this.handleOuterScroll=(()=>{this.handleOuterAction()}),this.handleOuterAction=(()=>{this.setState({animated:!0}),this.timeout=setTimeout(()=>{this.setState({animated:!1})},x)}),this.onDone=(e=>{const{isReturningUser:t,hasMappedTheme:a}=this.props;this.updateThemeAndThemeMode(k,R),setTimeout(()=>{this.props.onClose({i13nModel:{mKey:"cue_themesCueV3_success",interactionType:Object(C.i)(e),actionData:{isReturningUser:t,hasMappedTheme:a,finalThemeSelection:k}}})},0)}),this.onClose=(e=>{const{isReturningUser:t,hasMappedTheme:a}=this.props;this.updateThemeAndThemeMode(k,R),setTimeout(()=>{this.props.onClose({i13nModel:{mKey:"cue_themesCueV3_close",interactionType:Object(C.i)(e),actionData:{isReturningUser:t,hasMappedTheme:a,finalThemeSelection:k}}})},0)}),k=k||t.getTheme(),R=R||t.getThemeMode(),this.state={animated:!1,theme:k,themeMode:R}}componentDidMount(){this.handleOuterScroll=M()(this.handleOuterScroll,P),window.addEventListener("wheel",this.handleOuterScroll)}updateThemeVariableStyles(e,t){document.getElementById("themer").innerHTML=Object(D.a)(e,t)}render(){const{formatMessage:e}=this.context.intl,{onClose:t,updateTheme:a,updateThemeMode:n,onDone:s,handleOuterAction:i}=this,{userDisplayName:c,isReturningUser:d,hasMappedTheme:_,photoThemes:C,partnerBrand:f}=this.props,{animated:y,theme:S,themeMode:N}=this.state,T=m()(u.a,{animated:y});return r.a.createElement(l.a,{onClose:t,onOuterClick:i,kind:b.a.LIGHT,ariaLabelledBy:"themes-cue-title",ariaDescribedBy:"themes-cue-description"},r.a.createElement("div",{className:T.container,"data-test-id":"themes-cue"},r.a.createElement("div",{className:T.separator}),r.a.createElement("div",{className:T.close},r.a.createElement(g.a,{onClick:t,kind:E.b.CLOSE,size:E.d.XS,title:e(F.close),"aria-label":e(F.close),"data-test-id":"themes-cue-close"})),r.a.createElement("div",{"data-test-id":"content",className:T.content},r.a.createElement("div",{className:T.heading,id:"themes-cue-title"},r.a.createElement(o.c,{id:"themes.cue_welcome_new_user",defaultMessage:"Welcome, {userDisplayName}!",values:{userDisplayName:c}})),r.a.createElement("div",{className:T.description,id:"themes-cue-description"},r.a.createElement(o.c,d?F.pickTheme:_?{id:"themes.cue_mapped_theme_msg",defaultMessage:"Based on your prior mailbox, we picked this theme just for you. We think you’ll love it."}:F.pickTheme)),r.a.createElement("div",{className:T.settingCover},r.a.createElement(v.a,{themeSetting:S,onChange:a,cueMode:!0,photoThemes:C,partnerBrand:f,liteVersion:!0})),r.a.createElement("div",{className:T.settingCover},r.a.createElement("div",{className:T.settings},r.a.createElement(I.a,{themeSetting:S,themeModeSetting:N,onChange:n,cueMode:!0,liteVersion:!0}))),r.a.createElement("div",{className:T.buttonContainer},r.a.createElement(h.a,{style:{height:"30px",lineHeight:"22px",width:"128px"},onClick:s,title:e(F.done),"data-test-id":"themes-cue-done",kind:p.a.SECONDARY,"aria-label":e(F.done),paddingLess:!0},r.a.createElement(o.c,F.done))))))}componentWillUnmount(){window.removeEventListener("wheel",this.handleOuterAction),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)}}L.contextTypes={intl:o.i,executeAction:s.a.func,getTheme:s.a.func,getThemeMode:s.a.func,config:s.a.object.isRequired,mailBrandNameString:s.a.string};const B=e=>{const{getFeaturesSelectors:t}=Object(N.b)(e),a=t();return{isReturningUser:a.isEnabled(S.kb.IS_RETURNING_USER),hasMappedTheme:a.isEnabled(S.kb.HAS_MAPPED_THEME),partnerBrand:a.getSetting(S.id.PARTNER_BRAND)}},H=e=>({updateThemeAndThemeMode:t=>e(Object(f.l)(t)),changeSettings:t=>e(Object(f.a)(t))}),U=Object(c.a)(L);t.default=Object(c.a)(Object(T.b)(B,H)(L))},,function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(6),r=a.n(i),o=a(13),l=a(4),c=a(0),d=a(9),m=a(192);class _ extends s.a.Component{constructor(e){super(e),this.handleOAuthResponse=(({status:e})=>{window[c.sc]=void 0,e=parseInt(e,10);const{onConnectSuccess:t,provider:a,onConnectFail:n}=this.props,s={provider:a,status:e};200===e?t(s):n(s)}),this.openOAuthWindow=(()=>{const e=screen.width/2-250,t=screen.height/2-350;window[c.sc]=this.handleOAuthResponse,window.oAuthWindow&&!window.oAuthWindow.closed?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow,this.oAuthWindow.location.replace(this.props.url)):this.oAuthWindow=window.open(this.props.url,"authorizeWindow",`width=500, height=700, top=${t}, left=${e}`),this.oAuthWindow.focus&&this.oAuthWindow.focus()}),this.oAuthWindow=null}componentDidMount(){this.props.provider&&this.openOAuthWindow()}componentWillUnmount(){window[c.sc]=void 0,this.oAuthWindow.close&&(this.oAuthWindow.close(),this.oAuthWindow=null)}componentDidUpdate(e){e.url===this.props.url||this.oAuthWindow.closed||(this.oAuthWindow.location.replace(this.props.url),this.oAuthWindow.focus&&this.oAuthWindow.focus())}render(){return null}}_.contextTypes={intl:l.i.isRequired,config:r.a.object};t.default=Object(o.b)(e=>{const{getSocialAccountSelectors:t}=Object(d.b)(e),{url:a,provider:n}=t().getAuthWindowData();return{url:a,provider:n}},e=>({onConnectSuccess:t=>e(Object(m.h)(t)),onConnectFail:t=>e(Object(m.g)(t))}))(_)},,,,,,,function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(62),l=a(32),c=a(16),d=a(30),m=a(86),_=a(4),u=a(447),h=a.n(u),p=a(11);const g=a.n(p)()(h.a);class E extends r.a.Component{render(){const{onArchive:e,onDelete:t,onRawMessage:a,onPrint:n}=this.props;return r.a.createElement("div",{className:g.popoverContent},r.a.createElement(o.a,{kind:m.a.MENU,focusOnMount:!0,"data-test-id":"folder-menu",key:"folder-menu",circularNavigation:!1},r.a.createElement(l.a,null,r.a.createElement(c.a,{onClick:e,kind:d.a.MENUITEM},r.a.createElement(_.c,{id:"archive_message",defaultMessage:"Archive"}))),r.a.createElement(l.a,null,r.a.createElement(c.a,{onClick:t,kind:d.a.MENUITEM},r.a.createElement(_.c,{id:"delete_message",defaultMessage:"Delete message"}))),r.a.createElement(l.a,{className:g.separator}),r.a.createElement(l.a,{name:"raw-message","data-test-id":"raw-message"},r.a.createElement(c.a,{onClick:a,kind:d.a.MENUITEM},r.a.createElement(_.c,{id:"raw_message",defaultMessage:"View raw message"}))),r.a.createElement(l.a,{name:"print-message","data-test-id":"print-message"},r.a.createElement(c.a,{onClick:n,kind:d.a.MENUITEM},r.a.createElement(_.c,{id:"print_message_card",defaultMessage:"Print"})))))}}E.contextTypes={executeAction:s.a.func,intl:_.i.isRequired},t.default=E},function(e,t,a){"use strict";a.r(t),a.d(t,"DocumentList",function(){return O}),a.d(t,"mapDispatchToProps",function(){return k}),a.d(t,"mapStateToProps",function(){return R});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(977),c=a(375),d=a(978),m=a.n(d),_=a(11),u=a.n(_),h=a(10),p=a(230),g=a(14),E=a(17),b=a(5),C=a(44),f=a(48),v=a(13),I=a(9),y=a(0),S=a(140),N=a(164),T=a(1033),A=a(38);const M=u()(m.a),D=50;class O extends r.a.Component{constructor(...e){var t;return t=super(...e),this.renderItem=(e=>{const{attachment:t}=e;return Object(C.k)(t)&&!this.firstPreviewableDocItemId&&(this.firstPreviewableDocItemId=t.id),r.a.createElement(l.a,{key:t.id,item:e,route:this.props.messageGroupRoutes[t.id],onMessageOpen:this.handleMessageOpen,onForward:this.forwardAttachmentByEmail,onAttachmentOpen:this.handleOnAttachmentOpen,onDownload:this.handleDownload,onClick:this.handlePreview,highlightSearchTerm:this.props.highlightSearchTerm,listId:this.props.listId,isDeleteEnabled:this.props.deleteFromDocumentsView,onDeletePreview:this.handleDeleteMessage})}),this.handleMessageOpen=((e,{i13nModel:t})=>{const a=Object(f.f)(e);this.context.navigateTo({route:this.props.messageGroupRoutes[e],hashParams:{messageId:a},itemId:e,i13nModel:Object.assign({mKey:b.e.DOC_READ_MSG,mKeyGroup:b.f.open_msg,sec:b.g.DOC_LIST},t)})}),this.handleCursorOpen=(e=>{const{items:t,cursorIndex:a}=this.props;e.stopPropagation(),this.handlePreview(t[Math.max(a,0)].attachment,{i13nModel:{interactionType:b.d.nav}})}),this.handlePreview=((e,{i13nModel:t})=>{if(t=Object.assign({mKey:b.e.DOC_OPEN,sec:b.g.DOC_LIST},t),!Object(C.k)(e))return this.context.executeAction(p.d,{i13nModel:t}),void window.open(e.downloadUrl,"_blank");const a=this.context.config.conversations?e.conversationId:Object(f.f)(e.id);this.context.navigateTo({route:Object(E.c)(this.props.listId,a,e.id,{fullscreen:"1"}),itemId:e.id,i13nModel:t})}),this.forwardAttachmentByEmail=((e,{i13nModel:t})=>{t=Object.assign({mKey:b.e.DOC_SHARE,mKeyGroup:b.f.compose,sec:b.g.DOC_LIST},t);const a=Object(g.f)();this.context.navigateTo({route:Object(E.e)(a),attachments:e?[e]:[],i13nModel:t})}),this.handleOnAttachmentOpen=((e,{i13nModel:t})=>{t=Object.assign({mKey:b.e.DOC_OPEN_LINK,sec:b.g.DOC_LIST},t),this.context.executeAction(p.d,{i13nModel:t})}),this.handleDownload=(e=>{this.props.handleDownload({attachment:e,i13nModel:{mKey:b.e.DOC_OPEN_LINK,sec:b.g.DOC_LIST,interactionType:b.d.click}})}),this.handleDeleteMessage=(({attachmentId:e,i13nModel:t})=>{const{listId:a,getMessageIdForAttachmentId:n,getConversationId:s,isConversationsMode:i}=this.props,r=n(e),o=i?s(e):r;this.props.handleDeleteMessage({messageId:r,messageGroupId:o,listId:a,i13nModel:t}),this.renderDeletePreview({messageId:r,messageGroupId:o})}),this.renderDeletePreview=(({messageId:e,messageGroupId:t})=>{Object(N.a)(r.a.createElement(T.a,{listId:this.props.listId,messageId:e,groupId:t}),this.context)}),t}render(){const e=Object.assign({},this.props,{hasAds:!1});return r.a.createElement("div",{className:M.documentList,"data-test-id":"document-list"},r.a.createElement(c.a,babelHelpers.extends({onOpen:this.handleCursorOpen,renderItem:this.renderItem,getHeightForIndex:()=>h.DOCUMENT_ITEM_HEIGHT,getItemListSize:e=>e.length,getItemsForIndex:(e,t)=>e[t],getTimeStampFromItem:e=>e.attachment.creationDate,itemsToFetch:D},e)))}}O.contextTypes={executeAction:s.a.func,navigateTo:s.a.func.isRequired,config:s.a.object,getStore:s.a.func.isRequired,intl:o.i.isRequired,store:s.a.object.isRequired,timezone:A.e.isRequired,getTheme:s.a.func.isRequired,getCss:s.a.func.isRequired},O.defaultProps={highlightSearchTerm:!1};const k=e=>({handleDownload({attachment:t,i13nModel:a}){e(Object(p.b)({attachment:t,i13nModel:a}))},handleDeleteMessage(t){e(Object(S.h)(t))}}),R=(e,t)=>{const{getFeaturesSelectors:a,getMessageIdForAttachmentId:n,getAttachmentsSelectors:s,doesListExist:i,doesListHasMoreItems:r}=Object(I.b)(e),{getConversationId:o}=s(),l=a().isEnabled(y.kb.DELETE_FROM_DOCUMENTS_VIEW),c=a().isEnabled(y.kb.CONVERSATIONS);return{hasMoreItems:!!i(t.listId)&&r(t.listId),deleteFromDocumentsView:l,getMessageIdForAttachmentId:n,getConversationId:o,isConversationsMode:c}};t.default=Object(v.b)(R,k)(O)},function(e,t,a){"use strict";a.r(t),a.d(t,"LoadingBar",function(){return _}),a.d(t,"mapStateToProps",function(){return u});var n=a(13),s=a(6),i=a.n(s),r=a(2),o=a.n(r),l=a(1130),c=a.n(l),d=a(0),m=a(9);class _ extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={loadingState:d.Gb.IDLE},t}componentWillReceiveProps(e){e.forceSync&&this.setState({loadingState:d.Gb.START}),this.state.loadingState!==d.Gb.START||e.isListRefreshing()||this.setState({loadingState:d.Gb.FINISH})}render(){if(!this.props.enabled)return null;const e=this.context.getCss(c.a);return o.a.createElement("div",{className:(()=>{switch(this.state.loadingState){case d.Gb.START:return e.loadingBar;case d.Gb.FINISH:return e.loadingBarEnd}return""})(),"data-test-id":"loading-bar"})}}_.contextTypes={getCss:i.a.func};const u=e=>{const t=Object(m.b)(e),{getAction:a,isListRefreshing:n,getCurrentListId:s,isFeatureEnabled:i}=t,{forceSync:r=!1}=a(),o=s();return{enabled:i(d.kb.RELOADING_BAR),forceSync:r,isListRefreshing:()=>n(o)}};t.default=Object(n.b)(u)(_)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(971),c=a(0),d=a(17);const m=Object(o.h)({header:{id:"starred.cue_header",defaultMessage:"Star an email and easily come back to it later"},body:{id:"starred.cue_body",defaultMessage:"Keep track of your most important emails. View starred emails here."}});class _ extends r.a.Component{constructor(...e){var t;return t=super(...e),this.openStarredSmartView=(()=>{this.context.navigateTo({route:Object(d.t)(c.td.STARRED)})}),t}render(){return r.a.createElement(l.a,{headerText:m.header,bodyText:m.body,cueName:c.kb.STARRED_CUE,onTryNow:this.openStarredSmartView,onMayBeLater:()=>{},onShow:this.props.onShow,close:this.props.close})}}_.contextTypes={navigateTo:s.a.func},t.default=_},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(971),c=a(0),d=a(17);const m=Object(o.h)({header:{id:"photos.cue_header",defaultMessage:"View all the photos in your inbox in one place"},body:{id:"photos.cue_body",defaultMessage:"Click here to see every photo you've sent or received in this inbox."}});class _ extends r.a.Component{constructor(...e){var t;return t=super(...e),this.openPhotosSmartView=(()=>{this.context.navigateTo({route:Object(d.t)(c.td.PHOTOS)})}),t}render(){return r.a.createElement(l.a,{headerText:m.header,bodyText:m.body,cueName:c.kb.PHOTOS_CUE,onTryNow:this.openPhotosSmartView,onMayBeLater:()=>{},onShow:this.props.onShow,close:this.props.close})}}_.contextTypes={navigateTo:s.a.func},t.default=_},function(e,t,a){"use strict";a.r(t),a.d(t,"PurchasesViewCue",function(){return p}),a.d(t,"mapStateToProps",function(){return g});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(997),d=a(0),m=a(60),_=a(9);const u=Object(m.a)("/img/earny_refund.png"),h=Object(l.h)({header_connect:{id:"receiptsview_cue.header_connect",defaultMessage:"You may have overpaid"},body_connect:{id:"receiptsview_cue.body_connect",defaultMessage:"Use your receipts to get money back on your recent purchases"},body_credit:{id:"receiptsview_cue.body_credit",defaultMessage:"<b>Have a Citibank or Mastercard?</b> Your credit card price protection policy could get you 10x more refunds"},body_payment:{id:"receiptsview_cue.body_payment",defaultMessage:"<b>You’re almost done!</b> Add a payment method to complete your account setup."},try_button_connect:{id:"receiptsview_cue.try_button_connect",defaultMessage:"Show me how much I could save"},try_button_credit:{id:"receiptsview_cue.try_button_credit",defaultMessage:"Link card on Earny"},try_button_payment:{id:"receiptsview_cue.try_button_payment",defaultMessage:"Go to Earny Account"},secondary_button_not_now:{id:"receiptsview_cue.secondary_button_not_now",defaultMessage:"Not now"}});class p extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{window.open(d.bb,"_blank")}),this.computeActionData=(()=>{const{cardType:e}=this.props;return{reason:{featurefamily:d.ib.IC,featurename:d.kb.EARNY_CARD_EXTRACTIONS,cardType:e}}}),t}render(){const{cueName:e,close:t,cardType:a}=this.props;return r.a.createElement(c.a,{bodyText:h[`body_${a}`],cueName:e,headerText:a===d.db.CONNECT?h.header_connect:"",onTryButton:this.onTryButton,mayBeLaterButtonText:h.secondary_button_not_now,cueVariant:d.Z,close:t,tryButtonText:h[`try_button_${a}`],pngImageUrl:u,smartViewCue:!1,computeActionData:this.computeActionData})}}p.contextTypes={navigateTo:s.a.func};const g=e=>{const{getContentProviders:t}=Object(_.b)(e),{doesContentProviderExist:a,isContentProviderConnected:n,isCreditCardConnectedWithEarny:s,isPaymentConnectedWithEarny:i}=t();let r=d.db.CONNECT;return a(d.M.EARNY)&&n(d.M.EARNY)&&(s(d.M.EARNY)?i(d.M.EARNY)||(r=d.db.PAYMENT):r=d.db.CREDIT),{cardType:r}};t.default=Object(o.b)(g)(p)},function(e,t,a){"use strict";a.r(t),a.d(t,"ShopRunnerViewCue",function(){return p}),a.d(t,"mapDispatchToProps",function(){return g});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(997),c=a(60),d=a(13),m=a(1),_=a(0);const u=Object(c.a)("/img/truck_shoprunner.png"),h=Object(o.h)({headerOverpaid:{id:"shoprunner_cue.headerOverpaid",defaultMessage:"Did you pay for shipping?"},bodyRegular:{id:"shoprunner_cue.bodyRegular",defaultMessage:"Get unlimited free 2-day shipping and free returns at 100+ retailers"},primary_button_save:{id:"shoprunner_cue.primary_button_save",defaultMessage:"Activate free shipping"},secondary_button_not_now:{id:"shoprunner_cue.secondary_button_not_now",defaultMessage:"Not now"}});class p extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{this.props.openLinkModal()}),t}render(){const{cueName:e,close:t}=this.props;return r.a.createElement(l.a,{bodyText:h.bodyRegular,cueName:e,headerText:h.headerOverpaid,onTryButton:this.onTryButton,mayBeLaterButtonText:h.secondary_button_not_now,close:t,cueVariant:_.kb.SHOPRUNNER_VIEW_CUE,tryButtonText:h.primary_button_save,pngImageUrl:u,smartViewCue:!1})}}p.contextTypes={navigateTo:s.a.func};const g=e=>({openLinkModal:()=>e({type:m.a.LINK_SR_MODAL_OPENED})});t.default=Object(d.b)(void 0,g)(p)},function(e,t,a){"use strict";a.r(t),a.d(t,"GroceryViewCue",function(){return p}),a.d(t,"mapStateToProps",function(){return g});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(60),c=a(0),d=a(17),m=a(9),_=a(1003),u=a(997);const h=Object(l.a)(c.Fc);class p extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{const{accountIds:e}=this.props;this.context.navigateTo({route:Object(d.t)(c.td.GROCERIES,{accountIds:e})})}),this.computeActionData=(e=>{const t={reason:{featurefamily:c.ib.IC,featurename:c.kb.QUOTIENT,upselltype:"sidebar",origin:"leftrailcue"}};return-1!==e.indexOf("click")&&(t.reason.actiontype="success"),-1!==e.indexOf("later")&&(t.reason.actiontype="reject"),t}),t}render(){const{cueName:e,showTextVariant:t}=this.props;return r.a.createElement(u.a,{bodyText:_.strings.body_text,cueName:e,headerText:_.strings.header_text,onTryButton:this.onTryButton,tryButtonText:t?_.strings.experimental_text:_.strings.primary_button_text,mayBeLaterButtonText:_.strings.secondary_button_text,pngImageUrl:h,groceriesSmartView:!0,computeActionData:this.computeActionData})}}p.contextTypes={navigateTo:s.a.func};const g=e=>{const{getSelectedAccountId:t,isFeatureEnabled:a}=Object(m.b)(e);return{accountIds:[t()],showTextVariant:a(c.kb.QUOTIENT_TEXT_VARIANT)}};t.default=Object(o.b)(g)(p)},function(e,t,a){"use strict";a.r(t),a.d(t,"MessageBrief",function(){return b});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(470),d=a(264),m=a.n(d),_=a(5),u=a(7),h=a(0),p=a(17),g=a(9);const E=Object(l.h)({briefHeader:{id:"search.messages_brief_header",defaultMessage:"Messages"},openAll:{id:"search.open_all_messages",defaultMessage:"Open all messages"}});class b extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleMessageOpen=((e,{i13nModel:t})=>{t=Object.assign({mKey:_.e.RIGHT_RAIL_MSG_OPEN,sec:_.g.RIGHT_RAIL,mKeyGroup:_.f.open_msg},t),this.context.navigateTo({route:this.props.messageGroupRoutes[e.id],i13nModel:t})}),this.handleOpenAll=(e=>{e.preventDefault(),this.context.navigateTo({route:this.props.route,i13nModel:{mKey:_.e.RIGHT_RAIL_MSG_OPEN_ALL,sec:_.g.RIGHT_RAIL,interactionType:_.d.click}})}),this.renderItem=(e=>{const{listId:t,messageGroupRoutes:a}=this.props;return r.a.createElement(c.a,{key:e,listId:t,messageGroupId:e,route:a[e],isBriefView:!0,hideDateTime:!0,onDoubleClick:this.handleMessageOpen,onClick:this.handleMessageOpen,highlightSearchTerm:!0})}),this.renderList=(()=>r.a.createElement("div",null,this.props.items.map(this.renderItem))),t}render(){const{props:e,context:t}=this,{route:a}=e,{formatMessage:n}=t.intl,s=this.context.getCss(m.a,{isBriefView:!0});return r.a.createElement("div",{className:s.container,"data-test-id":"message-brief"},r.a.createElement("div",{className:s.list,"data-test-id":"message-brief-list"},r.a.createElement("div",{className:s.briefHeader},r.a.createElement("span",null,n(E.briefHeader))),r.a.createElement("div",{className:s.briefContent},this.renderList()),r.a.createElement("a",{className:s.briefFooter,href:this.context.getUrlFromRoute(a),"data-test-id":"btn-open-all-messages",title:n(E.openAll),onClick:this.handleOpenAll},r.a.createElement("span",{className:s.link},n(E.openAll)))))}}b.contextTypes={navigateTo:s.a.func,executeAction:s.a.func,intl:l.i.isRequired,getCss:s.a.func,getUrlFromRoute:s.a.func.isRequired};t.default=Object(o.b)(e=>{const{doesListExist:t,getRoute:a,getFeaturesSelectors:n,getListItemIds:s,__patchV2MessageGroupItemId__:i}=Object(g.b)(e),r=a(),o=Object(u.t)(r),l=h.Db.MESSAGES,c=Object(u.Q)(o,{listContentType:l}),d=t(c)?s(c).slice(0,3):[],m={name:r.name,params:Object.assign({},r.params,{query:Object(u.S)(c)})},_={},E=n().isEnabled(h.kb.CONVERSATIONS);return d.forEach(e=>{_[e]=Object(p.o)({item:i(e,c),listId:c,isConversationMode:E})}),{listId:c,messageGroupRoutes:_,route:m,items:d}})(b)},function(e,t,a){"use strict";a.r(t),a.d(t,"mapStateToProps",function(){return c});var n=a(2),s=a.n(n),i=a(13),r=a(7),o=a(999),l=a(9);const c=e=>{const{getRoute:t}=Object(l.b)(e),a=t();return{listId:Object(r.t)(a)}};t.default=Object(i.b)(c)(e=>s.a.createElement(o.a,e))},function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(13),r=a(7),o=a(998),l=a(9);t.default=Object(i.b)(e=>{const{getRoute:t}=Object(l.b)(e),a=t();return{listId:Object(r.t)(a)}})(e=>s.a.createElement(o.a,e))},function(e,t,a){"use strict";a.r(t),a.d(t,"AdBlockCoupons",function(){return C}),a.d(t,"mapStateToProps",function(){return f}),a.d(t,"mapDispatchToProps",function(){return v});var n=a(2),s=a.n(n),i=a(6),r=a.n(i),o=a(1218),l=a.n(o),c=a(9),d=a(13),m=a(4),_=a(73),u=a(50),h=a(5),p=a(0),g=a(38),E=a(957);const b=Object(m.h)({header:{id:"adBlockCoupons.header",defaultMessage:"Top deals from your inbox"}});class C extends n.Component{constructor(...e){var t;return t=super(...e),this.handleCouponClick=(e=>{this.props.adBlockCouponClicked({i13nModel:{mKey:h.e.AD_BLOCK_COUPON_CLICKED,sec:h.g.RIGHT_RAIL,actionData:{domain:e.domain,email:e.email,url:e.originalLink}}})}),t}shouldComponentUpdate({coupons:e=[],isCompactSize:t}){const{coupons:a=[],isCompactSize:n}=this.props;return!a.length&&e.length||n!==t}renderCouponList(e){const{coupons:t,isCompactSize:a}=this.props;return t.map(t=>{const{dealLink:n,domain:i,email:r,description:o,expirationTime:l={}}=t;return!n||l.dateDiff<0?null:s.a.createElement("a",{className:e.coupon,rel:"noreferrer",target:"_blank",href:n,"aria-hidden":!0,key:o,onClick:()=>this.handleCouponClick(t)},s.a.createElement("div",{className:e.image},s.a.createElement(_.c,{contact:{email:r},size:_.b.C}),a?s.a.createElement("span",{className:e.name},i):null),s.a.createElement("div",{className:e.content},a?null:s.a.createElement("span",{className:e.name},i),s.a.createElement("span",{className:e.description},o),s.a.createElement("span",{className:e.expiration},s.a.createElement(E.a,{daysUntilExpiry:l.dateDiff,isInferred:l.isInferred}))))})}render(){const{formatMessage:e}=this.context.intl,t=this.context.getCss(l.a,{isCompactSize:this.props.isCompactSize});return this.props.coupons&&this.props.coupons.length?s.a.createElement("div",{className:t.container,"data-test-id":"adblock-coupons"},s.a.createElement("h3",{className:t.header},e(b.header)),s.a.createElement("ul",{className:t.couponList},this.renderCouponList(t))):null}}C.contextTypes={intl:m.i.isRequired,getCss:r.a.func,timezone:g.e};const f=e=>{const{isNarrowScreen:t,isFeatureEnabled:a,getCouponsSelectors:n}=Object(c.b)(e),{getAdBlockCoupons:s}=n();return{coupons:s(),isCompactSize:t()&&!a(p.kb.WIDE_RIGHT_RAIL)}},v=e=>({adBlockCouponClicked:t=>e(Object(u.a)(t))});t.default=Object(d.b)(f,v)(C)},function(e,t,a){"use strict";a.r(t),a.d(t,"SubscriptionAd",function(){return g}),a.d(t,"mapStateToProps",function(){return E});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(9),c=a(0),d=a(13),m=a(73),_=a(16),u=a(1219),h=a.n(u);const p=Object(o.h)({header:{id:"subscriptionAd.defaultHeader",defaultMessage:"Other subscriptions you might like"}});class g extends r.a.Component{constructor(...e){var t;return t=super(...e),this.renderSubscriptionAdItem=(e=>{if(!e||!e.pencilAd)return null;const t=this.context.getCss(h.a),{pencilAd:a}=e;return r.a.createElement("a",{className:t.item,key:a.clickUrl,href:a.clickUrl,rel:"noreferrer",target:"_blank"},r.a.createElement("div",{className:t.avator},r.a.createElement(m.c,{contact:{name:a.adSource},size:m.b.M,fallback:a.adImg})),r.a.createElement("div",null,r.a.createElement("div",{className:t.headline},a.adSource),r.a.createElement("div",{className:t.summary},a.adSummary),r.a.createElement(_.a,{marginLess:!0},a.callToAction)))}),t}render(){const{formatMessage:e}=this.context.intl,t=this.context.getCss(h.a),{subscriptionAdData:a}=this.props;return a.length?r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.header},e(p.header)),a.map(e=>this.renderSubscriptionAdItem(e))):null}}g.contextTypes={intl:o.i.isRequired,getCss:s.a.func};const E=e=>{const{getAdsSelectors:t,getSetting:a}=Object(l.b)(e),{getGeminiAdDataInArray:n}=t();return{subscriptionAdData:n(a(c.id.GEMINI_SECTION_IDS)[c.tb.SUBSCRIPTION])}};t.default=Object(d.b)(E)(g)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightRailNativeAd",function(){return u}),a.d(t,"mapStateToProps",function(){return h});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(8),c=(a(38),a(9)),d=a(73),m=a(1220),_=a.n(m);class u extends i.Component{render(){const{adHeadline:e,adImg:t,adSummary:a,clickUrl:n,adSource:s}=this.props.pencilAdData,i=this.context.getCss(_.a,{narrowScreen:this.props.isNarrowScreen});return r.a.createElement("div",{className:i.container},r.a.createElement("a",{href:n,rel:"noreferrer",target:"_blank",className:i.header},r.a.createElement("div",{className:i.avator},t&&r.a.createElement(d.c,{size:d.b.M,fallback:t})),r.a.createElement("div",{className:i.headline},e)),r.a.createElement("div",{className:i.summary},a),r.a.createElement("a",{href:n,rel:"noreferrer",target:"_blank",className:i.source},s))}}const h=e=>{const{getRoute:t,getAdsSelectors:a,isNarrowScreen:n}=Object(c.b)(e),s=t(),i=Object(l.a)(s,"params.creativeId"),{getSponsoredAd:r}=a(),{pencilAd:o}=r(i)||{};return{isNarrowScreen:n(),pencilAdData:o}};u.contextTypes={getCss:s.a.func},t.default=Object(o.b)(h)(u)},function(e,t,a){"use strict";a.r(t),a.d(t,"RelatedSearchesCard",function(){return I}),a.d(t,"mapStateToProps",function(){return y}),a.d(t,"mapDispatchToProps",function(){return S});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(337),d=a(9),m=a(422),_=a(1221),u=a.n(_),h=a(5),p=a(0),g=a(29),E=a(15),b=a(3),C=a(18);const f=Object(l.h)({header:{id:"relatedSearchesCard.header",defaultMessage:"Learn more about {domainName}"},fallbackHeader:{id:"relatedSearchesCard.fallbackHeader",defaultMessage:"Learn more"}}),v={default:1,numberList:2,tagCard:3,hoverRow:4,cornerFold:5};class I extends i.Component{constructor(){super(),this.state={hoveredQuery:null}}onQueryClick(e,t){const{handleRelatedSearchesCardClicked:a,styleVariation:n,emailAddress:s,addAdvertiserToQuery:i,contactName:r}=this.props,o=-1===t.indexOf(r)&&i?`${r} ${t}`:t;e.preventDefault(),a({i13nModel:{mKey:h.e.RELATED_SEARCHES_CARD_CLICKED,sec:h.g.RIGHT_RAIL_RELATED_SEARCHES_CARD,interactionType:h.d.click,actionData:{query:o,emailAddress:s}}}),window.open(`https://search.yahoo.com/search?p=${encodeURIComponent(o)}&fr=amplify_m2s_rr&type=norrin_rr${v[n]}`)}renderQueryList(e,t){const{relatedSearchesForDomain:a,styleVariation:n}=this.props,{hoveredQuery:s}=this.state,i=this.context.getTheme(),{COMPOSE_BUTTON_COLOR:o}=g.h[i],l=t?"#188fff":o,c={backgroundColor:Object(C.rgba)(o,.4)},d={borderBottomColor:l},m={backgroundColor:Object(C.rgba)(o,.4)},_={display:"flex"};return t||(d.borderLeftColor=Object(C.rgba)(o,.4)),this.randomQueries=this.randomQueries||a.slice().sort(()=>.5-Math.random()).slice(0,5),this.randomQueries.map(a=>{const i=s===a.query;return r.a.createElement("li",{className:e.query,key:a.query,onClick:e=>this.onQueryClick(e,a.query),onMouseEnter:()=>this.setState({hoveredQuery:a.query}),onMouseLeave:()=>this.setState({hoveredQuery:null}),style:i&&!t&&"cornerFold"===n?m:{}},a.query,r.a.createElement("span",{className:e.searchIcon,style:i&&"tagCard"!==n&&"numberList"!==n?_:{}},r.a.createElement(E.b,{kind:b.b.SEARCH_MINI,size:b.d.XS,colorState:b.a.INHERITED})),r.a.createElement("span",{className:e.square,style:i&&!t?c:{}}),r.a.createElement("span",{className:e.corner,style:i?d:{}}))})}render(){const{relatedSearchesForDomain:e,contactName:t}=this.props,{formatMessage:a}=this.context.intl,n=t?a(f.header,{domainName:t}):a(f.fallbackHeader),s=this.context.getThemeMode()===g.f.LIGHT,i=this.context.getCss(u.a,{[s?this.props.styleVariation:`darkTheme_${this.props.styleVariation}`]:!0});return e&&e.length?r.a.createElement("div",{"data-test-id":"related-searches-card",className:i.container},r.a.createElement("h1",{className:i.header},n),r.a.createElement("ul",{className:i.queryList},r.a.createElement("span",{className:i.circle}),r.a.createElement("span",{className:i.webSearchIcon},r.a.createElement(E.b,{kind:b.b.SEARCH_WEB,size:b.d.XXXL,colorState:b.a.ICON_HOVER_BGCOLOR})),this.renderQueryList(i,s))):null}}I.contextTypes={getCss:s.a.func,intl:l.i,getThemeMode:s.a.func,getTheme:s.a.func};const y=e=>{const{getAdsSelectors:t,getContactSelectors:a,getSetting:n,isFeatureEnabled:s,getParticipantInFocus:i}=Object(d.b)(e),{email:r}=i()||{},{getRelatedSearches:o}=t(),{getContacts:l}=a(),c=o(),_=Object(m.a)(c,r),u=n(p.id.RELATED_SEARCHES_CARD_STYLE),h=l();let g="";for(const e in h){const{emails:t=[],name:a=""}=h[e];if(t.indexOf(r)>-1){g=a;break}}return{relatedSearchesForDomain:_,emailAddress:r,contactName:g,styleVariation:u,addAdvertiserToQuery:s(p.kb.ADVERTISER_RELATED_SEARCHES)}},S=e=>({handleRelatedSearchesCardClicked:t=>e(Object(c.a)(t))});t.default=Object(o.b)(y,S)(I)},function(e,t,a){"use strict";a.r(t),a.d(t,"RelatedCoupons",function(){return E}),a.d(t,"mapDispatchToProps",function(){return b});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(5),d=a(0),m=a(78),_=a(9),u=a(50),h=a(108),p=a(980);const g=Object(l.h)({header:{id:"relatedCouponsCard.header",defaultMessage:"Other {domain} deals from your inbox"},fallbackHeader:{id:"relatedCouponsCard.fallbackHeader",defaultMessage:"Other deals"}});class E extends r.a.Component{constructor(e){super(e),this.handleToggle=this.handleToggle.bind(this),this.handleItemClick=this.handleItemClick.bind(this)}handleToggle(e){this.props.relatedCouponsToggled({i13nModel:{mKey:c.e.RELATED_COUPONS_TOGGLED,sec:c.g.RIGHT_RAIL,actionData:{expand:e}}})}handleItemClick(e){this.props.viglinkClicked({i13nModel:{mKey:c.e.RELATED_COUPONS_CLICKED,sec:c.g.RIGHT_RAIL,actionData:{url:e.originalLink}}})}render(){const{relatedCoupons:e,expandedByDefault:t}=this.props;if(!e||!e.length)return null;const{formatMessage:a}=this.context.intl,{domain:n}=this.props.relatedCoupons[0],s=n?a(g.header,{domain:n}):a(g.fallbackHeader);return r.a.createElement(p.a,{items:e,onToggle:this.handleToggle,expandedByDefault:t,header:s,onItemClick:this.handleItemClick})}}E.contextTypes={intl:l.i.isRequired,getThemeMode:s.a.func};const b=e=>({viglinkClicked:t=>e(Object(u.C)(t)),relatedCouponsToggled:t=>e(Object(h.q)(t))});t.default=Object(o.b)(e=>{const{getCouponsSelectors:t,isFeatureEnabled:a}=Object(_.b)(e);return{relatedCoupons:t().getRelatedCoupons().map(({cmid:e,description:t,dealLink:a,domain:n})=>({id:e,description:t,originalLink:a,link:Object(m.c)(a,d.Jc),domain:n})),expandedByDefault:a(d.kb.RELATED_COUPONS_EXPANDED)}},b)(E)},function(e,t,a){"use strict";a.r(t),a.d(t,"SearchRightRailCoupons",function(){return b}),a.d(t,"mapDispatchToProps",function(){return C});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(5),d=a(0),m=a(78),_=a(9),u=a(50),h=a(108),p=a(980),g=a(8);const E=Object(l.h)({header:{id:"searchRightRailCoupon.header",defaultMessage:"Related deals from your inbox"}});class b extends r.a.Component{constructor(e){super(e),this.handleToggle=this.handleToggle.bind(this),this.handleItemClick=this.handleItemClick.bind(this)}handleToggle(e){this.props.searchRightRailCouponsToggled({i13nModel:{mKey:c.e.SEARCH_RIGHT_RAIL_COUPONS_TOGGLED,sec:c.g.RIGHT_RAIL,actionData:{expand:e}}})}handleItemClick(e){this.props.viglinkClicked({i13nModel:{mKey:c.e.SEARCH_RIGHT_RAIL_COUPONS_CLICKED,sec:c.g.RIGHT_RAIL,actionData:{url:e.originalLink}}})}render(){const{coupons:e}=this.props;if(!e||!e.length)return null;const{formatMessage:t}=this.context.intl,a=t(E.header);return r.a.createElement(p.a,{items:e,onToggle:this.handleToggle,expandedByDefault:!0,header:a,onItemClick:this.handleItemClick})}}b.contextTypes={intl:l.i.isRequired,getThemeMode:s.a.func};const C=e=>({viglinkClicked:t=>e(Object(u.C)(t)),searchRightRailCouponsToggled:t=>e(Object(h.r)(t))});t.default=Object(o.b)(e=>{const{getListsSelectors:t,getCurrentListId:a}=Object(_.b)(e),{getSearchCoupons:n}=t();return{coupons:(n(a())||[]).map(e=>{const t=e.url||Object(g.a)(e,"broker.url","");return{id:e["@id"],description:e.description,originalLink:t,link:Object(m.c)(t,d.Qc)}})}},C)(b)},function(e,t,a){"use strict";a.r(t),a.d(t,"ShopliftCard",function(){return p});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(13),c=a(50),d=a(5),m=a(9),_=a(1230),u=a.n(_);const h=Object(o.h)({shopNow:{id:"shopliftCard.shopNow",defaultMessage:"SHOP NOW"}});class p extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleItemClick=(({url:e})=>{this.props.shopliftAdClicked({i13nModel:{mKey:d.e.SHOPLIFT_AD_CLICKED,sec:d.g.RIGHT_RAIL,actionData:{url:e}}})}),this.renderItem=(e=>{const t=this.context.getCss(u.a),{formatMessage:a}=this.context.intl;return r.a.createElement("a",{className:t.itemContainer,key:e.url,target:"_blank",href:e.url,rel:"noreferrer",onClick:()=>this.handleItemClick(e)},r.a.createElement("div",{className:t.itemHeader,title:e.title},r.a.createElement("img",{className:t.itemImage,src:e.imageUrl}),e.price?r.a.createElement("div",{className:t.itemPrice},e.price):null),r.a.createElement("div",{className:t.itemInfo},r.a.createElement("div",{className:t.itemRetailer},e.retailer),r.a.createElement("div",{className:t.itemLink},a(h.shopNow)+" >")))}),t}render(){if(!this.props.items.length)return null;const e=this.context.getCss(u.a);return r.a.createElement("div",{className:e.container},this.props.items.map(this.renderItem))}}p.contextTypes={getCss:s.a.func,intl:o.i.isRequired};t.default=Object(l.b)(e=>{const{getGroupId:t,getAdsSelectors:a}=Object(m.b)(e),{getShopliftAd:n}=a();return{items:n(t())||[]}},e=>({shopliftAdClicked:t=>e(Object(c.z)(t))}))(p)},function(e,t,a){"use strict";a.r(t),a.d(t,"RetailerFilter",function(){return C});var n=a(2),s=a.n(n),i=a(6),r=a.n(i),o=a(13),l=a(9),c=a(4),d=a(73),m=a(1231),_=a.n(m),u=a(7),h=a(70),p=a(0),g=a(5),E=a(17);const b=Object(c.h)({header:{id:"retailer_filter.header",defaultMessage:"Filter by sender"},viewAll:{id:"retailer_filter.viewAll",defaultMessage:"View all"},viewLess:{id:"retailer_filter.viewLess",defaultMessage:"View less"},allRetailers:{id:"retailer_filter.allRetailers",defaultMessage:"All retailers"}});class C extends n.Component{constructor(){super(),this.handleRetailerClick=this.handleRetailerClick.bind(this)}handleRetailerClick({name:e,email:t,allRetailers:a}){const{activeAccountId:n,selectedRetailer:s}=this.props,i={mKey:g.e.RETAILER_FILTER_CLICKED,sec:g.g.RIGHT_RAIL,actionData:{retailer:e}};if(s===e||a)this.context.navigateTo({route:Object(E.t)(p.td.COUPONS,{accountIds:n}),i13nModel:i});else{const a={name:e,emailAddresses:[t],accountIds:n},s=Object(u.d)(Object(h.b)(p.td.COUPONS,a)),r=Object(u.S)(s);this.context.navigateTo({route:{name:p.Pc.SEARCH,params:{query:r}},i13nModel:i})}}renderRetailerList(e){const{retailers:t,selectedRetailer:a}=this.props,{formatMessage:n}=this.context.intl,i=[...t];return i.unshift({allRetailers:!0}),i.map(({name:t="",email:i="",allRetailers:r=!1})=>s.a.createElement("li",{className:!a&&r||t===a?e.retailerSelected:e.retailer,key:t,onClick:()=>this.handleRetailerClick({name:t,email:i,allRetailers:r})},r?null:s.a.createElement("div",null,s.a.createElement(d.c,{contact:{email:i},size:d.b.M})),s.a.createElement("span",{className:e.retailerName},r?n(b.allRetailers):t)))}render(){const e=this.context.getCss(_.a),{formatMessage:t}=this.context.intl;return this.props.retailers&&this.props.retailers.length?s.a.createElement("div",{className:e.container,"data-test-id":"retailer-filter"},s.a.createElement("h2",{className:e.header},t(b.header)),s.a.createElement("ul",{className:e.retailers},this.renderRetailerList(e))):null}}C.contextTypes={getCss:r.a.func,intl:c.i.isRequired,navigateTo:r.a.func.isRequired};t.default=Object(o.b)(e=>{const{getFormattedTopRetailers:t,getSelectedAccountId:a,getRoute:n}=Object(l.b)(e),{params:s,name:i}=n();let r="";if(i===p.Pc.SEARCH&&s.query){const e=Object(u.u)(s.query);r=Object(u.v)(e)}return{retailers:t(),activeAccountId:a(),selectedRetailer:r}})(C)},function(e,t,a){"use strict";a.r(t),a.d(t,"RightRailSavedDeals",function(){return C});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(13),c=a(3),d=a(15),m=a(0),_=a(7),u=a(9),h=a(1e3),p=a(1232),g=a.n(p),E=a(16);const b=Object(o.h)({header:{id:"coupon_separator_saved",defaultMessage:"Saved deals"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},viewMore:{id:"card_group.view_more_cards",defaultMessage:"View more"},onboarding:{id:"saved_deals.onboarding",defaultMessage:"Find your saved deals here"}});class C extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={expanded:!1},this.toggleView=(()=>{this.setState({expanded:!this.state.expanded})}),this.renderCouponList=(e=>{const t=this.state.expanded?this.props.savedDeals:this.props.savedDeals.slice(0,3);return r.a.createElement("div",{className:e.list},t.map(t=>r.a.createElement(h.a,babelHelpers.extends({overrideClassNames:{container:e.item},key:t.id},t))))}),this.renderDealPlaceholder=(e=>r.a.createElement("div",{className:e.item},r.a.createElement("div",{className:e.link},r.a.createElement("div",{className:e.avatar}),r.a.createElement("span",{className:e.content},r.a.createElement("span",{className:e.fromName}),r.a.createElement("span",{className:e.description}),r.a.createElement("span",{className:e.expiration}))),r.a.createElement(E.a,{className:e.clippedButton},r.a.createElement(d.b,{"aria-hidden":!0,kind:c.b.SCISSORS,size:c.d.XS,colorState:c.a.INVERTED})))),this.renderOnboarding=(e=>r.a.createElement("div",{"data-test-id":"saved-deals-onboarding"},r.a.createElement("div",{className:e.onboarding},this.context.intl.formatMessage(b.onboarding)),r.a.createElement("div",{className:e.arrowContainer},r.a.createElement("div",{className:e.arrow})),this.renderDealPlaceholder(e))),this.renderExpandButton=(e=>{const{formatMessage:t}=this.context.intl;return r.a.createElement("div",{onClick:this.toggleView,className:e.expandButton},t(this.state.expanded?b.viewLess:b.viewMore),r.a.createElement(d.b,{kind:c.b.CHEVRON_UP,size:c.d.XS,rotate:this.state.expanded?c.c.D0:c.c.D180,colorState:c.a.INHERITED}))}),t}render(){const{formatMessage:e}=this.context.intl,t=this.context.getCss(g.a);return r.a.createElement("div",{className:t.container},r.a.createElement("div",{className:t.header},e(b.header)),this.props.savedDeals.length?this.renderCouponList(t):this.renderOnboarding(t),this.props.savedDeals.length>3?this.renderExpandButton(t):null)}}C.contextTypes={intl:o.i.isRequired,getCss:s.a.func};t.default=Object(l.b)(e=>{const{getCouponsSelectors:t,getSelectedAccountId:a}=Object(u.b)(e),{getCouponCardStreamItems:n}=t();return{savedDeals:n(Object(_.e)({listFilter:m.Eb.SAVED_COUPON_CARDS,referrer:m.rd.COUPONS,accountIds:[a()]}))}})(C)},,function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(11),c=a.n(l),d=a(1132),m=a.n(d),_=a(61),u=a(135),h=a(84),p=a(1016),g=a(33),E=a(38),b=a(1133),C=a.n(b),f=a(0),v=a(5),I=a(69),y=a(17),S=a(14),N=a(13),T=a(43),A=a(15),M=a(3),D=a(365),O=a(8),k=a(1134),R=a.n(k);const x=c()(R.a);function P(){return r.a.createElement("div",{"data-test-id":"settings-error",className:x.errorContainer},r.a.createElement("div",{className:x.errorWrapper},r.a.createElement("span",{"data-test-id":"settings-error-message",className:x.errorMessage},r.a.createElement("span",{className:x.warning},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.S,colorState:M.a.WARNING})),r.a.createElement(o.c,{id:"settings_fetch_failed",defaultMessage:"Your preferences failed to load at this time due to a temporary error. {retry}",values:{retry:r.a.createElement("a",{className:x.retryMessage,onClick:()=>{location.reload()},"data-test-id":"settings-error-retry"},r.a.createElement(o.c,{id:"settings_retry_message",defaultMessage:"Try Again"}))}}))))}var w=a(56),F=a(9),L=a(79);const B=c()(C.a),H=Object(o.h)({gotoInboxLabel:{id:"button.gotoInbox",defaultMessage:"Back to Inbox"}});class U extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={active:this.props.selected,timezoneConflict:!1},this.getMailboxSizeUsed=(()=>{return(this.props.mailboxSize/10995116277.76+.005).toFixed(2)}),this.handleClick=((e,t)=>{t.preventDefault(),t.stopPropagation();const a={[f.ld.FILTERS]:v.e.SETTINGS_LEFT_RAIL_FILTERS,[f.ld.ACCOUNTS]:v.e.SETTINGS_LEFT_RAIL_ACCOUNTS,[f.ld.NOTIFICATIONS]:v.e.SETTINGS_LEFT_RAIL_NOTIFICATIONS,[f.ld.WRITING_EMAIL]:v.e.SETTINGS_LEFT_RAIL_WRITING_EMAILS,[f.ld.VIEWING_EMAIL]:v.e.SETTINGS_LEFT_RAIL_VIEWING_EMAILS,[f.ld.CATEGORIZATION]:v.e.SETTINGS_LEFT_RAIL_CATEGORIZATION,[f.ld.AUTOMATIC_REPLY]:v.e.SETTINGS_LEFT_RAIL_AUTOMATIC_REPLY,[f.ld.PERSONALIZE_INBOX]:v.e.SETTINGS_LEFT_RAIL_PERSONALIZE_INBOX,[f.ld.SECURITY_AND_PRIVACY]:v.e.SETTINGS_LEFT_RAIL_SECURITY_AND_PRIVACY,[f.ld.SOCIAL_ACCOUNTS]:v.e.SETTINGS_LEFT_RAIL_SOCIAL_ACCOUNTS,[f.ld.ENCRYPTION]:v.e.SETTINGS_LEFT_RAIL_ENCRYPTION,[f.ld.MAIL_PRO]:v.e.SETTINGS_LEFT_RAIL_MAIL_PRO};this.context.navigateTo({route:Object(y.s)({settingsGroupId:e}),i13nModel:{mKey:a[e],sec:v.g.SETTINGS_LEFT_RAIL,interactionType:Object(S.i)(t)}})}),this._goToAboutYahooMail=(e=>{this.props.goToAboutYahooMail({event:e})}),this._goToAdFreeMail=(e=>{this.props.goToAdFreeMail({event:e})}),this._goToFeedbackPage=(e=>{this.props.giveFeedback({event:e})}),this._goToHelpPage=(e=>{this.props.goToHelpPage({event:e})}),this._goToPrivacyTerms=(e=>{this.props.goToPrivacyTerms({event:e})}),this._goToAboutOurAds=(e=>{this.props.goToAboutOurAds({event:e})}),this.handleLinkClick=((e,t)=>{const{aboutYmailUrl:a,aboutAdsUrl:n,adFreeMailUrl:s,privacyUrl:i,termsUrl:r,helpUrl:o,feedbackURL:l}=this.context.config;switch(e){case a:this._goToAboutYahooMail(t);break;case n:this._goToAboutOurAds(t);break;case s:this._goToAdFreeMail(t);break;case i:case r:this._goToPrivacyTerms(t);break;case l:this._goToFeedbackPage(t);break;case o:this._goToHelpPage(t)}}),this.renderLabel=((e,t)=>e.props.disabled?r.a.createElement("span",{className:t.tabNavText,title:e.props.title},e.props.title):r.a.createElement("a",{href:this.context.getUrlFromRoute({name:f.Pc.SETTINGS,params:{settingsGroupId:e.props.groupId}}),className:t.tabNavText,onClick:this.handleClick.bind(this,""+e.props.groupId),title:e.props.title,"data-test-id":`settings-tab-${e.props.groupId}`},r.a.createElement("span",null,e.props.title),this.state.timezoneConflict&&!this.props.isTimezoneUpdating&&e.props.groupId===f.ld.VIEWING_EMAIL?r.a.createElement("span",{className:B.rightAlign},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED})):null)),this.renderLink=((e,t)=>r.a.createElement("a",{href:e.props.linkTo,className:t.tabLinkText,target:"_blank",onClick:this.handleLinkClick.bind(this,e.props.linkTo),title:e.props.title},e.props.title)),this.renderTitles=((e,t)=>{if(!e)return;const a=c()(C.a,{disabled:e.props.disabled,selected:!e.props.linkTo&&e.props.groupId===""+this.state.active}),n=e.props.linkTo?this.renderLink(e,a):this.renderLabel(e,a);return r.a.createElement("li",{key:t,style:e.props.style,className:a.navLink},e.props.hideLink?null:n)}),this.renderFooter=(()=>r.a.createElement("div",{className:B.footer},r.a.createElement("div",{className:B.footerContent},r.a.createElement("div",null,r.a.createElement("p",{className:B.quotaTotal},r.a.createElement(o.c,{id:"mailbox.maxStorage",defaultMessage:"1 TB of storage"})),r.a.createElement("p",{className:B.quotaUsed},r.a.createElement(o.c,{id:"mailbox.usedStorage",defaultMessage:"{size} % used",values:{size:this.getMailboxSizeUsed()}})))))),this.renderLoadingOrErrorPage=(()=>{const{settingsApiCallStatus:e}=this.props;return e===f.Mc.LOADING?r.a.createElement("div",{className:B.loadingIndicator},r.a.createElement(w.b,null)):r.a.createElement(P,null)}),this.tabHeader=(()=>{const{formatMessage:e}=this.context.intl;return r.a.createElement("div",{className:B.arrowLeft,"data-test-id":"settings-back-button","aria-label":e(H.gotoInboxLabel),title:e(H.gotoInboxLabel),onClick:this.goToInbox},r.a.createElement(A.b,{kind:M.b.ARROW_UP,size:M.d.XS,rotate:M.c.D270,colorState:M.a.SELECTED}),r.a.createElement("span",{className:B.headerLink},e(H.gotoInboxLabel)))}),this.goToInbox=(()=>{this.props.goToInbox({inboxFolderId:this.props.inboxFolderId})}),this.render=(()=>{const{active:e}=this.state,{children:t,settingsApiCallStatus:a,hasWideLogo:n}=this.props,s=r.a.Children.toArray(t).find(t=>t.props.groupId===""+e);return r.a.createElement("div",{className:B.wrapper},r.a.createElement("div",{className:n?B.navContainerWide:B.navContainer},r.a.createElement("nav",{className:B.sidebar},this.tabHeader(),r.a.createElement("div",{className:B.linksContainer},r.a.createElement("div",{className:B.tabLinks},r.a.createElement("ul",{className:B.navLinks},r.a.Children.map(t,this.renderTitles)))),this.renderFooter())),a===f.Mc.LOADED&&s?s:this.renderLoadingOrErrorPage())}),t}componentWillReceiveProps(e,t){const{name:a}=t.timezone,n=Object(D.e)(a);this.setState({timezoneConflict:n})}}U.contextTypes={config:s.a.object,executeAction:s.a.func,navigateTo:s.a.func,getUrlFromRoute:s.a.func.isRequired,timezone:E.e,intl:s.a.object.isRequired},U.defaultProps={selected:0};const{SETTINGS_LEFT_RAIL_AD_FREE:j,SETTINGS_FEEDBACK:W,SETTINGS_HELP:G,SETTINGS_LEFT_RAIL_PRIVACY:Z,SETTINGS_LEFT_RAIL_ABOUT_ADS:V,SETTINGS_LEFT_RAIL_ABOUT:q}=v.e,z=Object(I.a)(v.g.SETTINGS_LEFT_RAIL);var Y=Object(N.b)(e=>{const{getFeaturesSelectors:t,getEnvironmentSelectors:a,getSettingsSelectors:n,getRoute:s,getMailboxSize:i,getDefaultFolderIdForSelectedAccount:r}=Object(F.b)(e),o=n(),l=t(),c=a().getTimezoneUpdatingStatus(),d=o.getSettingsApiCallStatus();return{selected:s().params.settingsGroupId,isTimezoneUpdating:c,settingsApiCallStatus:d,hasWideLogo:l.getSetting(f.id.HAS_WIDE_LOGO),inboxFolderId:r(),mailboxSize:i()}},e=>({goToInbox:({inboxFolderId:t})=>e(Object(T.f)({inboxFolderId:t})),goToAdFreeMail:({event:t})=>e(Object(L.n)(z({event:t,mKey:j}))),giveFeedback:({event:t})=>e(Object(L.k)(z({event:t,mKey:W}))),goToHelpPage:({event:t})=>e(Object(L.o)(z({event:t,mKey:G}))),goToPrivacyTerms:({event:t})=>e(Object(L.p)(z({event:t,mKey:Z}))),goToAboutOurAds:({event:t})=>e(Object(L.l)(z({event:t,mKey:V}))),goToAboutYahooMail:({event:t})=>e(Object(L.m)(z({event:t,mKey:q})))}))(U),K=a(1135),X=a.n(K);const Q=c()(X.a);function $({children:e}){return r.a.createElement("article",{className:Q.mainContent},e)}var J=a(1136),ee=a.n(J),te=a(1029),ae=a(1137),ne=a.n(ae),se=a(29),ie=a(101);const re="https://s.yimg.com/dh/ap/social/profile/profile_a64.png";function oe({snippets:e,multiTaskModeSetting:t,previewPaneSetting:a,msgListDensity:n,cueMode:s=!1,logoUrl:i,themeSetting:l,themeModeSetting:c},d){const m=Object(ie.d)(s?7:15),_=a===f.Bc.RIGHT,u=c===se.f.DARK,h={snippets:e,previewPaneSetting:a,multiTaskModeSetting:t,verticalSnippets:e&&_,cueMode:s,darkModeNonPhotoTheme:!Object(se.m)(l)&&u,[`darkModePhotoTheme_${l}`]:Object(se.m)(l)&&u};_||Object.assign(h,{msgListDensity:n});const p=d.getCss(ne.a,h);return r.a.createElement("div",{className:p.previewWrapper},!s&&r.a.createElement("h4",{className:p.previewTitle,"data-test-id":"preview-header"},r.a.createElement(o.c,{id:"preview_section_header_text",defaultMessage:"Preview"})),r.a.createElement("div",{className:p.container},r.a.createElement("div",{className:p.headerWrapper},r.a.createElement("div",{className:p.header},r.a.createElement("img",{className:p.logo,src:i}),r.a.createElement("div",{className:p.search},r.a.createElement("div",{className:p.searchBox}),r.a.createElement("div",{className:p.searchBtn}))),r.a.createElement("div",{className:p.tabContainer,"data-test-id":"settings-tabs"},r.a.createElement("ul",{className:p.tabs},r.a.createElement("li",{className:p.leftRailTabSpacer}),r.a.createElement("li",{className:p.tabItem}),r.a.createElement("li",{className:p.tabItemWhite}),r.a.createElement("li",{className:p.tabItem})))),r.a.createElement("div",{"data-test-id":"preview-main-content",className:p.mainContent},r.a.createElement("div",{"data-test-id":"preview-left-rail",className:p.rail}),r.a.createElement("div",{"data-test-id":"preview-message-list",className:p.messageList},r.a.createElement("div",{className:p.listItem},r.a.createElement("ul",{className:p.firstColumn,"data-test-id":"settings-message-list-preview"},m.map(e=>r.a.createElement("li",{key:e,className:p.messageListItem},r.a.createElement("div",{className:p.sender}),r.a.createElement("div",{className:p.firstColumnSnippet})))),r.a.createElement("ul",{className:p.secondColumn},m.map(t=>{const a=`${t%2*10+96}px`;return r.a.createElement("li",{key:t,className:p.messageListItem},r.a.createElement("div",{className:p.wrapper},r.a.createElement("div",{className:p.subject,style:{width:`${t%3*10+68}px`}}),e?r.a.createElement("div",{"data-test-id":"settings-snippets",className:p.secondColumnSnippet,style:{width:a}}):null))}))),r.a.createElement("div",{className:p.previewPane,"data-test-id":"settings-preview-pane"},r.a.createElement("img",{className:p.avatar,src:re}),r.a.createElement("div",null,r.a.createElement("ul",{className:p.messageItems},r.a.createElement("li",{className:p.messageViewItem}),r.a.createElement("li",{className:p.messageViewItem,style:{width:"90%"}}),r.a.createElement("li",{className:p.messageViewItem,style:{width:"60%"}}),r.a.createElement("li",{className:p.messageViewItem,style:{width:"20%"}}))))),r.a.createElement("div",{"data-test-id":"preview-right-rail",className:p.rail}))))}oe.contextTypes={config:s.a.object,getCss:s.a.func};var le=oe;const ce=c()(ee.a);class de extends r.a.Component{render(){return r.a.createElement("div",{className:ce.container,"data-test-id":"personalize-inbox-tab"},r.a.createElement("div",{className:ce.left},r.a.createElement("div",{className:ce.headerWrapper},r.a.createElement("header",{className:ce.titleWrapper},r.a.createElement("h4",{className:ce.title},r.a.createElement(o.c,{id:"personalize_mailbox_header",defaultMessage:"Personalize inbox"})),r.a.createElement("span",{className:ce.hint},r.a.createElement(o.c,{id:"personalize_mailbox_hint",defaultMessage:"Change how your inbox looks and feels"}))),r.a.createElement(te.a,this.props))),r.a.createElement("div",{className:ce.right},r.a.createElement(le,this.props)))}}de.displayName="PersonalizedInboxTab";var me=a(1138),_e=a.n(me),ue=a(371),he=a(163),pe=a(60),ge=a(94);const Ee=c()(_e.a);class be extends r.a.Component{render(){const{formatMessage:e}=this.context.intl;return r.a.createElement("div",{className:Ee.container,"data-test-id":"categorization-tab"},r.a.createElement("div",{className:Ee.left},r.a.createElement("div",{className:Ee.headerWrapper},r.a.createElement("header",{className:Ee.titleWrapper},r.a.createElement("h4",{className:Ee.title},e(ge.a.categorization_header)),r.a.createElement("span",{className:Ee.hint},e(ge.a.categorization_hint))),r.a.createElement(ue.a,{showHint:!0}))),r.a.createElement("div",{className:Ee.right},r.a.createElement("div",{className:Ee.categoryRightRailContainer},r.a.createElement("img",{className:Ee.categoryRightRailImg,src:Object(pe.a)(he.c.CATEGORIZATION)}))))}}be.displayName="CategorizationTab",be.contextTypes={intl:o.i.isRequired};var Ce=a(1139),fe=a.n(Ce),ve=a(987),Ie=a(96),ye=a.n(Ie),Se=a(1140),Ne=a.n(Se),Te=a(73),Ae=a(1141),Me=a.n(Ae),De=a(21);const Oe=c()(Me.a);function ke({tweet:{handle:e,name:t,creationTime:a,content:n,imgUrl:s}}){return r.a.createElement("div",{className:Oe.tweetWrapper},r.a.createElement("div",{className:Oe.tweet},r.a.createElement("div",{className:Oe.tweetHeader},r.a.createElement("div",{className:Oe.twitterProfile},r.a.createElement("img",{className:Oe.twitterAvatar,src:s,alt:t})),r.a.createElement("div",{className:Oe.twitterAccount},r.a.createElement("span",{className:Oe.userName},t),r.a.createElement("span",{className:Oe.userId},"@",e)),r.a.createElement("div",{className:Oe.twitterImg},r.a.createElement(A.b,{size:M.d.XS,kind:M.b.TWITTER,colorState:M.a.TWITTER_ENABLED}))),r.a.createElement("div",{className:Oe.tweetBody},n),r.a.createElement("div",{className:Oe.tweetFooter},r.a.createElement("span",{className:Oe.tweetDate},a),r.a.createElement("div",{className:Oe.tweetAction},r.a.createElement(De.a,{size:M.d.XXS,kind:M.b.REPLY,color:M.a.COOL_FAINT,onClick:()=>{}}),r.a.createElement(De.a,{size:M.d.XXS,kind:M.b.FORWARD,color:M.a.COOL_FAINT,onClick:()=>{}}),r.a.createElement(De.a,{size:M.d.XS,kind:M.b.STAR,color:M.a.COOL_FAINT,onClick:()=>{}})))))}var Re=a(1030),xe=a(23),Pe=Object(o.h)({header:{id:"vacation_response_settings.header",defaultMessage:"Vacation Response"},hint:{id:"vacation_response_settings.hint",defaultMessage:"Set automatic reply to your emails when you are out on vacation or out of office"},dateText:{id:"vacation_response_settings.date_text",defaultMessage:"Date"},messageText:{id:"vacation_response_settings.message_text",defaultMessage:"Message"},editorAriaLabel:{id:"vacation_response_settings.editor_aria_label",defaultMessage:"Vacation response"},startDateError:{id:"vacation_response_settings.start_date_error",defaultMessage:"Vacation until date should be greater than start date."},endDateError:{id:"vacation_response_settings.end_date_error",defaultMessage:"The Until Date entered has already passed."},rightRailHeader:{id:"vacation_response_settings.right_rail_header",defaultMessage:"Find help for vacation response"},toggleBtn:{id:"vacation_response_settings.enable_toggle_btn",defaultMessage:"Enable vacation response"},previewHeader:{id:"vacation_response_settings.preview.header",defaultMessage:"Preview message"},previewToText:{id:"vacation_response_settings.preview.to_text",defaultMessage:"To:"},previewReceiversText:{id:"vacation_response_settings.preview.receivers_text",defaultMessage:"Receivers"},domainResponseHeader:{id:"vacation_response_settings.domain_response.header",defaultMessage:"Add another response"},domainResponseHint:{id:"vacation_response_settings.domain_response.hint",defaultMessage:"Send a different response to specific domains"},domainResponseDomainNameText:{id:"vacation_response_settings.domain_response.domain_name_text",defaultMessage:"Domain name"},domainResponseFirstDomainText:{id:"vacation_response_settings.domain_response.first_domain_text",defaultMessage:"First domain"},domainResponseSecondDomainText:{id:"vacation_response_settings.domain_response.second_domain_text",defaultMessage:"Second domain"},domainResponseEditorAriaLabel:{id:"vacation_response_settings.domain_response.editor_aria_label",defaultMessage:"SpecialVacationResponse for specific domain"},domainResponseMessageText:{id:"vacation_response_settings.domain_response.message_text",defaultMessage:"Message to emails from the domain"}}),we=Object(o.h)({header:{id:"vacation_response_settings.v2.header",defaultMessage:"Vacation response"},hint:{id:"vacation_response_settings.v2.hint",defaultMessage:"Set an automatic reply to incoming messages when you are on vacation or out of office"},subheader:{id:"vacation_response_settings.v2.subheader",defaultMessage:"Turn on vacation response"},dateText:{id:"vacation_response_settings.v2.date_text",defaultMessage:"Show vacation response during these dates"},messageText:{id:"vacation_response_settings.v2.message_text",defaultMessage:"Compose your message below with stationery, GIFs and more"},editorAriaLabel:{id:"vacation_response_settings.v2.editor_aria_label",defaultMessage:"Vacation response"},deleteResponseButtonText:{id:"vacation_response_settings.v2.delete_vacation_response_btn_text",defaultMessage:"Remove vacation response"},invalidStartDateError:{id:"vacation_response_settings.v2.invalid_start_date_error",defaultMessage:"The start date is invalid"},invalidEndDateError:{id:"vacation_response_settings.v2.invalid_end_date_error",defaultMessage:"The end date is invalid"},startDateError:{id:"vacation_response_settings.v2.start_date_error",defaultMessage:"Start date must be before end date"},endDateError:{id:"vacation_response_settings.v2.end_date_error",defaultMessage:"The end date has already passed"},rightRailHeader:{id:"vacation_response_settings.v2.right_rail_header",defaultMessage:"Find help for vacation response"},toggleBtn:{id:"vacation_response_settings.v2.enable_toggle_btn",defaultMessage:"Turn on vacation response"},enableAriaLabel:{id:"vacation_response_settings.v2.enable_tooltip_text",defaultMessage:"Turn on vacation response"},disableAriaLabel:{id:"vacation_response_settings.v2.disable_tooltip_text",defaultMessage:"Turn off vacation response"},confirmDeleteModalTitle:{id:"vacation_response_settings.v2.confirm_delete_modal.title",defaultMessage:"Are you sure you want to remove this vacation response?"},confirmDeleteModalBody:{id:"vacation_response_settings.v2.confirm_delete_modal.body",defaultMessage:"You won't be able to undo this action."},confirmDeleteModalCancelButton:{id:"vacation_response_settings.v2.confirm_delete_modal.cancel_button",defaultMessage:"Cancel"},confirmDeleteModalDeleteButton:{id:"vacation_response_settings.v2.confirm_delete_modal.delete_button",defaultMessage:"Remove"},expiredMessage:{id:"vacation_response_settings.v2.expired_message",defaultMessage:"Expired"},previewHeader:{id:"vacation_response_settings.v2.preview.header",defaultMessage:"Preview vacation response"},previewToText:{id:"vacation_response_settings.v2.preview.to_text",defaultMessage:"To:"},previewReceiversText:{id:"vacation_response_settings.v2.preview.receivers_text",defaultMessage:"Recipients"},previewReceiversTextWithDomain:{id:"vacation_response_settings.v2.preview.receivers_text_with_domain",defaultMessage:"recipient@{domain}"},domainResponseHeader:{id:"vacation_response_settings.v2.domain_response.header",defaultMessage:"Send a different response to specific domains"},domainResponseDomainNameText:{id:"vacation_response_settings.v2.domain_response.domain_name_text",defaultMessage:"Email domain name"},domainResponseFirstDomainText:{id:"vacation_response_settings.v2.domain_response.first_domain_text",defaultMessage:"First domain"},domainResponseSecondDomainText:{id:"vacation_response_settings.v2.domain_response.second_domain_text",defaultMessage:"Second domain"},domainResponseEditorAriaLabel:{id:"vacation_response_settings.v2.domain_response.editor_aria_label",defaultMessage:"Send a different response to specific domains"},domainResponseMessageText:{id:"vacation_response_settings.v2.domain_response.message_text",defaultMessage:"Message"}});class Fe extends r.a.Component{constructor(e){super(e),this.disableEditing=ye()(this.disableEditing,100),this.renderReceiversText=this.renderReceiversText.bind(this)}componentDidUpdate(){const{kind:e}=this.props;e===xe.PreviewTypes.VACATION_RESPONSE&&this.disableEditing()}disableEditing(){Re.a.makeNonEditable(this.stationeryWrapper)}renderReceiversText(){const{domains:e,vacationResponseV2:t}=this.props,a=t?we:Pe;return t&&e&&e.length>0?r.a.createElement("span",null,e.map((e,t)=>{if(!e)return;const n=r.a.createElement(o.c,babelHelpers.extends({key:`${t}-text`,values:{domain:e}},a.previewReceiversTextWithDomain));return 0!==t?r.a.createElement("span",{key:`${t}-wrapper`},", ",n):n})):r.a.createElement(o.c,a.previewReceiversText)}render(){const{account:e,composeFontFamily:t,composeFontSize:a,content:n,showTweet:s,kind:i,stationery:l,showPreviewText:d,onDoubleClick:m,vacationResponseV2:_}=this.props,{formatMessage:u}=this.context.intl,h=e.sendingName||e.email;let p=null;_?p=`${i}-v2`:l&&(p=`${i}WithStationery`);const g=_?we:Pe,E=c()(Ne.a,{kind:p});return r.a.createElement("div",{className:E.mainWrapper,"data-test-id":"settings-message-previewer"},r.a.createElement("div",{className:E.previewSection},d&&r.a.createElement("h4",{className:E.previewTitle,"data-test-id":"preview-text"},u(g.previewHeader)),r.a.createElement("div",{className:E.listContainer,onDoubleClick:m,"data-test-id":"preview-container"},r.a.createElement("ul",{className:E.listWrapper},r.a.createElement("li",{className:E.listItemHeader},r.a.createElement("div",{className:E.avatar},r.a.createElement(Te.c,{useFallbackImage:!0,size:Te.b.M})),r.a.createElement("div",{className:E.header},r.a.createElement("div",{className:E.accName,title:h},h),r.a.createElement("div",null,r.a.createElement("span",{className:E.to},r.a.createElement(o.c,g.previewToText)),this.renderReceiversText()))),r.a.createElement("li",{className:E.listItem},r.a.createElement("font",{size:a},r.a.createElement("div",{className:"rte vacation-response-preview "+E.msgPreview,"data-test-id":"settings-preview-content",dangerouslySetInnerHTML:{__html:n},style:{fontFamily:t},ref:e=>this.stationeryWrapper=e})),e.signatureActive&&i!==xe.PreviewTypes.VACATION_RESPONSE?r.a.createElement("div",{className:E.signaturePreview,"data-test-id":"settings-preview-signature",dangerouslySetInnerHTML:{__html:e.signature}}):null,s&&e.isPrimary?r.a.createElement(ke,null):null)))))}}Fe.contextTypes={intl:o.i.isRequired},Fe.defaultProps={content:"",showTweet:!1,composeFontFamily:"",showPreviewText:!0,onDoubleClick:()=>{},vacationResponseV2:!1};var Le=Fe,Be=a(1142),He=a.n(Be),Ue=a(297),je=a(369),We=a(95),Ge=a(1143),Ze=a.n(Ge),Ve=a(471),qe=a(65),ze=a(446),Ye=a(154),Ke=a(266);const Xe=()=>{};class Qe extends r.a.Component{constructor(e){super(e),this.focus=(()=>{this.editor.rte.focus()}),this.execCommand=((e,t)=>{const{data:a,i13nModel:n}=t;switch(e){case xe.ToolbarActions.SEND:return;case xe.ToolbarActions.UPDATE_STATIONERY:this.state.stationeryTheme=a?a.themeName:""}n&&this.props.handleToolbarActions({i13nModel:n}),this.editor.rte.pushButton(e,a),this.focus()}),this.onEditorContentChange=(e=>{const{format:t,type:a}=e;a&&Object(ze.a)(e);let n="";if(this.editor){const e={formatState:babelHelpers.extends({},this.state.formatState,{richTextMode:this.editor.rte.isRich})};Object(O.d)(e.formatState,t)||(e.formatState=babelHelpers.extends({},e.formatState,t)),n=this.editor.getRawMessageContent(),this.setState(e)}this.props.onChange(this.wrapWithFontIfNeeded(n))}),this.wrapWithFontIfNeeded=(e=>{const t=document.createElement("div");if(t.innerHTML=e,1===t.childNodes.length&&t.firstChild.childNodes.length){const e=t.firstChild;return"FONT"===e.nodeName?(e.face||(e.face=this.props.composeFontFamily),e.size||(e.size=this.props.composeFontSize)):(e.style.fontFamily||(e.style.fontFamily=this.props.composeFontFamily),e.style.fontSize||(e.style.fontSize=Object(qe.getFontSizeStyle)(this.props.composeFontSize))),e.outerHTML}return t.style.fontFamily=this.props.composeFontFamily,t.style.fontSize=Object(qe.getFontSizeStyle)(this.props.composeFontSize),t.outerHTML}),this.handleFocus=(()=>{this.setState({focused:!0},this.props.onFocus)}),this.handleBlur=(()=>{this.setState({focused:!1},this.props.onBlur)});const{composeFontSize:t,composeFontFamily:a}=e;this.state={formatState:{richTextMode:!0,foreColor:Ye.a.DEFAULTS.FG_COLOR,backgroundColor:Ye.a.DEFAULTS.BG_COLOR,fontSize:t||"0",fontFamily:a||""},focused:!1,stationeryTheme:""}}shouldComponentUpdate({content:e,disabled:t},{formatState:a,focused:n,editorContainer:s}){return e!==this.props.content||n!==this.state.focused||t!==this.props.disabled||this.state.formatState.richTextMode!==a.richTextMode||this.state.editorContainer!==s}render(){const{composeData:e,attachments:t,htmlAnnotations:a,content:n,ariaLabel:s,disabled:i,composeFontFamily:o,composeFontSize:l,inlineAttachment:d,stationeryRestrictedThemes:m,linkEnhancerUrlBlacklist:_,rtl:u,stationery:h,editorKind:p,toolbarKind:g,stationeryCategory:E,stationeryCategoriesToShow:b,isDomainResponse:C,editorRef:f,vacationResponseV2:v,initialFocus:I,gif:y,onGifClick:S,showInitialPopup:N}=this.props,{focused:T}=this.state,A=c()(Ze.a,{focused:T&&!i,kind:v?`${p}-v2`:p}),M=!N||/^<div(?: style="[^>]*")?>(<br>)?<\/div>$/.test(n),D=!C&&M&&g===xe.ToolbarTypes.VACATION_RESPONSE_SETTINGS;return r.a.createElement("div",{className:A.editorWrapper},i?r.a.createElement("div",{className:A.rte,"data-test-id":"vacation-response-preview",dangerouslySetInnerHTML:{__html:n}}):r.a.createElement("div",{className:A.rte,ref:e=>!this.state.editorContainer&&this.setState({editorContainer:e})},r.a.createElement(Ve.a,{stationery:h,linkEnhancerUrlBlacklist:_,inlineAttachment:d,content:n,onImagePaste:Xe,ariaLabel:s,onBlur:this.handleBlur,attachments:t,kind:p,onFocus:this.handleFocus,ref:e=>{this.editor=e,f(e)},htmlAnnotations:a,composeFontFamily:o,composeFontSize:l,onContentChange:this.onEditorContentChange,rtl:u,onStationeryThemeChange:this.execCommand.bind(this,xe.ToolbarActions.UPDATE_STATIONERY),initialFocus:I,scrollableAreaRef:this.state.editorContainer})),r.a.createElement(Ke.a,{uploadEnabled:!1,showSendButton:!1,showDeleteButton:!1,showPlainTextMode:!1,formatState:this.state.formatState,focusOnEditor:this.focus,kind:g,onExecuteAction:this.execCommand,draftStatus:e.draftStatus,lastDraftSavedTime:e.lastSaved,stationeryEnabled:h,stationeryTheme:this.state.stationeryTheme,stationeryCategory:E,stationeryCategoriesToShow:b,showStationeryDefaultTheme:!1,showStationeryThemeCategories:!1,disabled:i,stationeryRestrictedThemes:m,showStationerySetDefault:!1,showStationeryPicker:D,rtl:u,gifFinderEnabled:y,onGifClick:S}))}}Qe.contextTypes={executeAction:s.a.func},Qe.defaultProps={composeData:{draftStatus:"INIT",lastSaved:Date.now()},htmlAnnotations:[],attachments:[],onBlur:Xe,onFocus:Xe,content:"",isDomainResponse:!1,handleToolbarActions:Xe,editorRef:Xe,vacationResponseV2:!1,gif:!1};var $e=Qe;var Je=Object(N.b)(void 0,e=>({handleToolbarActions:t=>e(Object(We.d)(t))}))($e),et=a(360),tt=a(223),at=a(166);function nt(e,t){const{enabled:a,content:n,domainOne:s,domainTwo:i,onChange:l,onFocus:d,composeFontFamily:m,composeFontSize:_,rtl:u,stationery:h,stationeryRestrictedThemes:p,stationeryCategory:g,stationeryCategoriesToShow:E,toggleType:b,editorRef:C,editorTitleRef:f=(()=>{}),extraEditorPadding:v=!1,vacationResponseV2:I,editorInitialFocus:y,gif:S,onGifClick:N,inlineAttachment:T}=e,{formatMessage:A}=t.intl,M=c()(He.a,{extraEditorPadding:v,vacationResponseV2:I}),D=I?we:Pe;return r.a.createElement("div",{"data-test-id":"domain-specific-response"},r.a.createElement("div",{className:M.fixedWidthOption},r.a.createElement(et.a,{canToggle:!0,subHeader:!0,toggleEnabled:a,toggleType:b,header:A(D.domainResponseHeader),hint:I?void 0:A(D.domainResponseHint),onToggle:()=>l(tt.b.DOMAIN_ENABLED,!a)})),a?r.a.createElement("div",{className:M.domainResponseWrapper},r.a.createElement("div",{className:M.domainNameControl},r.a.createElement("h5",{className:M.headerTitle},r.a.createElement(o.c,D.domainResponseDomainNameText)),r.a.createElement(Ue.a,{isClearable:!0,value:s,placeholder:A(D.domainResponseFirstDomainText),onChange:e=>l(tt.b.DOMAIN_ONE,e),kind:je.a.DARK_BORDER_BOTTOM}),r.a.createElement(Ue.a,{isClearable:!0,value:i,placeholder:A(D.domainResponseSecondDomainText),onChange:e=>l(tt.b.DOMAIN_TWO,e),kind:je.a.DARK_BORDER_BOTTOM})),r.a.createElement("div",{className:M.domainResponseSection},r.a.createElement("h5",{className:M.headerTitle,ref:f},r.a.createElement(o.c,D.domainResponseMessageText)),r.a.createElement("div",{className:M.editor},r.a.createElement(Je,{content:n,onFocus:d,composeFontFamily:m,composeFontSize:_,ariaLabel:A(D.domainResponseEditorAriaLabel),onChange:e=>l(tt.b.DOMAIN_MSG_BODY,e),rtl:u,stationery:h,stationeryRestrictedThemes:p,stationeryCategory:g,stationeryCategoriesToShow:E,editorKind:xe.EditorTypes.VACATION_RESPONSE_SETTINGS,toolbarKind:xe.ToolbarTypes.VACATION_RESPONSE_SETTINGS,editorRef:C,isDomainResponse:!0,vacationResponseV2:I,initialFocus:y,gif:S,onGifClick:N,inlineAttachment:T})))):null)}nt.contextTypes={intl:o.i.isRequired};var st=nt,it=a(1144),rt=a.n(it),ot=a(16),lt=a(30);var ct=function({onSave:e,onCancel:t,disableSave:a=!1,marginLess:n=!1}){const s=c()(rt.a,{marginLess:n,disableSave:a});return r.a.createElement("div",{className:s.viewActions},r.a.createElement(ot.a,{kind:lt.a.PRIMARY,onClick:e,disabled:a,"data-test-id":"view-actions-save-button",className:s.saveButton,marginLess:!0},r.a.createElement(o.c,{id:"save_btn_text",defaultMessage:"Save"})),r.a.createElement(ot.a,{"data-test-id":"view-actions-cancel-button",kind:lt.a.SECONDARY_BORDERLESS,onClick:t,className:s.cancelButton},r.a.createElement(o.c,{id:"cancel_btn_text",defaultMessage:"Cancel"})))},dt=a(1145),mt=a.n(dt);const _t=c()(mt.a),ut=({header:e,helpLinks:t,demoImg:a,showHelpLinks:n},s)=>{const{helpUrl:i}=s.config;return r.a.createElement("section",{className:_t.container,"data-test-id":"setting-help"},r.a.createElement("div",{className:_t.demoImgContainer},r.a.createElement("img",{className:_t.demoImg,src:Object(pe.a)(a)})),n?r.a.createElement("div",{"data-test-id":"setting-help-link-container"},r.a.createElement("div",{className:_t.header},e),r.a.createElement("ul",{className:_t.listContainer},t&&t.map((e,t)=>e.link?r.a.createElement("li",{className:_t.listItem,key:t},r.a.createElement("a",{className:_t.helpLink,href:e.link,target:"_blank",rel:"noopener"},e.text)):null)),r.a.createElement("a",{className:_t.moreHelp,href:i,target:"_blank",rel:"noopener"},r.a.createElement(o.c,{id:"setting.rightrail.morehelp",defaultMessage:"Need more help?"}))):null)};ut.contextTypes={config:s.a.object.isRequired};var ht=Object(N.b)(e=>{const{getFeaturesSelectors:t}=Object(F.b)(e);return{showHelpLinks:t().isEnabled(f.kb.SHOW_RIGHT_RAIL_HELP_LINKS)}})(ut),pt=a(46),gt=a(229);class Et extends r.a.Component{constructor(e){super(e),this.handleChange=((e,t)=>{this.setState({[e]:t})}),this.handleDateChange=((e,t)=>{const a={[tt.b.START_DATE]:e,[tt.b.END_DATE]:t};a.error=t<new Date(1e3*Object(pt.p)(Object(pt.i)()))?Pe.endDateError:e>t?Pe.startDateError:null,this.setState(a)}),this.reset=(e=>{this.setState(this.getStateFromProps(this.props.vacationPreferences)),I.b.sendI13nModel({i13nModel:{mKey:v.e.SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY,interactionType:Object(S.i)(e),sec:v.g.SETTINGS_AUTOMATIC_REPLY_TAB}})}),this.saveVacationResponse=(e=>{const t=[],{enabled:a,endDate:n,domainOne:s,domainTwo:i,startDate:r,messageBody:o,domainMessageBody:l,domainResponseEnabled:c}=this.state;if(!this.isDataValid())return;c&&(s&&t.push(s.trim()),i&&t.push(i.trim())),0===t.length&&t.push("");const d={enabled:a,startDate:Object(pt.p)(r),endDate:Object(pt.k)(n),messageBody:o,domainSpecificResponse:{domains:t,domainMessageBody:l}};this.props.onSave({value:d,actionType:tt.a.SAVE,i13nModel:{interactionType:Object(S.i)(e)}})}),this.setDomainSectionFocus=(e=>{this.setState({domainFocused:e})}),this.state=this.getStateFromProps(this.props.vacationPreferences)}getStateFromProps({enabled:e,endDate:t,startDate:a,messageBody:n,domainSpecificResponse:s={}}){const[i="",r=""]=s.domains||[],o=Math.floor(Date.now()/1e3);return(!a||!t||t<o-pt.a)&&(e=!1,a=t=o),{enabled:e,error:"",domainOne:i,domainTwo:r,messageBody:n,showErrors:!0,domainFocused:!1,domainResponseEnabled:!!i,endDate:Object(pt.c)(t),startDate:Object(pt.c)(a),domainMessageBody:s.domainMessageBody||""}}componentWillReceiveProps(e){const{enabled:t,endDate:a,startDate:n,messageBody:s}=this.props.vacationPreferences,{vacationPreferences:i={}}=e;i.enabled===t&&i.messageBody===s&&i.startDate===n&&i.endDate===a||this.setState(this.getStateFromProps(i))}isDataValid(){const{startDate:e,endDate:t}=this.state;return e&&t&&t>=Object(pt.p)(new Date)&&e<=t}render(){const{formatMessage:e,locale:t}=this.context.intl,{partner:a}=this.context,{activeAccount:n,composeFontFamily:s,composeFontSize:i,inlineAttachment:l,stationeryRestrictedThemes:d,linkEnhancerUrlBlacklist:m,rtl:_,stationery:u,vacationPreferences:h}=this.props,{error:p,enabled:g,endDate:E,startDate:b,domainOne:C,domainTwo:v,showErrors:I,messageBody:y,domainFocused:S,domainMessageBody:N,domainResponseEnabled:T}=this.state,A=c()(fe.a,{disabled:!g,stationery:u}),{messageBody:M}=h,{signature:D=""}=n,O=g&&!M?D:M;return r.a.createElement("div",{className:A.container,"data-test-id":"vacation-response"},r.a.createElement("div",{className:A.left},r.a.createElement("div",{className:A.mainWrapper},r.a.createElement("div",{className:A.pageHeader},r.a.createElement(et.a,{header:e(Pe.header),hint:e(Pe.hint)})),r.a.createElement("div",{className:`${A.toggleBtn} ${A.fixedWidthOption}`},r.a.createElement(et.a,{canToggle:!0,subHeader:!0,toggleEnabled:g,header:e(Pe.toggleBtn),onToggle:()=>this.handleChange(tt.b.ENABLED,!g)})),r.a.createElement("div",{className:A.overlay},r.a.createElement("div",{className:`${A.mB40} ${A.fixedWidthOption}`},r.a.createElement("h5",{className:A.headerTitle},r.a.createElement(o.c,Pe.dateText)),r.a.createElement("div",{className:A.formControl},r.a.createElement(ve.a,{startDate:b,endDate:E,onChange:this.handleDateChange,disabled:!g,disableErrors:()=>this.setState({showErrors:!1}),enableErrors:()=>this.setState({showErrors:!0})}),p&&I?r.a.createElement("div",{"data-test-id":"vacation-response-date-error",className:A.error},e(p)):null)),r.a.createElement("div",{className:A.mB40},r.a.createElement("h5",{className:A.headerTitle},r.a.createElement(o.c,Pe.messageText)),r.a.createElement(Je,{linkEnhancerUrlBlacklist:m,inlineAttachment:l,content:O,showInitialPopup:Boolean(M),disabled:!g,ariaLabel:e(Pe.editorAriaLabel),onFocus:this.setDomainSectionFocus.bind(this,!1),onChange:e=>this.handleChange(tt.b.MSG_BODY,e),composeFontFamily:s,composeFontSize:i,stationery:u,stationeryRestrictedThemes:d,stationeryCategory:f.xd.featured,editorKind:xe.EditorTypes.VACATION_RESPONSE_SETTINGS,toolbarKind:xe.ToolbarTypes.VACATION_RESPONSE_SETTINGS})),r.a.createElement(st,{domainOne:C,domainTwo:v,content:N,onChange:this.handleChange,composeFontFamily:s,composeFontSize:i,enabled:g&&T,onFocus:()=>this.setDomainSectionFocus(!0),rtl:_,stationery:u,stationeryCategory:f.xd.featured,stationeryRestrictedThemes:d})),r.a.createElement(ct,{disableSave:!!p,onSave:this.saveVacationResponse,onCancel:this.reset}))),r.a.createElement("div",{className:A.right},g?r.a.createElement(Le,{account:n,composeFontSize:i,composeFontFamily:s,content:S?N:y,kind:xe.PreviewTypes.VACATION_RESPONSE,stationery:u}):r.a.createElement(ht,{demoImg:he.c.VACATION_RESPONSE,header:e(Pe.rightRailHeader),helpLinks:gt.f.map(({text:n,link:s})=>({link:s(t,a),text:e(n)}))})))}}Et.contextTypes={intl:o.i.isRequired,partner:s.a.string};var bt=Et,Ct=a(1146),ft=a.n(Ct),vt=a(1147),It=a.n(vt);const yt={month:"2-digit",day:"2-digit",year:"numeric"};function St({selected:e,startDate:t,endDate:a,onSelect:n},{intl:s}){const i=Object(pt.e)(t,s.locale,yt),l=Object(pt.e)(a,s.locale,yt),d=c()(It.a,{selected:e}),m=a<new Date;return r.a.createElement("li",{className:d.listItem,onClick:n,"data-test-id":"vacation-response-list-item"},r.a.createElement(A.b,{kind:M.b.GETAWAYFILL,size:M.d.M,colorState:M.a.TOUCH_PRIMARY}),r.a.createElement("div",{className:d.datesWrapper},r.a.createElement("span",null,i),r.a.createElement("span",{className:d.datesArrow},r.a.createElement(A.b,{size:M.d.XS,kind:M.b.ARROW_UP,rotate:M.c.D90,colorState:"FIRST_LEVEL_GRAY"})),r.a.createElement("span",null,l),m&&r.a.createElement("div",{className:d.messageWrapper},r.a.createElement(o.c,we.expiredMessage))),m&&r.a.createElement("div",{className:d.expiredStatusWrapper,"data-test-id":"expired-status-wrapper"},r.a.createElement("div",{className:d.statusIcon},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED}))))}St.contextTypes={intl:o.i.isRequired};var Nt=a(1148),Tt=a.n(Nt),At=a(125),Mt=a(233),Dt=a(19),Ot=a(10);class kt extends r.a.Component{constructor(e){super(e);const{vacationPreferences:t}=e;this.state=babelHelpers.extends({},this.getStateFromVacationPreferences(t),{showConfirm:!1,error:"",showErrors:!0,viewActionsAnchored:!1}),this.handleChange=this.handleChange.bind(this),this.handleDateChange=this.handleDateChange.bind(this),this.handleMessageBodyChange=this.handleMessageBodyChange.bind(this),this.handleSave=this.handleSave.bind(this),this.handleCancel=this.handleCancel.bind(this),this.onDeleteClick=this.onDeleteClick.bind(this),this.showDeleteConfirmation=this.showDeleteConfirmation.bind(this),this.hideDeleteConfirmation=this.hideDeleteConfirmation.bind(this),this.handleDelete=this.handleDelete.bind(this),this.recalculateAnchor=this.recalculateAnchor.bind(this),this.handleInvalidDateEntered=this.handleInvalidDateEntered.bind(this),this.handleDomainResponseEditorGifClick=this.handleDomainResponseEditorGifClick.bind(this),this.handleEditorGifClick=this.handleEditorGifClick.bind(this),this.handleClickDatePicker=this.handleClickDatePicker.bind(this),this.memoizedPlainText={}}getStateFromVacationPreferences(e={}){const{startDate:t,endDate:a,messageBody:n="",domainSpecificResponse:s={}}=e,{domains:i=[],domainMessageBody:r=""}=s,[o="",l=""]=i,c=t?Object(pt.c)(t):null,d=a?Object(pt.c)(a):null,m=!(!o&&!l);return{domainOne:o,domainTwo:l,messageBody:n,domainResponseEnabled:m,startDate:c,endDate:d,domainMessageBody:r,canSave:!!(c&&d&&(n||m||r))}}componentWillReceiveProps(e){const{vacationPreferences:t={}}=e;this.props.vacationPreferences!==t&&this.setState(this.getStateFromVacationPreferences(t))}_getTrimmedPlainText(e,t=!1){return Object(Dt.a)(-1!==["messageEditor","domainResponseMessageEditor"].indexOf(e),"editorType must be one of messageEditor, domainResponseMessageEditor"),(t||void 0===this.memoizedPlainText[e])&&(this.memoizedPlainText[e]=this[e].getPlainText().trim()),this.memoizedPlainText[e]}_getMessageBody(e,t=this.state.messageBody){return this.messageEditor?this._getTrimmedPlainText("messageEditor",e):t}_getDomainResponseMessageBody(e,t=this.state.domainMessageBody){return this.domainResponseMessageEditor?this._getTrimmedPlainText("domainResponseMessageEditor",e):t}handleChange(e,t,a){const n=babelHelpers.extends({},this.state,{[e]:t}),{domainOne:s,domainTwo:i,startDate:r,endDate:o,error:l}=n,c=this._getMessageBody("messageBody"===e,n.messageBody),d=this._getDomainResponseMessageBody("domainMessageBody"===e,n.domainMessageBody);this.setState({[e]:t,canSave:!(l||!r||!o||!(s||i||c||d))},a),this.props.preventRouteChange()}handleDateChange(e,t){const{domainOne:a,domainTwo:n}=this.state,s=this._getMessageBody(),i=this._getDomainResponseMessageBody(),r={startDate:e,endDate:t};r.error=t&&t<new Date(1e3*Object(pt.p)(Object(pt.i)()))?we.endDateError:e&&t&&e>t?we.startDateError:null,r.canSave=!(r.error||!e||!t||!(a||n||s||i)),this.setState(r),r.error||this.props.onDateChange(e,t),this.props.preventRouteChange()}handleInvalidDateEntered({startDate:e,endDate:t}){void 0!==e?this.setState({error:we.invalidStartDateError,canSave:!1}):void 0!==t&&this.setState({error:we.invalidEndDateError,canSave:!1})}handleMessageBodyChange(e){this.handleChange("messageBody",e)}_isDataValid(){const{startDate:e,endDate:t}=this.state;return e&&t&&t>=Object(pt.p)(new Date)&&e<=t}handleSave(e){const{endDate:t,domainOne:a,domainTwo:n,startDate:s,domainResponseEnabled:i}=this.state,r=this.messageEditor?this.messageEditor.getInnerHtml():this.state.messageBody,o=this.domainResponseMessageEditor?this.domainResponseMessageEditor.getInnerHtml():this.state.domainMessageBody;if(!this._isDataValid())return;const l={enabled:!0,startDate:Object(pt.p)(s),endDate:Object(pt.k)(t),messageBody:r,domainSpecificResponse:{domains:i?[a,n]:[""],domainMessageBody:i?o:""}};this.props.onSave(l,e)}handleCancel(e){this.setState(this.getStateFromVacationPreferences({})),this.props.onReset(e)}onDeleteClick(e){e.stopPropagation(),this.showDeleteConfirmation()}showDeleteConfirmation(){this.setState({showConfirm:!0})}hideDeleteConfirmation(){this.setState({showConfirm:!1})}handleDelete(e){const{onDelete:t}=this.props;this.hideDeleteConfirmation(),t(e)}_anchorViewActions(){this.setState({viewActionsAnchored:!0})}_unAnchorViewActions(){this.setState({viewActionsAnchored:!1})}recalculateAnchor(){const{viewActionsAnchored:e}=this.state,t=window.innerHeight;if(e){const{bottom:e}=this.formWrapper.getBoundingClientRect();e<=t&&this._unAnchorViewActions()}else{const{bottom:e}=this.viewActionsContainer.getBoundingClientRect();e>t&&this._anchorViewActions()}}scrollToEditor(){this.editorTitle&&(this.mainWrapper.scrollTop+=this.editorTitle.getBoundingClientRect().top-Ot.YBAR_HEIGHT)}scrollToDomainResponseEditor(){this.domainResponseEditorTitle&&(this.mainWrapper.scrollTop+=this.domainResponseEditorTitle.getBoundingClientRect().top-Ot.YBAR_HEIGHT)}componentDidMount(){this.recalculateAnchor()}componentDidUpdate(){this.recalculateAnchor()}handleGifClick(e,{rte:t}={}){t&&Mt.a.insertGif(t,this.context.intl.formatMessage,e)}handleEditorGifClick(e){return this.handleGifClick(e,this.messageEditor)}handleDomainResponseEditorGifClick(e){return this.handleGifClick(e,this.domainResponseMessageEditor)}handleClickDatePicker(){const{startDate:e,endDate:t}=this.state,a=Object(pt.p)(Object(pt.i)());let n=e,s=t;e&&Object(pt.p)(e)<a&&(n=new Date(1e3*Object(pt.p)(Object(pt.i)()))),t&&Object(pt.p)(t)<a&&(s=new Date(1e3*Object(pt.k)(Object(pt.i)()))),n===e&&s===t||this.handleDateChange(n,s)}render(){const{domainOne:e,domainTwo:t,domainResponseEnabled:a,startDate:n,endDate:s,error:i,showErrors:l,canSave:c,showConfirm:d,viewActionsAnchored:m}=this.state,{enabled:_,composeFontSize:u,composeFontFamily:h,inlineAttachment:p,stationeryRestrictedThemes:g,linkEnhancerUrlBlacklist:E,rtl:b,stationery:C,vacationPreferences:v,showDeleteButton:I,editorInitialFocus:y,domainResponseEditorInitialFocus:S,account:N}=this.props,{messageBody:T,domainSpecificResponse:A={}}=v,{domainMessageBody:M}=A,{signature:D=""}=N,{getCss:O,intl:k}=this.context,{formatMessage:R}=k,x=O(Tt.a,{disabled:!_,viewActionsAnchored:m}),P=_&&!T?D:T;return r.a.createElement("div",{className:x.mainWrapper,onScroll:this.recalculateAnchor,ref:e=>this.mainWrapper=e,"data-test-id":"vacation-response-form"},r.a.createElement("div",{className:x.overlay},r.a.createElement("div",{className:x.formWrapper,ref:e=>this.formWrapper=e},r.a.createElement("div",{className:x.mB40},r.a.createElement("h5",{className:x.headerTitle},r.a.createElement(o.c,we.dateText)),r.a.createElement("div",{className:x.formControl,"data-test-id":"vacation-response-date-picker-container",onClick:this.handleClickDatePicker},r.a.createElement(ve.a,{useISODateFormat:!0,startDate:n,endDate:s,onChange:this.handleDateChange,disabled:!_,disableErrors:()=>this.setState({showErrors:!1}),enableErrors:()=>this.setState({showErrors:!0}),onInvalidDateEntered:this.handleInvalidDateEntered,datePickerWidth:198}),i&&l?r.a.createElement("div",{"data-test-id":"vacation-response-date-error",className:x.error},R(i)):null)),r.a.createElement("div",{className:x.mB40},r.a.createElement("h5",{className:x.headerTitle,ref:e=>this.editorTitle=e},r.a.createElement(o.c,we.messageText)),r.a.createElement("div",{className:x.editorWrapper},r.a.createElement("div",{className:x.editor},r.a.createElement(Je,{linkEnhancerUrlBlacklist:E,inlineAttachment:p,content:P,showInitialPopup:Boolean(T),disabled:!_,ariaLabel:R(we.editorAriaLabel),onChange:this.handleMessageBodyChange,composeFontFamily:h,composeFontSize:u,stationery:C,stationeryRestrictedThemes:g,stationeryCategory:f.xd.featured,stationeryCategoriesToShow:[f.xd.featured,f.xd.seasonal],editorKind:xe.EditorTypes.VACATION_RESPONSE_SETTINGS,toolbarKind:xe.ToolbarTypes.VACATION_RESPONSE_SETTINGS,editorRef:e=>this.messageEditor=e,initialFocus:y,vacationResponseV2:!0,gif:!0,onGifClick:this.handleEditorGifClick})))),r.a.createElement(st,{domainOne:e,domainTwo:t,content:M,inlineAttachment:p,onChange:this.handleChange,composeFontFamily:h,composeFontSize:u,enabled:a,rtl:b,stationery:C,stationeryCategory:f.xd.featured,stationeryCategoriesToShow:[f.xd.featured,f.xd.seasonal],stationeryRestrictedThemes:g,toggleType:at.d.CHECKBOX,editorRef:e=>this.domainResponseMessageEditor=e,editorTitleRef:e=>this.domainResponseEditorTitle=e,editorInitialFocus:S,extraEditorPadding:!0,vacationResponseV2:!0,gif:!0,onGifClick:this.handleDomainResponseEditorGifClick}),I&&r.a.createElement("div",{className:x.deleteButton},r.a.createElement(ot.a,{kind:lt.a.DANGER,onClick:this.onDeleteClick,"data-test-id":"delete-button"},r.a.createElement(o.c,we.deleteResponseButtonText)))),r.a.createElement("div",{className:x.viewActionsContainer,ref:e=>this.viewActionsContainer=e},r.a.createElement(ct,{disableSave:!c,onSave:this.handleSave,onCancel:this.handleCancel,marginLess:!0})),d&&r.a.createElement(At.a,{cancelLabel:we.confirmDeleteModalCancelButton,acceptLabel:we.confirmDeleteModalDeleteButton,onConfirm:this.handleDelete,onAbort:this.hideDeleteConfirmation,customTitle:r.a.createElement("div",{className:x.customTitle},r.a.createElement(o.c,we.confirmDeleteModalTitle)),showCustomTitle:!0},r.a.createElement(o.c,we.confirmDeleteModalBody))))}}kt.defaultProps={onReset:()=>{},onDateChange:()=>{},stationery:!0,showDeleteButton:!1,preventRouteChange:()=>{}},kt.contextTypes={intl:o.i,getCss:s.a.func};var Rt=a(205);class xt extends r.a.Component{constructor(...e){var t;return t=super(...e),this.getStateFromVacationPreferences=((e={})=>{const{enabled:t=!1,startDate:a,endDate:n,messageBody:s="",domainSpecificResponse:i={}}=e,{domainMessageBody:r="",domains:[o="",l=""]=[]}=i,c=!!(t||s||o||l||r);return{enabled:t,startDate:a?Object(pt.c)(a):null,endDate:n?Object(pt.c)(n):null,hasResponse:c,adding:!1,selected:!1,editorInitialFocus:!1,domainResponseEditorInitialFocus:!1}}),this.handleChange=((e,t,a)=>{this.setState({[e]:t},a),this.preventRouteChange()}),this.handlePreviewDoubleClick=(e=>{e.stopPropagation(),e.preventDefault(),this.setState({selected:!0,editorInitialFocus:!0,domainResponseEditorInitialFocus:!1},()=>{this.responseForm&&this.responseForm.scrollToEditor()})}),this.handleDomainResponsePreviewDoubleClick=(e=>{e.stopPropagation(),e.preventDefault(),this.setState({selected:!0,editorInitialFocus:!1,domainResponseEditorInitialFocus:!0},()=>{this.responseForm&&this.responseForm.scrollToDomainResponseEditor()})}),this.saveVacationResponse=(({value:e,event:t,actionType:a})=>{this.props.onSave({value:e,actionType:a,i13nModel:{interactionType:Object(S.i)(t)}}),this.allowPageChange()}),this.preventRouteChange=(()=>{this.shouldPreventRouteChange=!0}),this.allowPageChange=(()=>{this.shouldPreventRouteChange=!1}),this._getRightRailState=(()=>{const{enabled:e,adding:t,selected:a,hasResponse:n}=this.state;return{type:e&&(t||a)||!e&&!n?tt.c.EDITOR:tt.c.PREVIEW,enabled:e}}),this.renderRightRail=(e=>{const{activeAccount:t,composeFontFamily:a,composeFontSize:n,inlineAttachment:s,stationeryRestrictedThemes:i,linkEnhancerUrlBlacklist:o,rtl:l,stationery:c,vacationPreferences:d}=this.props,{messageBody:m="",domainSpecificResponse:{domains:_=[],domainMessageBody:u=""}={}}=d,{hasResponse:h,editorInitialFocus:p,domainResponseEditorInitialFocus:g}=this.state,[E="",b=""]=_,C=!(!E&&!b),{type:f,enabled:v}=this._getRightRailState();switch(f){case tt.c.EDITOR:return r.a.createElement("div",{className:e.right},r.a.createElement(kt,{enabled:v,vacationPreferences:this.props.vacationPreferences,onSave:this.onSave,onReset:this.onReset,onDateChange:this.handleDateChange,account:t,composeFontSize:n,composeFontFamily:a,inlineAttachment:s,stationeryRestrictedThemes:i,linkEnhancerUrlBlacklist:o,rtl:l,stationery:c,onDelete:this.onDelete,showDeleteButton:h,ref:e=>this.responseForm=e,editorInitialFocus:p,domainResponseEditorInitialFocus:g,preventRouteChange:this.preventRouteChange}));case tt.c.PREVIEW:return r.a.createElement("div",{className:`${e.right} ${e.overlay}`},r.a.createElement("div",{className:e.previewContainer},r.a.createElement(Le,{account:t,composeFontSize:n,composeFontFamily:a,content:m,stationery:c,kind:xe.PreviewTypes.VACATION_RESPONSE,onDoubleClick:this.handlePreviewDoubleClick,vacationResponseV2:!0}),C&&r.a.createElement(Le,{account:t,composeFontSize:n,composeFontFamily:a,content:u,kind:xe.PreviewTypes.VACATION_RESPONSE,stationery:c,domains:_,showPreviewText:!1,onDoubleClick:this.handleDomainResponsePreviewDoubleClick,vacationResponseV2:!0})))}}),this.onSave=((e,t)=>{this.saveVacationResponse({value:e,event:t,actionType:tt.a.SAVE})}),this.onDelete=(e=>{this.saveVacationResponse({value:{enabled:!1,startDate:0,endDate:0,messageBody:"",domainSpecificResponse:{domains:["",""],domainMessageBody:""}},event:e,actionType:tt.a.DELETE})}),this.onReset=(e=>{this.setState(this.getStateFromVacationPreferences(this.props.vacationPreferences)),this.allowPageChange(),I.b.sendI13nModel({i13nModel:{mKey:v.e.SETTINGS_CANCEL_EDIT_AUTOMATIC_REPLY,interactionType:Object(S.i)(e),sec:v.g.SETTINGS_AUTOMATIC_REPLY_TAB}})}),this.handleToggle=(e=>{const{enabled:t,hasResponse:a}=this.state,n=!t,{vacationPreferences:s}=this.props,{startDate:i,endDate:r,messageBody:o="",domainSpecificResponse:l={}}=s,{domains:c=[],domainMessageBody:d=""}=l,[m="",_=""]=c;this.setState({enabled:n,adding:n&&!a,selected:!1}),(!n||n&&a)&&this.saveVacationResponse({value:{enabled:n,startDate:i,endDate:r,messageBody:o,domainSpecificResponse:{domains:[m,_],domainMessageBody:d}},event:e,actionType:n?tt.a.SWITCH_ON:tt.a.SWITCH_OFF})}),this.handleDateChange=((e,t)=>{this.setState({startDate:e,endDate:t}),this.preventRouteChange()}),this.handleSelectItem=(()=>{this.setState({selected:!0,editorInitialFocus:!1,domainResponseEditorInitialFocus:!1})}),this.getUnsyncedData=(()=>({type:f.Td.VACATION_RESPONSE_SETTINGS,hash:f.Ud.PREVENT_ROUTE_CHANGE,preventRouteChange:this.shouldPreventRouteChange})),this.state=this.getStateFromVacationPreferences(this.props.vacationPreferences),t}componentWillReceiveProps(e){const{vacationPreferences:t={}}=e;this.props.vacationPreferences!==t&&this.setState(this.getStateFromVacationPreferences(t))}render(){const{formatMessage:e}=this.context.intl,{enabled:t,startDate:a,endDate:n,selected:s,hasResponse:i}=this.state,o=c()(ft.a,{disabled:!t});return r.a.createElement(Rt.a,{getUnsyncedData:this.getUnsyncedData},r.a.createElement("div",{className:o.container,"data-test-id":"vacation-response"},r.a.createElement("div",{className:o.left},r.a.createElement("div",{className:o.mainWrapper},r.a.createElement("div",{className:o.pageHeader},r.a.createElement(et.a,{header:e(we.header),hint:e(we.hint)})),r.a.createElement("div",null,r.a.createElement(et.a,{canToggle:!0,subHeader:!0,toggleEnabled:t,header:e(we.subheader),onToggle:this.handleToggle,toggleAriaLabel:e(t?we.disableAriaLabel:we.enableAriaLabel)})),i?r.a.createElement("div",{className:o.overlay},r.a.createElement("ul",{className:o.listWrapper},r.a.createElement(St,{startDate:a,endDate:n,selected:s,onSelect:this.handleSelectItem}))):null)),this.renderRightRail(o)))}}xt.contextTypes={intl:o.i.isRequired};var Pt=xt;var wt=Object(N.b)(void 0,e=>({onSave:({value:t,actionType:a,i13nModel:n})=>e(Object(_.e)({value:t,actionType:a,i13nModel:babelHelpers.extends({mKey:v.e.SETTINGS_AUTOMATIC_REPLY,sec:v.g.SETTINGS_AUTOMATIC_REPLY_TAB},n)}))}))(function(e){let{v2:t}=e,a=babelHelpers.objectWithoutProperties(e,["v2"]);return t?r.a.createElement(Pt,babelHelpers.extends({},a,{stationery:!0})):r.a.createElement(bt,a)}),Ft=a(1021),Lt=a.n(Ft);const Bt=Object(o.h)({unsubscribeHeader:{id:"unsubscribeHeader_label",defaultMessage:"Unsubscribe recommendations"},unsubscribeHint:{id:"unsubscribeHint_label",defaultMessage:"See daily suggestions in a popup when you delete multiple items"}}),Ht=c()(Lt.a);class Ut extends r.a.Component{render(){const{formatMessage:e}=this.context.intl,{unsubscribeEnabled:t,onUnsubToggle:a}=this.props;return r.a.createElement("div",{className:Ht.section,"data-test-id":"unsubscribe-setting"},r.a.createElement(et.a,{canToggle:!0,subHeader:!0,toggleEnabled:t,header:e(Bt.unsubscribeHeader),hint:e(Bt.unsubscribeHint),onToggle:a.bind(null,!t)}))}}Ut.contextTypes={intl:o.i.isRequired};var jt=Ut;const Wt=Object(o.h)({notificationsHeader:{id:"notificationsHeader_label",defaultMessage:"Notifications"},notificationsHint:{id:"notificationsHint_label",defaultMessage:"Never miss important notifications"},desktopNotificationsHeader:{id:"desktopNotificationsHeader_label",defaultMessage:"Desktop notifications"},desktopNotificationsHint:{id:"desktopNotificationsHint_hint",defaultMessage:"Get notifications on new mail"},rightRailHeader:{id:"notification_right_rail_header",defaultMessage:"Find help for notifications"}}),Gt=c()(Lt.a);class Zt extends r.a.Component{render(){const{formatMessage:e,locale:t}=this.context.intl,{mailBrandNameString:a,partner:n}=this.context,{browserNotifications:s,setBrowserNotification:i,onUnsubToggle:o,unsubscribeEnabled:l,unsubscribe:c}=this.props;return r.a.createElement("div",{className:Gt.container,"data-test-id":"browser-notifications"},r.a.createElement("div",{className:Gt.left},r.a.createElement("div",{className:Gt.headerWrapper},r.a.createElement("div",{className:Gt.pageHeader},r.a.createElement(et.a,{header:e(Wt.notificationsHeader),hint:e(Wt.notificationsHint)})),r.a.createElement("div",{"data-test-id":"browser-notifications-setting"},r.a.createElement(et.a,{canToggle:!0,subHeader:!0,toggleEnabled:s,header:e(Wt.desktopNotificationsHeader),hint:e(Wt.desktopNotificationsHint),onToggle:i.bind(null,!s)})),c&&r.a.createElement(jt,{onUnsubToggle:o,unsubscribeEnabled:l}))),r.a.createElement("div",{className:Gt.right},r.a.createElement(ht,{demoImg:he.c.NOTIFICATIONS,header:e(Wt.rightRailHeader),helpLinks:gt.d.map(({text:s,link:i})=>({text:e(s,{mailBrandNameString:a}),link:i(t,n)}))})))}}Zt.contextTypes={intl:o.i.isRequired,config:s.a.object,mailBrandNameString:s.a.string,partner:s.a.string};var Vt=Object(N.b)(void 0,e=>({setBrowserNotification:(t,a)=>e(Object(_.a)({name:f.id.NOTIFICATION,value:t,runV3:!0,i13nModel:{mKey:v.e.SETTINGS_NOTIFICATIONS,sec:v.g.SETTINGS_NOTIFICATIONS_TAB,interactionType:Object(S.i)(a)}}))}))(Zt),qt=a(1149),zt=a.n(qt),Yt=a(129),Kt=a.n(Yt);var Xt=class extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleClick=(e=>{this.props.onSelect(e)}),t}componentWillMount(){this.optionNodes=[],this.dropdown=null}componentDidUpdate(){const e=null!==this.dropdown?this.dropdown.scrollTop:0,t=10*Ot.GRID_UNIT,{activeIndex:a}=this.props;a*t<e&&this.optionNodes[a]?this.optionNodes[a].scrollIntoView({block:"start"}):e+10*t<=a*t&&this.optionNodes[a]&&this.optionNodes[a].scrollIntoView({block:"end"})}render(){const{options:e,visible:t,className:a,itemClassName:n,getLocationName:s,activeIndex:i}=this.props;return t?r.a.createElement("div",{className:a,ref:e=>this.dropdown=e},e.map((e,t)=>r.a.createElement("div",{key:t,ref:e=>{this.optionNodes[t]=e}},r.a.createElement(Yt.Option,{className:n,value:e,onMouseDown:e=>this.handleClick(e),isActive:t===i},s(e))))):null}},Qt=a(1150),$t=a.n(Qt);const Jt=function(e){const t=new Date;return e.filter(e=>{const a=function(e,t){try{return Object(pt.s)(e,t)}catch(e){return null}}(t,e.timezone.name);return null===a||a===Object(D.d)()}).sort((e,t)=>{const a=e.city.toLowerCase(),n=t.city.toLowerCase();return a<n?-1:a>n?1:0})}(a(1151));const ea=Object(o.h)({placeholder:{id:"locationSelector_placeholder",defaultMessage:"Search city"},title:{id:"timeZone_title",defaultMessage:"Closest city and timezone"},timezoneUpdateTip:{id:"timezone_update_tip",defaultMessage:"Your timezone is not consistent with your computer's timezone"},clearButton:{id:"locationSelector_clear",defaultMessage:"Clear"},changeButton:{id:"locationSelector_change",defaultMessage:"Change"}}),ta=[",",".","up","down","enter","esc"];class aa extends r.a.Component{constructor(e,t){super(e,t),na.call(this);const{initialValue:a}=e,{name:n}=t.timezone,s=Object(D.e)(n);this.requestOptions=ye()(e=>{t.yqlClient.request("cities",{input:e,".lang":t.locale.name}).then(e=>{this.setState({options:e,error:this.state.inputText.length>0&&0===e.length})},()=>{this.setState({error:!0})})},500),this.state={options:a?[a]:[],inputText:a?this.getLocationName(a):"",value:a,activeIndex:0,selecting:!1,error:!1,defaultOptions:Jt,settingError:s?f.hd.ERROR:f.hd.NONE,userInteracted:!1}}componentWillReceiveProps(e,t){const{name:a}=t.timezone;Object(D.e)(a)&&!this.state.userInteracted&&this.setState({settingError:f.hd.ERROR,selecting:!0},()=>{this.typeahead.focus(),this.typeahead.hideResults()})}componentDidMount(){window.addEventListener("click",this.handleWindowClick,!1),this.context.bindShortcut(ta,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(ta),window.removeEventListener("click",this.handleWindowClick,!1),clearTimeout(this.timer)}render(){const{options:e,value:t={},inputText:a,activeIndex:n,selecting:s,error:i,defaultOptions:l,settingError:d,userInteracted:m}=this.state,{timezone:_}=t,{formatMessage:u}=this.context.intl,h=c()($t.a,{error:i||d===f.hd.ERROR&&!m});return r.a.createElement("div",null,r.a.createElement(et.a,{subHeader:!0,settingError:d,header:u(ea.title)}),r.a.createElement("div",{className:h.hint},r.a.createElement(o.c,{id:"location_selector_top_hint",defaultMessage:"Set your inbox location to set your default time zone"})),d===f.hd.ERROR?r.a.createElement("div",{"data-test-id":"error-message",className:h.timezoneUpdateTip},u(ea.timezoneUpdateTip)):null,r.a.createElement("div",{className:h.formControl,onKeyDown:this.focusOnDropdown,ref:e=>this.selector=e},r.a.createElement("div",{className:h.selectbox,"data-test-id":"timezone-selectbox",onClick:()=>this.focusOnSelector(a)},r.a.createElement(Kt.a,{ref:e=>this.typeahead=e,maxVisible:10,disabled:!s,placeholder:u(ea.placeholder),inputValue:a,hintValue:this.getLocationHint(a,e,n),onInputChange:this.handleInputChange,onSelect:this.handleSelect,onActiveIndexChange:this.handleActiveIndexChange,className:h.typeahead,inputContainerClassName:h.typeaheadInputContainer,inputClassName:h.typeaheadInput,inputHintClassName:h.typeaheadInputHint,dropDownClassName:h.typeaheadDropDown,onFocus:e=>e.target.select()},e.map((e,t)=>r.a.createElement(Yt.Option,{key:t,className:h.typeaheadOption,value:e},this.getLocationName(e)))),r.a.createElement(Xt,{options:l,visible:s&&!a,className:h.dropdownList,itemClassName:h.typeaheadOption,onSelect:this.handleSelect,getLocationName:this.getLocationName,activeIndex:n}),s&&a&&m?null:r.a.createElement("span",{className:h.changeButtonContainer},r.a.createElement(De.a,{"data-test-id":"change-location",kind:M.b.INPUT_ARROW_DOWN,size:M.d.XXS,colorState:M.a.INHERITED,onClick:this.handleChangeClick,title:u(ea.changeButton)})),s&&a.length>0&&m?r.a.createElement("span",{className:h.clearIconContainer},r.a.createElement(De.a,{"data-test-id":"clear-button",kind:M.b.CLEAR,size:M.d.XXS,colorState:M.a.FAINT,onClick:this.handleClearInput,title:u(ea.clearButton)})):null),r.a.createElement("div",{className:h.relatedInfo},i&&r.a.createElement(o.c,{id:"location_request_failure",defaultMessage:"Location unknown"}),!i&&_&&_.longName&&r.a.createElement("div",null,r.a.createElement(o.c,{id:"mail_timezone",defaultMessage:"Your timezone:"})," ",r.a.createElement(o.c,{id:"location_timezone",defaultMessage:"{UTC}{offsetPositive, select, true {+} false {-} }{timezoneOffset} {timezoneName}",values:{UTC:"GMT",offsetPositive:_.offsetPositive,timezoneOffset:_.currentOffset,timezoneName:_.longName}})),i||d!==f.hd.ERROR?null:r.a.createElement(o.c,{id:"system_timezone",defaultMessage:"Computer's timezone: GMT{genericName} {longName}",values:{genericName:Object(D.b)(Object(D.d)()),longName:Object(D.c)(this.context.intl.locale)}}))))}}aa.contextTypes={intl:o.i,locale:E.d,yqlClient:E.f,timezone:E.e,bindShortcut:s.a.func,unbindShortcut:s.a.func};var na=function(){this.handleShortcuts=(e=>{switch(e.preventDefault(),e.stopPropagation(),e.code){case"Comma":case"ArrowUp":this._onNavigate(f.O.UP);break;case"Period":case"ArrowDown":this._onNavigate(f.O.DOWN);break;case"Enter":this._onSelect();break;case"Escape":this._onEscape()}}),this.handleWindowClick=(e=>{const t=this.selector;!t.contains(e.target)&&t!==e.target&&this._onEscape()}),this.getLocationHint=((e,t,a)=>{if(!e||!t||!t.length)return"";const n=this.getLocationName(t[a]);return n.substr(0,e.length).toLowerCase()!==e.toLowerCase()?"":e+n.substr(e.length)}),this.getLocationName=(({city:e,state:t,country:a})=>t?`${e}, ${t}, ${a}`:`${e}, ${a}`),this.handleInputChange=(e=>{this.setState({inputText:e,error:!1,activeIndex:0,userInteracted:!0}),this.requestOptions(e)}),this.handleSelect=(e=>{this.setState({settingError:f.hd.VALIDATING}),this.props.onChange(e),this.timer=Object(D.e)(e.timezone.name)?setTimeout(()=>{this.setState({settingError:f.hd.ERROR})},1500):setTimeout(()=>{this.setState({settingError:f.hd.RESOLVED})},1500),this.setState({inputText:this.getLocationName(e),value:e,selecting:!1,userInteracted:!0}),document.activeElement.blur()}),this.handleActiveIndexChange=(e=>{this.setState({activeIndex:e})}),this.handleChangeClick=(e=>{if(this.state.selecting&&this.state.userInteracted)this._onEscape();else{this.setState({selecting:!0,inputText:"",activeIndex:0,options:[],userInteracted:!0},()=>{this.typeahead.focus()})}e.stopPropagation()}),this.handleClearInput=(e=>{this.setState({inputText:"",error:!1,value:void 0,userInteracted:!0}),e.stopPropagation()}),this.focusOnSelector=(e=>{const{name:t}=this.context.timezone,a={selecting:!0};Object(D.e)(t)&&(a.inputText=""),this.state.selecting||(this.setState(a,()=>{this.typeahead.focus()}),this.requestOptions(e))}),this.focusOnDropdown=(e=>{this.state.inputText||this.state.selecting&&e.key===f.zb.ARROW_DOWN&&document.activeElement.blur()}),this._onNavigate=(e=>{if(this.state.inputText)return;const t=this.state.activeIndex+(e===f.O.UP?-1:1);0<=t&&t<this.state.defaultOptions.length&&this.setState({activeIndex:t,userInteracted:!0})}),this._onEscape=(()=>{const e={selecting:!1,activeIndex:0,inputText:this.props.initialValue?this.getLocationName(this.props.initialValue):"",userInteracted:!1};this.setState(e)}),this._onSelect=(()=>{const e=this.state.defaultOptions[this.state.activeIndex];this.setState({activeIndex:0}),this.handleSelect(e)})},sa=aa,ia=a(986),ra=a.n(ia);const oa=c()(ra.a),la=Object(o.h)({goBackToFolder:{id:"back-to-folder-action",defaultMessage:"Go back to original folder"},showPreviousMessage:{id:"previous-message-action",defaultMessage:"Show previous message"},showNextMesage:{id:"next-message-action",defaultMessage:"Show next message"}}),ca={SHOW_NEXT_MESSAGE:la.showNextMesage,SHOW_PREVIOUS_MESSAGE:la.showPreviousMessage,GO_BACK_TO_FOLDER:la.goBackToFolder};function da({actionAfterMsgMove:e,onChange:t},a){const{formatMessage:n}=a.intl,s=Object.keys(f.h).map(a=>{const s=e===f.h[a],i=c()(ra.a,{isChecked:s});return r.a.createElement("li",{key:a},r.a.createElement("label",{className:i.previewOption},r.a.createElement("input",{type:"radio",checked:s,onChange:t,name:"actionAfterMsgMove",value:f.h[a]}),r.a.createElement("span",{className:i.previewOptionText},n(ca[a]))))});return r.a.createElement("ul",{className:oa.menuList},s)}da.contextTypes={intl:o.i.isRequired};var ma=da;const _a=c()(ra.a),ua=Object(o.h)({IMMEDIATELY:{id:"mark_as_read_interval_immediately",defaultMessage:"Immediately"},AFTER_2_SECONDS:{id:"mark_as_read_interval_after_2_seconds",defaultMessage:"After 2 seconds"},AFTER_5_SECONDS:{id:"mark_as_read_interval_after_5_seconds",defaultMessage:"After 5 seconds"},NEVER:{id:"mark_as_read_interval_never",defaultMessage:"Never"}});function ha({markAsReadInterval:e,onChange:t},a){const{formatMessage:n}=a.intl,s=Object.keys(f.Yb).map(a=>{const s=e===f.Yb[a],i=c()(ra.a,{isChecked:s});return r.a.createElement("li",{key:a},r.a.createElement("label",{className:i.previewOption},r.a.createElement("input",{type:"radio",checked:s,onChange:t,name:"markAsReadIntervalOptions",value:f.Yb[a]}),r.a.createElement("span",{className:i.previewOptionText},n(ua[a]))))});return r.a.createElement("ul",{className:_a.menuList},s)}ha.contextTypes={intl:o.i.isRequired};var pa=ha,ga=a(1152),Ea=a.n(ga);const ba=c()(Ea.a),Ca=Object(o.h)({neverShow:{id:"never-show-images",defaultMessage:"Ask before showing external images"},alwaysShow:{id:"always-show-images",defaultMessage:"Always, except in spam folder"}}),fa={NEVER:Ca.neverShow,ALWAYS:Ca.alwaysShow};function va({showImageSetting:e,onChange:t},a){const{formatMessage:n}=a.intl,s=Object.keys(f.od).map(a=>{const s=e===f.od[a],i=c()(Ea.a,{isChecked:s});return r.a.createElement("li",{key:a},r.a.createElement("label",{className:i.showImageOption},r.a.createElement("input",{type:"radio",name:"showImageOption",checked:s,onChange:t,value:f.od[a]}),r.a.createElement("span",{className:i.showImageOptionText},n(fa[a]))))});return r.a.createElement("ul",{className:ba.menuList},s)}va.contextTypes={intl:o.i.isRequired};var Ia=va;const ya=c()(zt.a),Sa=Object(o.h)({viewEmailHeader_label:{id:"viewEmailHeader_label",defaultMessage:"Viewing emails"},viewEmailHint_hint:{id:"viewEmailHint_hint",defaultMessage:"Manage your email viewing experience"},groupByConversation_text:{id:"groupByConversation_text",defaultMessage:"Group by conversation"},rightRailHeader:{id:"view_email_right_rail_header",defaultMessage:"Find help for viewing emails"},mark_as_read_interval_immediately:{id:"mark_as_read_interval_immediately",defaultMessage:"Immediately"}});class Na extends r.a.Component{constructor(e){super(e),this.toggleConversationMode=(e=>{this.props.updateConversationMode({value:!this.props.conversationSetting,i13nModel:{mKey:v.e.SETTINGS_CONVERSATION,sec:v.g.SETTINGS_VIEWING_EMAIL_TAB,interactionType:Object(S.i)(e)}})}),this.changeShowImageSetting=(e=>{const{showImageSetting:t,pacNotificationShown:a}=this.props,n="true"===e.currentTarget.value;if(n===t)return;const s={mKey:v.e.SHOW_IMG,sec:v.g.SETTINGS_VIEWING_EMAIL_TAB,interactionType:Object(S.i)(e)};a&&!n&&(s.actionData={img_setting:n}),this.setState({showImageSetting:n},()=>{this.props.changeSettings({name:f.id.SHOW_IMAGES,value:n,i13nModel:s})})}),this.handleMarkAsReadIntervalChange=(e=>{const{markAsReadInterval:t}=this.props,a=Number(e.currentTarget.value);a!==t&&this.props.changeSettings({name:f.id.MARK_AS_READ_INTERVAL,value:a})}),this.handleLocationChange=(e=>{this.props.updateLocationSetting({location:e})}),this.handleActionAfterMessageMoveChange=(e=>{const{actionAfterMsgMove:t}=this.props,a=Number(e.currentTarget.value);a!==t&&this.props.changeSettings({name:f.id.ACTION_AFTER_MSG_MOVE,value:a})}),this.state={showImageSetting:this.props.showImageSetting}}render(){const{conversationSetting:e,actionAfterMsgMove:t,markAsReadInterval:a}=this.props,{timezone:n,mailBrandNameString:s,partner:i}=this.context,{showImageSetting:l}=this.state,{formatMessage:c,locale:d}=this.context.intl;let m;return n.location&&n.location.city?m=Object.assign({},n.location):n.geoLocation&&n.geoLocation.city&&(m=Object.assign({},n.geoLocation)),m&&(m.timezone={name:n.name,longName:n.longName,currentOffset:n.formattedOffset,offsetPositive:n.currentOffset>=0}),r.a.createElement("div",{className:ya.container,"data-test-id":"viewing-email"},r.a.createElement("div",{className:ya.left},r.a.createElement("div",{className:ya.pageHeader},r.a.createElement(et.a,{header:c(Sa.viewEmailHeader_label),hint:c(Sa.viewEmailHint_hint)})),r.a.createElement("div",{className:ya.formControl,"data-test-id":"group-conversation-setting"},r.a.createElement(et.a,{canToggle:!0,subHeader:!0,toggleEnabled:e,onToggle:this.toggleConversationMode,header:c(Sa.groupByConversation_text)}),r.a.createElement("p",{className:ya.hint},r.a.createElement(o.c,{id:"group_by_conversation_hint",defaultMessage:"Messages within an email thread will be grouped together"}))),r.a.createElement("div",{className:ya.sectionHeaderContainer},r.a.createElement(sa,{initialValue:m,onChange:this.handleLocationChange})),r.a.createElement("div",{className:ya.sectionHeaderContainer},r.a.createElement("p",{className:ya.sectionHeaderName},r.a.createElement(o.c,{id:"mark_as_read_interval_options_title",defaultMessage:"Mark as read interval"})),r.a.createElement(pa,{markAsReadInterval:a,onChange:this.handleMarkAsReadIntervalChange})),r.a.createElement("div",{className:ya.sectionHeaderContainer},r.a.createElement("p",{className:ya.sectionHeaderName},r.a.createElement(o.c,{id:"action_after_message_move_text",defaultMessage:"After moving a message"})),r.a.createElement(ma,{actionAfterMsgMove:t,onChange:this.handleActionAfterMessageMoveChange})),r.a.createElement("div",{className:ya.sectionHeaderContainer},r.a.createElement("p",{className:ya.sectionHeaderName},r.a.createElement(o.c,{id:"showImageHeader_text",defaultMessage:"Show images in messages"})),r.a.createElement("div",{"data-test-id":"show-image-options"},r.a.createElement(Ia,{onChange:this.changeShowImageSetting,showImageSetting:l})))),r.a.createElement("div",{className:ya.right},r.a.createElement(ht,{demoImg:he.c.VIEWMAIL,header:c(Sa.rightRailHeader),helpLinks:gt.g.map(({text:e,link:t})=>({text:c(e,{mailBrandNameString:s}),link:t(d,i)}))})))}}Na.contextTypes={intl:o.i.isRequired,executeAction:s.a.func,timezone:E.e,mailBrandNameString:s.a.string,partner:s.a.string};var Ta=Object(N.b)(e=>{const{getFeaturesSelectors:t,getFeatureCueSelectors:a}=Object(F.b)(e),n=t(),s=n.isEnabled(f.id.SHOW_IMAGES),i=a().isShown("pacNotificationCue");return{showImageSetting:n.isEnabled(f.kb.INLINE_IMAGES_PROXIED)&&i||s,pacNotificationShown:i,conversationSetting:n.isEnabled(f.kb.CONVERSATIONS),actionAfterMsgMove:n.getSetting(f.id.ACTION_AFTER_MSG_MOVE),markAsReadInterval:n.getSetting(f.id.MARK_AS_READ_INTERVAL)}},e=>({changeSettings:t=>e(Object(_.a)(t)),updateConversationMode:t=>e(Object(L.z)(t)),updateLocationSetting:t=>e(Object(L.C)(babelHelpers.extends({},t,{isUpdating:!0})))}))(Na),Aa=a(1153),Ma=a.n(Aa),Da=a(1154),Oa=a.n(Da),ka=a(361),Ra=a(298),xa=a(232),Pa=a(1022),wa=a.n(Pa);function Fa({children:e,active:t}){const a=c()(wa.a,{isActive:t});return r.a.createElement("article",{className:a.accordionPanel,"data-test-id":"accordion-content"},e)}const La=c()(wa.a);class Ba extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={selected:this.props.selected},this.handleClick=(e=>{let t=this.state.selected.slice(0);const a=t.indexOf(e);-1!==a?t.splice(a,1):this.props.multiSelect?t.push(e):t=[e],this.setState({selected:t})}),this.handleKeyDown=((e,t)=>{"Enter"===t.key&&this.handleClick(e)}),this.renderPanels=(()=>{return r.a.createElement("ul",{className:La.accordionContainer},r.a.Children.map(this.props.children,function(e,t){const{title:a,children:n}=e.props,s=-1!==this.state.selected.indexOf(t),i=c()(wa.a,{isActive:s});return r.a.createElement("li",{key:t,className:i.itemContainer,"data-test-id":"accordion-item"},r.a.createElement("div",{className:i.itemTitle,tabIndex:0,"data-test-id":"accordion-header",onKeyDown:this.handleKeyDown.bind(this,t),onClick:this.handleClick.bind(this,t)},r.a.createElement("span",{className:i.arrow},r.a.createElement(A.b,{kind:M.b.CHEVRON_UP,size:M.d.XS,rotate:M.c.D90,colorState:M.a.NORMAL})),r.a.createElement("span",null,a)),r.a.createElement(Fa,{active:s},n))}.bind(this)))}),t}render(){return r.a.createElement("div",{className:La.accordionWrapper},this.renderPanels())}}Ba.defaultProps={selected:[0],multiSelect:!1};var Ha=Ba;const Ua=Object(O.c)(["ADD","EDIT","DELETE","MOVE_UP","MOVE_DOWN"]),ja={SENDER:"From",TOORCC:"To/CC",SUBJECT:"Subject",BODY:"Body"},Wa={CONTAINS:"contains",NOTCONTAINS:"does not contain",BEGINSWITH:"begins with",ENDSWITH:"ends with"},Ga={ALL:"ALL",INBOX:"Inbox",SENT:"Sent",ARCHIVE:"Archive",SPAM:"Spam",TRASH:"Trash",MOVETOFOLDER:"MOVETOFOLDER",OPERATOR:"operator",NAME:"name",VALUE:"value",MATCH_CASE:"matchCase",SELECTED_FOLDER:"selectedFolder",NEW_FOLDER_NAME:"newFolderName"};function Za({actions:e=[]}){if(Array.isArray(e)&&e.length>0){const t=e[0].value;if(t){const e=t.folderActionValueBean;return e?e.folder.name:""}}return""}var Va=Object(o.h)({filterName:{id:"filter_name_label",defaultMessage:"Filter Name"},selectCondition:{id:"select_filter_condition",defaultMessage:"Select a filter criterion"},filterValue:{id:"filter_value_placeholder",defaultMessage:"Type a filter value"},filterNameHint:{id:"filter_name_hint",defaultMessage:"Name your Filter"},filterNamePlaceholder:{id:"filter_name_placeholder",defaultMessage:"Type a filter name"},selectFolderPlaceholder:{id:"select_folder_placeholder",defaultMessage:"Select folder"},newFolderPlaceholder:{id:"type_new_folder_placeholder",defaultMessage:"Folder name"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},storageLimitError:{id:"setting_limit_error_text",defaultMessage:"You have reached the storage limit"},filterNameError:{id:"filter_name_error_text",defaultMessage:"Filter Name is invalid"},noFilterSelectedError:{id:"no_filter_selected_error_text",defaultMessage:"You must specify at least one filter rule."},folderLengthTooLongError:{id:"folder_name_length_error_text",defaultMessage:"Please choose a folder name under 40 characters"},folder_inbox_label:{id:"folder_inbox",defaultMessage:"Inbox"},folder_sent_label:{id:"folder_sent",defaultMessage:"Sent"},folder_archive_label:{id:"folder_archive",defaultMessage:"Archive"},folder_trash_label:{id:"folder_trash",defaultMessage:"Trash"},folder_spam_label:{id:"folder_bulk",defaultMessage:"Spam"},contains:{id:"contains_text",defaultMessage:"contains"},does_not_contain:{id:"does_not_contain_text",defaultMessage:"does not contain"},begins_with:{id:"begins_with_text",defaultMessage:"begins with"},ends_with:{id:"ends_with_text",defaultMessage:"ends with"},from:{id:"from_label",defaultMessage:"From"},to_cc:{id:"to_or_cc_label",defaultMessage:"To/CC"},subject:{id:"subject_label",defaultMessage:"Subject"},body:{id:"body_label",defaultMessage:"Body"}}),qa=a(459);const za=92*Ot.GRID_UNIT,Ya=5*Ot.GRID_UNIT,Ka=c()(Oa.a);class Xa extends r.a.Component{constructor(...e){var t;return t=super(...e),this.getStateFromProps=(({name:e,index:t=-1,criterions:a=[],actions:n=[]})=>{const s={name:e,index:t,error:"",newFolderName:"",selectedFolder:Za({actions:n})};return Object.keys(ja).forEach(e=>{const t=a.findIndex(t=>t.field===e),n=t>-1?Object.assign({},a[t]):{};s[e]=n}),s}),this.saveFilter=(()=>{const e=[],{onCreateNewFolder:t,onSave:a,limitReached:n}=this.props,{index:s,name:i,selectedFolder:r,newFolderName:o}=this.state,l=r||o||Ga.INBOX;n?this.setState({error:Va.storageLimitError}):i?l.length>=40?this.setState({error:Va.folderLengthTooLongError}):(Object.keys(ja).forEach(t=>{const{field:a,operator:n,value:s="",matchCase:i=!1}=this.state[t];n&&s.trim()&&e.push({field:a,operator:n,value:s,matchCase:i})}),0!==e.length?(!r&&o&&t(o),a({name:i,index:s,criterions:e,matchType:Ga.ALL,actions:[{type:Ga.MOVETOFOLDER,value:{folderActionValueBean:{folder:{name:l}}}}]})):this.setState({error:Va.noFilterSelectedError})):this.setState({error:Va.filterNameError})}),this.handleEditFiterRule=((e,t,a)=>{const n=this.state,s=n[e]||{};s[t]=a,s.field=e,n[e]=s,this.setState(n)}),this.handleChange=((e,t)=>{const a={[e]:t},n=Ga.NEW_FOLDER_NAME,s=Ga.SELECTED_FOLDER;e===n&&t?a[s]="":e===s&&t&&(a[n]=""),this.setState(a)}),this.getLocalizedFolderValue=(e=>{const{formatMessage:t}=this.context.intl;switch(e){case Ga.INBOX:return t(Va.folder_inbox_label);case Ga.SENT:return t(Va.folder_sent_label);case Ga.ARCHIVE:return t(Va.folder_archive_label);case Ga.SPAM:return t(Va.folder_spam_label);case Ga.TRASH:return t(Va.folder_trash_label);default:return e}}),this.renderFilterCriterions=(()=>{const{formatMessage:e}=this.context.intl;return Object.keys(ja).map((t,a)=>{const n=this.state[t];return r.a.createElement(Fa,{key:a,title:e(Va[ja[t].toLowerCase().replace(/\//g,"_")])},r.a.createElement("div",{className:Ka.control},r.a.createElement(ka.a,{selected:n.operator,placeholder:e(Va.selectCondition),title:e(Va.selectCondition),onChange:e=>{this.handleEditFiterRule(t,Ga.OPERATOR,e)},dropdownType:qa.a.FITCONTENT,maxWidth:za-Ya},Object.keys(Wa).map(t=>r.a.createElement(Ra.a,{key:t,value:t},e(Va[Wa[t].replace(/ /g,"_")]))))),r.a.createElement(Ue.a,{isClearable:!0,name:t,value:n.value,"aria-label":t,placeholder:e(Va.filterValue),onChange:e=>this.handleEditFiterRule(t,Ga.VALUE,e)}),r.a.createElement("div",{className:Ka.matchCase},r.a.createElement(xa.a,{isChecked:!!n.matchCase,onClick:()=>this.handleEditFiterRule(t,Ga.MATCH_CASE,!n.matchCase)}),r.a.createElement(o.c,{id:"match_case_test",defaultMessage:"Match case"})))})}),this.state=this.getStateFromProps(this.props.filter),t}render(){const{formatMessage:e}=this.context.intl,{folderNamesForRendering:t,onCancel:a}=this.props,{name:n,error:s,newFolderName:i}=this.state,l=!!s?e(s):"";return r.a.createElement("div",{className:Ka.filterWrapper,"data-test-id":"settings-filter-editor"},r.a.createElement("div",{className:Ka.filterPreviewSection},r.a.createElement("header",{className:Ka.previewTitleWrapper},r.a.createElement("h4",{className:Ka.previewFilterTitle},r.a.createElement(o.c,{id:"edit_filter_text",defaultMessage:"Edit Filter"}))),r.a.createElement("label",{className:Ka.filterNameLabel,htmlFor:"filterName"},r.a.createElement(o.c,{id:"filter_name_text",defaultMessage:"Filter name"})),r.a.createElement("div",{className:Ka.filterName},r.a.createElement(Ue.a,{name:"filterName",isClearable:!0,value:n,error:l,label:e(Va.filterName),hint:e(Va.filterNameHint),"aria-label":e(Va.filterName),placeholder:e(Va.filterNamePlaceholder),onChange:e=>this.handleChange(Ga.NAME,e)})),r.a.createElement("h5",{className:Ka.setRulesHeader},r.a.createElement(o.c,{id:"set_rules_text",defaultMessage:"Set rules"})),r.a.createElement("div",{className:Ka.filterOptionAccordion,"data-test-id":"settings-filter-criteria"},r.a.createElement(Ha,{multiSelect:!0},this.renderFilterCriterions())),r.a.createElement("h5",{className:Ka.chooseFolderLabel},r.a.createElement(o.c,{id:"choose_folder_text",defaultMessage:"Choose a folder to move to"})),r.a.createElement("div",{className:Ka.chooseFolderControl,"data-test-id":"filters-select-folder"},r.a.createElement("div",{className:Ka.folderControl},r.a.createElement(ka.a,{selected:this.state.selectedFolder,placeholder:e(Va.selectFolderPlaceholder),title:e(Va.selectFolderPlaceholder),onChange:e=>this.handleChange(Ga.SELECTED_FOLDER,e),dropdownType:qa.a.FITCONTENT,maxWidth:za},t.map(e=>r.a.createElement(Ra.a,{key:e,value:e},this.getLocalizedFolderValue(e))))),r.a.createElement("span",{className:Ka.orText},r.a.createElement(o.c,{id:"or_text",defaultMessage:"or"})),r.a.createElement("div",{className:Ka.folderControl},r.a.createElement(Ue.a,{isClearable:!0,name:"createFolder",onChange:e=>this.handleChange(Ga.NEW_FOLDER_NAME,e),value:i,"aria-label":e(Va.newFolderPlaceholder),placeholder:e(Va.newFolderPlaceholder),className:Ka.folderSelectorInput}))),r.a.createElement(ct,{onSave:this.saveFilter,onCancel:a})))}}Xa.contextTypes={intl:o.i.isRequired};var Qa=Object(N.b)(e=>{const{getRoute:t,getSelectedAccountIdByRoute:a,getFoldersSelectors:n,getFolderFullName:s}=Object(F.b)(e),{getCustomFolderList:i,getSystemFolderList:r}=n(),o=a(t());return{folderNamesForRendering:[...r(o),...i(o)].filter(({type:e})=>-1===[f.sb.DRAFT,f.sb.SENT,f.sb.BULK].indexOf(e)).map(({id:e})=>s(e))}})(Xa),$a=a(1155),Ja=a.n($a),en=a(1156),tn=a.n(en),an=a(12),nn=a(92),sn=a(1157),rn=a.n(sn);const on=c()(rn.a);function ln({filter:e},t){const{formatMessage:a}=t.intl,{criterions:n=[]}=e,s=Object(g.m)(a,Za(e))||Za(e);return r.a.createElement("div",{className:on.container},r.a.createElement("header",{className:on.header},r.a.createElement(o.c,{id:"filter_rule_description",defaultMessage:"Deliver to {folderName} if",values:{folderName:`"${s}"`}})),r.a.createElement("ul",{className:on.filterCriteria},n.map(({field:e,operator:t,value:n})=>r.a.createElement("li",{key:e,className:on.filterItem},r.a.createElement(o.c,{id:"filter_item_summary_text",defaultMessage:"{filter_field} {filter_operator} {ruleValue}",values:{filter_field:a(Va[ja[e].toLowerCase().replace(/\//g,"_")]),filter_operator:a(Va[Wa[t].replace(/ /g,"_")]),ruleValue:`"${n}"`}})))))}ln.contextTypes={intl:o.i.isRequired};class cn extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.getDefaultprops=(()=>({isSelected:!1})),this.handleClick=(e=>{const{onAction:t,index:a}=this.props;t(e,a)}),this.handleMouseOver=(()=>{this.setState({hovered:!0})}),this.handleMouseLeave=(()=>{this.setState({hovered:!1})}),t}shouldComponentUpdate({filter:e,isSelected:t},{hovered:a}){return a!==this.state.hovered||t!==this.props.isSelected||e.name!==this.props.filter.name}render(){const{filter:e,isSelected:t}=this.props,a=c()(tn.a,{isSelected:t});return r.a.createElement("div",{className:a.filterItem,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"settings-filter-item"},r.a.createElement("div",{"data-test-id":"filter-item",className:a.filterItemText,onClick:this.handleClick.bind(null,Ua.EDIT)},r.a.createElement(nn.c,{align:an.a.CENTER,triggerDelayTime:500,triggerOn:nn.b.HOVER_DELAYED,triggerOff:nn.a.HOVER_OUT_ANCHOR},r.a.createElement("p",{"data-test-id":"filter-item-text",className:a.filterItemText},e.name),r.a.createElement("div",{"data-test-id":"filter-item-popover",className:a.filterSummary},r.a.createElement(ln,{filter:e})))))}}cn.contextTypes={intl:o.i.isRequired};var dn=cn,mn=a(91);const _n=c()(Ja.a),un=Object(o.h)({addNewFilter:{id:"add_new_filter",defaultMessage:"Add new filters"},deleteFilter:{id:"delete_filter",defaultMessage:"Delete filters"},moveFilterUp:{id:"move_filter_up",defaultMessage:"Move filter up"},moveFilterDown:{id:"move_filter_down",defaultMessage:"Move filter down"}});function hn({filters:e,selectedIndex:t,onAction:a},n){const{formatMessage:s}=n.intl,i=s(un.addNewFilter),l=t<=-1,c=e=>{t>-1&&a(e,t)};return r.a.createElement("div",{className:_n.filterContent,"data-test-id":"settings-filters-list"},r.a.createElement("div",null,r.a.createElement("div",{className:_n.filtersListTitle},r.a.createElement(o.c,{id:"filters_list_header_text",defaultMessage:"Your filters"})),r.a.createElement("div",{className:_n.filtersListHint},r.a.createElement(o.c,{id:"filters_list_header_hint_text",defaultMessage:"Add or click on a filter to re-order, edit or delete. Filters are listed by priority"}))),r.a.createElement("div",{className:_n.filtersListBtnsContainer},r.a.createElement(De.a,{size:M.d.XS,title:i,kind:M.b.ADD,"aria-label":i,colorState:M.a.SELECTED,onClick:(e=>a(e)).bind(null,Ua.ADD),"data-test-id":"add-new-filter",paddingLess:!0},r.a.createElement("span",{className:_n.addBtn},i)),r.a.createElement("div",{className:_n.rightAlign},r.a.createElement(mn.a,{"data-test-id":"move-filter-up",size:M.d.XS,kind:M.b.ARROW_UP,title:s(un.moveFilterUp),"aria-label":s(un.moveFilterUp),onClick:c.bind(null,Ua.MOVE_UP),colorStates:{normal:l?M.a.DISABLED:M.a.NORMAL,hovered:l?M.a.DISABLED:M.a.SELECTED},disabled:l}),r.a.createElement(mn.a,{"data-test-id":"move-filter-down",size:M.d.XS,kind:M.b.ARROW_UP,rotate:M.c.D180,title:s(un.moveFilterDown),"aria-label":s(un.moveFilterDown),onClick:c.bind(null,Ua.MOVE_DOWN),colorStates:{normal:l?M.a.DISABLED:M.a.NORMAL,hovered:l?M.a.DISABLED:M.a.SELECTED},disabled:l}),r.a.createElement(mn.a,{"data-test-id":"delete-filter",size:M.d.XS,kind:M.b.DELETE,title:s(un.deleteFilter),"aria-label":s(un.deleteFilter),onClick:c.bind(null,Ua.DELETE),colorStates:{normal:l?M.a.DISABLED:M.a.NORMAL,hovered:l?M.a.DISABLED:M.a.WARNING},disabled:l}))),r.a.createElement("ol",{className:_n.filtersList},e.map((e,n)=>r.a.createElement("li",{key:`${e.name}-${n}`,className:_n.filtersListItem},r.a.createElement(dn,{index:n,filter:e,onAction:a,isSelected:t===n})))))}hn.contextTypes={intl:o.i.isRequired};var pn=hn;const gn=Object(o.h)({filterHeader:{id:"filters_text",defaultMessage:"Filters"},filterHint:{id:"filters_hint_text",defaultMessage:"Set filters to organize incoming email"},cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},deleteBtn:{id:"delete_btn_text",defaultMessage:"Delete"},confirmDialogTitle:{id:"delete_dialog_title",defaultMessage:"Confirm delete"},rightRailHeader:{id:"filters_right_rail_header",defaultMessage:"Find help for filters"}}),En=c()(Ma.a);class bn extends r.a.Component{constructor(e){super(e),Cn.call(this);const{filters:t}=e;this.state={filters:t,deleteIndex:-1,selectedIndex:-1,showConfirm:!1,editFormVisible:!1}}componentWillReceiveProps({filters:e}){this.setState({filters:e})}render(){const{formatMessage:e,locale:t}=this.context.intl,{partner:a}=this.context,{onCreateNewFolder:n}=this.props,{selectedIndex:s,deleteIndex:i,showConfirm:l,editFormVisible:c,filters:d}=this.state,m=d[s]||{};return r.a.createElement("div",{className:En.container,"data-test-id":"settings-message-filters"},r.a.createElement("div",{className:En.left},r.a.createElement("div",{className:En.filterWrapper},r.a.createElement("div",{className:En.pageHeader},r.a.createElement(et.a,{header:e(gn.filterHeader),hint:e(gn.filterHint)})),r.a.createElement(pn,{filters:d,selectedIndex:s,onAction:this.handleFilterListAction}))),r.a.createElement("div",{className:En.right},c?r.a.createElement(Qa,{filter:m,key:m.index,onSave:this.handleSave,onCancel:this.handleCancel,onCreateNewFolder:n,limitReached:d.length>=f.jd.filters}):r.a.createElement(ht,{demoImg:he.c.FILTER,header:e(gn.rightRailHeader),helpLinks:gt.b.map(({text:n,link:s})=>({link:s(t,a),text:e(n)}))})),l?r.a.createElement(At.a,{onConfirm:this.deleteFilter,cancelLabel:gn.cancelBtn,acceptLabel:gn.deleteBtn,title:e(gn.confirmDialogTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},r.a.createElement("div",{className:En.confirmDialog},r.a.createElement(o.c,{id:"confirm.delete_filter",defaultMessage:"Are you sure to delete filter {name}?",values:{name:r.a.createElement("strong",null,"'",d[i].name,"'")}}))):null)}}bn.contextTypes={intl:o.i.isRequired,partner:s.a.string};var Cn=function(){this.setSelectedIndex=(e=>{this.setState({selectedIndex:e,editFormVisible:!0})}),this.toggleConfirmDialog=((e,t=-1)=>{this.setState({showConfirm:e,deleteIndex:t})}),this.deleteFilter=(()=>{const{filters:e,deleteIndex:t}=this.state;let a=e.slice();t>-1&&t<a.length&&(a.splice(t,1),a=a.map((e,t)=>Object.assign({},e,{index:t+1})),this.saveFilters(a)),this.toggleConfirmDialog(!1)}),this.moveFilters=((e,t)=>{const{filters:a,editFormVisible:n}=this.state,s=a.slice(),i=Object.assign({},s[t]),r=t+(e?-1:1);r>=0&&r<s.length&&(s[t]=Object.assign({},s[r]),s[t].index=t+1,s[r]=i,s[r].index=r+1,this.saveFilters(s,r,n))}),this.saveFilters=((e,t=-1,a=!1)=>{this.setState({filters:e,selectedIndex:t,editFormVisible:a},()=>{this.props.onSave(e)})}),this.handleSave=(e=>{const t=this.state.filters.slice();if(-1===e.index)e.index=t.length+1,t.push(e);else{const a=t.findIndex(({index:t})=>t===e.index);a>-1&&(t[a]=e)}this.saveFilters(t)}),this.handleCancel=(()=>{this.setState({selectedIndex:-1,editFormVisible:!1})}),this.handleFilterListAction=((e,t)=>{switch(e){case Ua.ADD:this.setSelectedIndex(-1);break;case Ua.EDIT:this.setSelectedIndex(t);break;case Ua.MOVE_UP:this.moveFilters(!0,t);break;case Ua.MOVE_DOWN:this.moveFilters(!1,t);break;case Ua.DELETE:this.toggleConfirmDialog(!0,t)}})},fn=bn,vn=a(1158),In=a.n(vn),yn=a(1159),Sn=a.n(yn),Nn=a(1160),Tn=a.n(Nn);const An=Object(o.h)({deleteBlockedSender:{id:"delete_blocked_sender",defaultMessage:"Delete blocked sender"}}),Mn=c()(Tn.a);class Dn extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.handleMouseOver=(()=>{this.setState({hovered:!0})}),this.handleMouseLeave=(()=>{this.setState({hovered:!1})}),t}render(){const{hovered:e}=this.state,{formatMessage:t}=this.context.intl,{address:a,index:n,onDelete:s}=this.props;return r.a.createElement("div",{className:Mn.listItem,onMouseOver:this.handleMouseOver,onMouseLeave:this.handleMouseLeave,"data-test-id":"blocked-address-item"},r.a.createElement("p",{className:Mn.listItemText},a),e?r.a.createElement("div",{className:Mn.buttons},r.a.createElement(mn.a,{size:M.d.XS,kind:M.b.DELETE,onClick:s.bind(null,n),title:t(An.deleteBlockedSender),"aria-label":t(An.deleteBlockedSender),colorStates:{normal:M.a.NORMAL,hovered:M.a.WARNING}})):null)}}Dn.contextTypes={intl:o.i.isRequired};var On=Dn;const kn=c()(Sn.a),Rn=Object(o.h)({addNewBlockedSender:{id:"add_new_blocked_sender",defaultMessage:"Add"},showMore:{id:"show_full_blocked_list",defaultMessage:"Show all {number} addresses"},showLess:{id:"show_less_blocked_list",defaultMessage:"Show less addresses"}});class xn extends r.a.Component{constructor(e){super(e),this.state={showFullList:!1},this.toggleBlockedList=this.toggleBlockedList.bind(this),this.renderBlockedList=this.renderBlockedList.bind(this),this.renderToggleButton=this.renderToggleButton.bind(this)}toggleBlockedList(){this.setState({showFullList:!this.state.showFullList})}renderBlockedList(){const{showFullList:e}=this.state,{blockedSenders:t,onDelete:a}=this.props;let n=t;return!e&&n.length>4&&(n=n.slice(0,4)),r.a.createElement("ol",{className:kn.list},n.map((e,t)=>r.a.createElement("li",{key:t,className:kn.listItem},r.a.createElement(On,{index:t,address:e,onDelete:a}))))}renderToggleButton(){const{blockedSenders:e}=this.props,{showFullList:t}=this.state,{formatMessage:a}=this.context.intl;return e.length>4?r.a.createElement("div",null,r.a.createElement("div",{className:kn.separator}),r.a.createElement("a",{onClick:this.toggleBlockedList,"data-test-id":"toggle_button",className:kn.textButton},t?a(Rn.showLess):a(Rn.showMore,{number:e.length}))):null}render(){const{formatMessage:e}=this.context.intl,t=e(Rn.addNewBlockedSender),{onAdd:a}=this.props;return r.a.createElement("div",{className:kn.content,"data-test-id":"blocked-senders-list"},r.a.createElement("div",{className:kn.btnContainer},r.a.createElement("h4",{className:kn.listTitle},r.a.createElement(o.c,{id:"banned_address_list_header_text",defaultMessage:"Blocked addresses"})),r.a.createElement("div",{className:kn.rightAlign},r.a.createElement(De.a,{onClick:a,size:M.d.XS,kind:M.b.ADD,title:t,colorState:M.a.SELECTED,"aria-label":t,"data-test-id":"add-new-blocked-sender"},r.a.createElement("span",{className:kn.addBtn},t)))),this.renderBlockedList(),this.renderToggleButton())}}xn.contextTypes={intl:o.i.isRequired};var Pn=xn,wn=a(1161),Fn=a.n(wn);const Ln=Object(o.h)({address:{id:"address_label",defaultMessage:"Address"},addressPlaceholder:{id:"address_placeholder",defaultMessage:"Type a email address"},myAccountError:{id:"primary_account_error_text",defaultMessage:"You can not ban your own email address"},myExternalAccountError:{id:"external_account_error_text",defaultMessage:"You can not ban any of your own email addresses"},invalidEmailError:{id:"invalid_email_error_text",defaultMessage:"The email address to ban is invalid"},storageLimit:{id:"blocked_email_limit",defaultMessage:"Number of blocked addresses has reached the limit"}}),Bn=c()(Fn.a);class Hn extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={error:"",address:""},this.saveAddress=(()=>{let e=null;const{address:t}=this.state,{onSave:a,accounts:n,limitReached:s}=this.props,i=n.find(({email:e})=>e===t),{myAccountError:r,myExternalAccountError:o,invalidEmailError:l,storageLimit:c}=Ln;Object(S.m)(t)?i?e="1"===i.id?r:o:s&&(e=c):e=l,e?this.setState({error:e}):a(t)}),this.handleChange=(e=>{this.setState({address:e})}),t}render(){const{onCancel:e}=this.props,{address:t,error:a}=this.state,{formatMessage:n}=this.context.intl,s=a?n(a):"";return r.a.createElement("div",{className:Bn.wrapper,"data-test-id":"blocked-sender-editor"},r.a.createElement("div",{className:Bn.previewSection},r.a.createElement("header",{className:Bn.previewTitleWrapper},r.a.createElement("h4",{className:Bn.previewTitle},r.a.createElement(o.c,{id:"add_banned_address_header_text",defaultMessage:"Add an email address to block"}))),r.a.createElement("label",{className:Bn.nameLabel,htmlFor:"address"},r.a.createElement(o.c,{id:"banned_address_text",defaultMessage:"Address"})),r.a.createElement("div",{className:Bn.address},r.a.createElement(Ue.a,{isClearable:!0,value:t,error:s,name:"blocked-address",onChange:this.handleChange,label:n(Ln.address),"aria-label":n(Ln.address),placeholder:n(Ln.addressPlaceholder)})),r.a.createElement(ct,{onCancel:e,onSave:this.saveAddress})))}}Hn.contextTypes={intl:o.i.isRequired};var Un=Hn,jn=a(64),Wn=a.n(jn);const Gn=c()(In.a),Zn=Object(o.h)({securityAndPrivacyHeader_label:{id:"securityAndPrivacyHeader_label",defaultMessage:"Security and privacy"},securityAndPrivacyHint_hint:{id:"securityAndPrivacyHint_hint",defaultMessage:"Make your email safer"}});class Vn extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={editorShown:!1},this.saveBlockedSenders=((e,t=!1,a=1)=>{this.props.blockSenders({blockSenders:Wn()(e),overWrite:t,delta:a}),this.handleCancel()}),this.handleBannedAddressSave=(e=>{this.saveBlockedSenders(this.props.blockedSenders.concat(e))}),this.handleDeleteAddress=(e=>{this.saveBlockedSenders(this.props.blockedSenders.filter((t,a)=>a!==e),!0,-1)}),this.handleCancel=(()=>{this.setState({editorShown:!1})}),this.handleAddNewAddress=(()=>{this.setState({editorShown:!0})}),t}render(){const{editorShown:e}=this.state,{formatMessage:t}=this.context.intl,{blockedSenders:a,getAccounts:n}=this.props;return r.a.createElement("div",{className:Gn.container,"data-test-id":"security-and-privacy-tab"},r.a.createElement("div",{className:Gn.left},r.a.createElement("div",{className:Gn.mainWrapper},r.a.createElement(et.a,{header:t(Zn.securityAndPrivacyHeader_label),hint:t(Zn.securityAndPrivacyHint_hint)}),r.a.createElement("div",{className:Gn.menuList},r.a.createElement(Pn,{blockedSenders:a,onAdd:this.handleAddNewAddress,onDelete:this.handleDeleteAddress})))),r.a.createElement("div",{className:Gn.right},e?r.a.createElement(Un,{accounts:n(),onCancel:this.handleCancel,onSave:this.handleBannedAddressSave,limitReached:a.length>=f.jd.blockedSenders}):null))}}Vn.contextTypes={intl:o.i.isRequired,executeAction:s.a.func};var qn=Vn,zn=a(1162),Yn=a.n(zn),Kn=a(1163),Xn=a.n(Kn),Qn=a(1164),$n=a.n(Qn);const Jn=Object(o.h)({disconnectBtn:{id:"disconnect_btn_title",defaultMessage:"Disconnect"}});class es extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.handleMouseEnter=(()=>{this.setState({hovered:!0})}),this.handleMouseLeave=(()=>{this.setState({hovered:!1})}),t}render(){const{hovered:e}=this.state,{onDisconnect:t}=this.props,a=c()($n.a,{hovered:e}),{formatMessage:n}=this.context.intl;return r.a.createElement("div",{className:a.content,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},e?r.a.createElement("div",{className:a.text},r.a.createElement(o.c,{id:"disconnect_link_text",defaultMessage:"Disconnect"})):null,r.a.createElement("div",{className:a.button},r.a.createElement(De.a,{paddingLess:!0,size:M.d.XS,kind:M.b.MINUS,onClick:t,colorState:M.a.INVERTED,title:n(Jn.disconnectBtn)})))}}es.contextTypes={intl:o.i.isRequired};var ts=es,as=a(1165),ns=a.n(as);function ss({accountType:e}){const t=c()(ns.a,{accountType:e});return r.a.createElement("div",{className:t.avatar})}var is=class extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.handleMouseEnter=(()=>{this.setState({hovered:!0})}),this.handleMouseLeave=(()=>{this.setState({hovered:!1})}),t}render(){const{hovered:e}=this.state,{accountType:t,onDisconnect:a}=this.props,n=c()(Xn.a);return r.a.createElement("li",{className:n.listItem,onMouseLeave:this.handleMouseLeave,onMouseEnter:this.handleMouseEnter},r.a.createElement(ss,{accountType:t}),r.a.createElement("div",{className:n.accountInfo},r.a.createElement("p",{className:n.accountName},t)),r.a.createElement("div",{className:n.accountStatus},e?r.a.createElement(ts,{onDisconnect:a}):null))}};const rs=Object(o.h)({cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},disconnectBtn:{id:"disconnect_btn_text",defaultMessage:"Ok"},confirmDisconnectTitle:{id:"confirm_disconnect_title_text",defaultMessage:"Disconnect a social account"},rightRailHeader:{id:"social_accounts_right_rail_header",defaultMessage:"Find help for social accounts"}}),os=c()(Yn.a);class ls extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showConfirm:!1,selected:null},this.getSPID=(e=>{const{connectedAccounts:t}=this.props;return t[e]?t[e].spid:null}),this.disconnectSocialAccount=(()=>{const{selected:e}=this.state,t=this.getSPID(e);this.toggleConfirmDialog(!1),this.props.unlinkSocialAccount({key:e,spid:t})}),this.handleCancel=(()=>{this.toggleConfirmDialog(!1)}),this.handleDisconnect=(e=>{this.toggleConfirmDialog(!0,e)}),this.toggleConfirmDialog=((e,t=null)=>{this.setState({showConfirm:e,selected:t})}),this.renderSocialAccounts=(()=>{const{connectedAccounts:e}=this.props,t=r.a.createElement("div",{className:os.emptyList},r.a.createElement("span",{className:os.warningIcon},r.a.createElement(A.b,{size:M.d.XXS,kind:M.b.EXCLAMATION_ALT,colorState:M.a.DISABLED})),r.a.createElement(o.c,{id:"social_accounts_empty_list",defaultMessage:"You currently are not connected to any social accounts."})),a=Object.keys(f.vd).filter(t=>e[t]&&e[t].connected).map(e=>r.a.createElement(is,{key:e,accountType:e,onDisconnect:this.handleDisconnect.bind(this,e)}));return r.a.createElement("div",{className:os.listContainer},r.a.createElement("div",{className:os.accountInfoHeader},r.a.createElement("p",{className:os.headerText},r.a.createElement(o.c,{id:"social_account_list_header_text",defaultMessage:"Connected social networks"})),r.a.createElement("span",{className:os.hint},r.a.createElement(o.c,{id:"social_accounts_list_header_hint",defaultMessage:"Sync with social apps to see information about your contacts and have a more personal Mail experience"}))),a.length?r.a.createElement("ul",{className:os.listWrapper},a):t)}),t}render(){const{showConfirm:e}=this.state,{formatMessage:t,locale:a}=this.context.intl,{mailBrandNameString:n,partner:s}=this.context;return r.a.createElement("div",{className:os.container},r.a.createElement("div",{className:os.left},r.a.createElement("div",{className:os.headerWrapper},r.a.createElement("header",{className:os.titleWrapper},r.a.createElement("h4",{className:os.title},r.a.createElement(o.c,{id:"social_accounts_header",defaultMessage:"Social accounts"}))),this.renderSocialAccounts())),r.a.createElement("div",{className:os.right},r.a.createElement(ht,{demoImg:he.c.SOCIAL,header:t(rs.rightRailHeader),helpLinks:gt.e.map(({text:e,link:i})=>({text:t(e,{mailBrandNameString:n}),link:i(a,s)}))})),e?r.a.createElement(At.a,{cancelLabel:rs.cancelBtn,acceptLabel:rs.disconnectBtn,onConfirm:this.disconnectSocialAccount,title:t(rs.confirmDisconnectTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},r.a.createElement(o.c,{id:"confirm.delete_social_account",defaultMessage:"Are you sure you want to disconnect this account?"})):null)}}ls.contextTypes={intl:o.i.isRequired,executeAction:s.a.func,mailBrandNameString:s.a.string,partner:s.a.string};var cs=ls,ds=a(1023),ms=a.n(ds),_s=a(1166),us=a.n(_s);const hs=c()(us.a);var ps=({supportImgs:e,header:t,hint:a})=>r.a.createElement("div",{className:hs.rightContainer,"data-test-id":"mail-pro-help"},r.a.createElement("div",{className:hs.supportImgContainer},r.a.createElement("img",{className:hs.supportImg,src:Object(pe.a)(e)}),r.a.createElement("div",{className:hs.headerContainer},r.a.createElement("h4",{className:hs.helpTitle},r.a.createElement("span",null,t)),r.a.createElement("span",{className:hs.helpHint},a))));const gs=c()(ms.a);var Es=({header:e,hint:t,buttonText:a,renewalDate:n,active:s,onClick:i})=>r.a.createElement("ul",{className:gs.manageMailPro,"data-test-id":"subscription-status"},r.a.createElement("li",null,r.a.createElement("p",{className:gs.name},e,r.a.createElement("span",{className:gs.subscriptionIcon},r.a.createElement(A.b,s?{kind:M.b.CHECKMARK,size:M.d.XS,colorState:M.a.SUCCESS}:{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING}))),r.a.createElement("span",{className:gs.hint},t),r.a.createElement("span",{className:gs.date},r.a.createElement(o.a,{value:n,month:"short",day:"2-digit",year:"numeric"}))),r.a.createElement("li",{className:gs.manageSubscription},r.a.createElement("span",{className:gs.btnPrimary},r.a.createElement(ot.a,{className:gs.selectedPlan,"data-test-id":"manage_subscription_button",onClick:i},a)))),bs=a(1167),Cs=a.n(bs);const fs=c()(Cs.a);function vs(e){return r.a.createElement("div",{"data-test-id":"mail_pro_error",className:fs.errorContainer},r.a.createElement("div",{className:fs.errorWrapper},r.a.createElement("span",{"data-test-id":"mail_pro_error_message",className:fs.errorMessage},r.a.createElement("span",{className:fs.warning},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.S,colorState:M.a.WARNING})),r.a.createElement(o.c,{id:"mail_pro_fetch_failed",defaultMessage:"Oops! Something went wrong! Please try again in sometime."})),r.a.createElement("span",{"data-test-id":"mail_pro_error_actions",className:fs.errorAction},r.a.createElement(o.c,{id:"mail_pro_redirect_message",defaultMessage:"Click below to go directly to {showPage}",values:{showPage:r.a.createElement("a",{className:fs.redirect,onClick:e.onClick,"data-test-id":"body-redirect-mailpro"},r.a.createElement(o.c,{id:"mail_pro_redirect_payments",defaultMessage:"{YahooMailProBranding}!",values:{YahooMailProBranding:r.a.createElement(o.c,{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"})}}))}}))))}var Is=a(1);const ys=c()(ms.a),Ss=Object(o.h)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},tryForFree:{id:"mail.try_for_free",defaultMessage:"Try for free"},getYahooMailProHeader:{id:"get_mail_pro_header",defaultMessage:"Get {YahooMailProBranding}"},getMailProHint:{id:"get_mail_pro_hint",defaultMessage:"Ad-free mail for this account and more"},manageSubscriptionHeader:{id:"manageSubscription_text",defaultMessage:"Manage your subscription"},manageSubscriptionHint:{id:"manageSubscription_hint",defaultMessage:"{YahooMailProBranding} renews  "},manageSubscriptionButtonText:{id:"manage_subscription_button",defaultMessage:"Manage your subscription"},renewSubscriptionHeader:{id:"renewSubscription_text",defaultMessage:"Renew your subscription"},renewSubscriptionHint:{id:"renewSubscription_hint",defaultMessage:"Expires "},renewSubscriptionButtonText:{id:"renew_subscription_button",defaultMessage:"Renew your subscription"}}),Ns=(e,t)=>{const{mailProEnabled:a,subscription:n,error:s}=e,{formatMessage:i}=t.intl,l="us"===t.region?gt.c:gt.c.slice(0,1);function c(a){let n;switch(a){case"MONTHLY":n=v.e.NAVIGATE_TO_MAIL_PRO_MONTHLY;break;case"ANNUAL":n=v.e.NAVIGATE_TO_MAIL_PRO_YEARLY;break;case"ACTIVE":n=v.e.NAVIGATE_TO_MAIL_PRO_ACTIVE_USER;break;case"PAST_DUE":n=v.e.NAVIGATE_TO_MAIL_PRO_PASTDUE_USER;break;case"ERROR":n=v.e.NAVIGATE_TO_MAIL_PRO_FROM_ERROR_PAGE;break;case"TRY_FOR_FREE":n=v.e.NAVIGATE_TO_TRY_MAIL_PRO_FOR_FREE;break;default:n=v.e.NAVIGATE_TO_MAIL_PRO}e.navigateToMailPro({mKey:n,sec:v.g.MAIL_PRO_SETTINGS,interactionType:v.d.click,actionData:{type:a,region:t.region}}),window.open(f.b,"_blank")}return s?r.a.createElement(vs,{onClick:c.bind(void 0,"ERROR")}):r.a.createElement("div",{className:ys.container,"data-test-id":"yahoo_mail_pro"},a?function(){const e=function(){return n.map(e=>"ACTIVE"===e.status)}()[0],t=i(Ss[e?"manageSubscriptionButtonText":"renewSubscriptionButtonText"]),a=i(Ss[e?"manageSubscriptionHeader":"renewSubscriptionHeader"]),s=i(Ss[e?"manageSubscriptionHint":"renewSubscriptionHint"],{YahooMailProBranding:e?i(Ss.yahooMailProBranding):""});return r.a.createElement("div",{className:ys.left},r.a.createElement("div",{className:ys.mainWrapper},r.a.createElement(et.a,{header:i(Ss.yahooMailProBranding)}),n.map((n,i)=>r.a.createElement(Es,{key:i,header:a,hint:s,buttonText:t,renewalDate:n.nextBillingDate,active:e,onClick:c.bind(this,n.status)}))))}():function(){return r.a.createElement("div",{className:ys.left},r.a.createElement("div",{className:ys.mainWrapper},r.a.createElement(et.a,{header:i(Ss.yahooMailProBranding)}),r.a.createElement("span",{className:ys.hint},r.a.createElement(o.c,Ss.getMailProHint)),r.a.createElement("div",{className:ys.buttonContainer},r.a.createElement(ot.a,{className:ys.selectedPlan,onClick:c.bind(this,"TRY_FOR_FREE"),"data-test-id":"free-mail-pro-button"},i(Ss.tryForFree)))))}(),r.a.createElement("div",{className:ys.right},l&&l.map((e,t)=>r.a.createElement(ps,{key:t,supportImgs:e.img,header:i(e.header),hint:i(e.hint)}))))};Ns.contextTypes={intl:o.i.isRequired,region:s.a.string,executeAction:s.a.func};var Ts=Object(N.b)(null,e=>({navigateToMailPro:t=>e((({i13nModel:e})=>({type:Is.a.NAVIGATE_TO_MAIL_PRO,i13nModel:e}))({i13nModel:t}))}))(Ns),As=a(1168),Ms=a.n(As),Ds=a(1169),Os=a.n(Ds),ks=a(367);const Rs=Object(o.h)({signaturelabel:{id:"signature_lable",defaultMessage:"Signature"},signatureToggle:{id:"signature_toggle",defaultMessage:"Toggle signature"},tweetToggle:{id:"tweet_toggle",defaultMessage:"include latest tweet"}}),xs=()=>{};class Ps extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hintHovered:!1},this.handleBlur=(()=>{this.props.onSave(this.props.account)}),this.handleFocus=(()=>{this.updateSignatureText(this.props.account.signature)}),this.handleTweetToggle=(e=>{this.props.onTweetEnable(e)}),this.handleSignatureStatusChange=(()=>{const{id:e,signatureActive:t}=this.props.account;this.props.onStatusChange({id:e,signatureActive:!t})}),this.toggleHintHover=(()=>{this.setState({hintHovered:!this.state.hintHovered})}),this.updateSignatureText=(e=>{const{id:t}=this.props.account;this.props.onChange(t,e)}),this.renderTweetToggle=(e=>{const{formatMessage:t}=this.context.intl;return r.a.createElement("div",{className:e.formControl},r.a.createElement(xa.a,{isChecked:this.props.enableTweet,onClick:this.handleTweetToggle,ariaLabel:t(Rs.tweetToggle)}),r.a.createElement(nn.c,{triggerOn:nn.b.HOVER,onHide:this.toggleHintHover,onShown:this.toggleHintHover,triggerOff:nn.a.HOVER_OUT},r.a.createElement("span",{className:e.toggleControlName},r.a.createElement(o.c,{id:"includeTweet_text",defaultMessage:"Include your latest Tweet from Twitter"})),r.a.createElement("div",{className:e.tweetHint},r.a.createElement(o.c,{id:"include_tweet_hint_text",defaultMessage:"Turn on this require to sign in Twitter"}))))}),t}render(){const{hintHovered:e}=this.state,{intl:{formatMessage:t}}=this.context,{signatureActive:a,email:n,signature:s,isPrimary:i}=this.props.account,{composeFontFamily:l,composeFontSize:d,showDefaultTitle:m,showEditorAlways:_,showTweet:u,stationeryRestrictedThemes:h,rtl:p}=this.props,g=c()(Os.a,{signatureActive:a,hintHovered:e,showDefaultTitle:m});return r.a.createElement("div",{className:g.signatureControl},r.a.createElement("h4",{className:g.header},r.a.createElement("span",{className:g.email},m?r.a.createElement(o.c,{id:"signature_title_text",defaultMessage:"Signature"}):n),r.a.createElement("span",{className:g.rightAlign,"data-test-id":"signature-toggle-button"},r.a.createElement(ks.a,{isEnabled:!!a,onClick:this.handleSignatureStatusChange,ariaLabel:t(Rs.signatureToggle)}))),_||a?r.a.createElement("div",{className:g.signatureWrapper},r.a.createElement("div",{className:g.signatureEditor},r.a.createElement(Je,{disabled:!a,ariaLabel:t(Rs.signaturelabel),content:s,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.updateSignatureText,composeFontFamily:l,composeFontSize:d,stationeryRestrictedThemes:h,rtl:p,editorKind:xe.EditorTypes.MESSAGE,toolbarKind:xe.ToolbarTypes.MESSAGE})),i&&u?this.renderTweetToggle(g):null):null)}}Ps.contextTypes={intl:o.i,config:s.a.object},Ps.defaultProps={showDefaultTitle:!1,showEditorAlways:!1,onTweetEnable:xs,onSave:xs};var ws=Ps;const Fs=c()(Ms.a),Ls=Object(o.h)({writeEmailHeader_label:{id:"writeEmail_label",defaultMessage:"Writing emails"},writeEmailHint_hint:{id:"writeEmail_hint_label",defaultMessage:"Manage your email writing experience"},font_name_size:{id:"compose.font_name_size",defaultMessage:"Font"},font_size_label_tiny:{id:"compose.font_size_label_tiny",defaultMessage:"Tiny"},font_size_label_small:{id:"compose.font_size_label_small",defaultMessage:"Small"},font_size_label_medium:{id:"compose.font_size_label_medium",defaultMessage:"Medium"},font_size_label_large:{id:"compose.font_size_label_large",defaultMessage:"Large"},font_size_label_xlarge:{id:"compose.font_size_label_xlarge",defaultMessage:"X-Large"},font_size_label_huge:{id:"compose.font_size_label_huge",defaultMessage:"Huge"},sampleText:{id:"writing_email.sample_text",defaultMessage:"How are you doing?"},account_name_label:{id:"writing_email.account_name_label",defaultMessage:"Extra"},linkEnhancer_text:{id:"linkEnhancer_text",defaultMessage:"Automatically generate a preview of links"},default_text:{id:"compose.default_text",defaultMessage:"Default"}}),Bs=e=>-1!==[f.g.ALIAS,f.g.DEA].indexOf(e),Hs=e=>-1!==[f.g.SENDAS,f.g.POPIN].indexOf(e);class Us extends r.a.Component{constructor(e){super(e),this.handleDefaultSendingAddressChange=(e=>{this.props.updateAccountDetails({accountId:e,updatedProperties:{isSending:!0}})}),this.handleFontFamilyChange=(e=>{this.props.changeSettings({name:f.id.COMPOSE_FONT_FAMILY,value:e})}),this.handleFontSizeChange=(e=>{this.props.changeSettings({name:f.id.COMPOSE_FONT_SIZE,value:""+e})}),this.updateAccounts=(({id:e,signature:t})=>{const a=this.props.getAccounts().find(t=>t.id===e);a&&a.signature!==t&&this.props.updateAccountDetails({accountId:a.id,signature:t,updatedProperties:{signature:t}})}),this.updateSignatureStatus=(({id:e,signatureActive:t})=>{this.props.updateAccountDetails({accountId:e,updatedProperties:{signatureActive:t}}),t||this.setState({selectedIndex:-1})}),this.updateSignature=((e,t)=>{const{accounts:a,index:n}=this.getUpdatedAccounts(e,{signature:t});a&&this.setState({accounts:a,selectedIndex:n})}),this.updateTweetStatus=(()=>{}),this.getDefaultSendingAddresses=(()=>{let e;const{formatMessage:t}=this.context.intl,a=this.props.getAccounts().reduce((a,{id:n,email:s,isPrimary:i,type:r,status:o,description:l,accountVerified:c})=>{let d;return i?e={id:n,email:s,accountName:t(Ls.default_text)}:Bs(r)?d=t(Ls.account_name_label):"ENABLED"===o&&c&&Hs(r)&&(d=l),!i&&d&&a.push({id:n,email:s,accountName:d}),a},[]);return a.unshift(e),a.filter(Boolean)}),this.getRootAccounts=(e=>e.filter(({type:e})=>f.Lc.indexOf(e)>-1)),this.getUpdatedAccounts=((e,t)=>{const a=this.getRootAccounts(this.state.accounts),n=a.findIndex(t=>t.id===e);if(n>-1){return{accounts:[...a.slice(0,n),Object.assign({},a[n],t),...a.slice(n+1)],index:n}}return{}}),this.getFirstAccountWithSignatureActive=(()=>{let{selectedIndex:e}=this.state;return-1===e&&(e=this.getRootAccounts(this.state.accounts).findIndex(({signatureActive:e})=>e)),e}),this.hideAccount=(e=>e.status===f.f.DELETE_IN_PROGRESS||e.type===f.g.POPIN||e.type===f.g.EXTERNAL||e.type===f.g.PHONE),this.renderAccounts=(e=>{const{composeFontFamily:t,composeFontSize:a,showTweet:n,stationeryRestrictedThemes:s,rtl:i}=this.props;return e.map(e=>this.hideAccount(e)?null:r.a.createElement("li",{key:e.email,"data-test-id":"signature-item",className:Fs.signatureItem},r.a.createElement(ws,{account:e,onChange:this.updateSignature,onTweetEnable:this.updateTweetStatus,onStatusChange:this.updateSignatureStatus,onSave:ye()(this.updateAccounts,500),composeFontFamily:t,composeFontSize:a,showTweet:n,stationeryRestrictedThemes:s,rtl:i})))}),this.toggleLinkEnhancerMode=(e=>{this.props.updateLinkEnhancerMode({name:f.id.LINK_ENHANCR,value:!this.props.linkEnhancer,i13nModel:{mKey:v.e.SETTINGS_LINK_ENHANCER,sec:v.g.SETTINGS_WRITING_EMAIL_TAB,interactionType:Object(S.i)(e)}})});const{getAccounts:t}=e;this.state={accounts:t(),selectedIndex:-1}}componentWillReceiveProps({getAccounts:e}){this.setState({accounts:e()})}render(){const{formatMessage:e}=this.context.intl,{composeFontFamily:t,composeFontSize:a,activeAccount:n,defaultSendingAccount:s,linkEnhancer:i}=this.props,{showTweet:l,accounts:c}=this.state,d={[xe.FontSizes[0].name]:e(Ls.font_size_label_tiny),[xe.FontSizes[1].name]:e(Ls.font_size_label_small),[xe.FontSizes[2].name]:e(Ls.font_size_label_medium),[xe.FontSizes[3].name]:e(Ls.font_size_label_large),[xe.FontSizes[4].name]:e(Ls.font_size_label_xlarge),[xe.FontSizes[5].name]:e(Ls.font_size_label_huge)},m=this.getRootAccounts(c),_=m[this.getFirstAccountWithSignatureActive()]||n,u=this.getDefaultSendingAddresses();return r.a.createElement("div",{className:Fs.container,"data-test-id":"writing-email"},r.a.createElement("div",{className:Fs.left},r.a.createElement("div",{className:Fs.mainWrapper},r.a.createElement("div",{className:Fs.pageHeader},r.a.createElement(et.a,{header:e(Ls.writeEmailHeader_label),hint:e(Ls.writeEmailHint_hint)})),r.a.createElement("div",{className:Fs.linkEnhancerControl,"data-test-id":"link-enhancer-toggle"},r.a.createElement(et.a,{canToggle:!0,subHeader:!0,toggleEnabled:i,onToggle:this.toggleLinkEnhancerMode,header:e(Ls.linkEnhancer_text)})),r.a.createElement("div",{className:Fs.signatureHeader},r.a.createElement("h5",{className:Fs.headerTitle},r.a.createElement(o.c,{id:"signature_text",defaultMessage:"Signature"}))),r.a.createElement("ul",{className:Fs.signatureControl},this.renderAccounts(m)),r.a.createElement("h5",{className:Fs.headerTitle},r.a.createElement(o.c,{id:"richTextFont_text",defaultMessage:"Default rich-text font"})),r.a.createElement("div",{className:Fs.formControl},r.a.createElement("div",{className:Fs.fontSelectWrapper},r.a.createElement("span",{className:Fs.selectbox,"data-test-id":"settings-font-family"},r.a.createElement(ka.a,{selected:t,onChange:this.handleFontFamilyChange},xe.Fonts.map(({name:t,fontFamily:a,label:n})=>r.a.createElement(Ra.a,{key:t,value:a},Object(qe.getLocalizedFontFamilyName)(e,t)||n)))),r.a.createElement("span",{className:Fs.selectbox,"data-test-id":"settings-font-size"},r.a.createElement(ka.a,{selected:+a,onChange:this.handleFontSizeChange},xe.FontSizes.map(({name:e,fontSize:t})=>r.a.createElement(Ra.a,{key:e,value:t},d[e])))))),!!u.length&&r.a.createElement("div",{className:Fs.formControl},r.a.createElement("h5",{className:Fs.headerTitle},r.a.createElement(o.c,{id:"sendingAddress_text",defaultMessage:"Default sending address"})),r.a.createElement("div",{className:Fs.formControl},r.a.createElement("div",{className:Fs.sendingAddressControl,"data-test-id":"settings-sending-account"},r.a.createElement(ka.a,{selected:s.id,onChange:this.handleDefaultSendingAddressChange},u.map(({id:e,email:t,accountName:a})=>r.a.createElement(Ra.a,{key:t,value:e},`${a} (${t})`)))))))),r.a.createElement("div",{className:Fs.right},r.a.createElement(Le,{showTweet:l,account:_,composeFontFamily:t,composeFontSize:+a,content:e(Ls.sampleText),kind:xe.PreviewTypes.MESSAGE})))}}Us.contextTypes={intl:o.i.isRequired,executeAction:s.a.func};var js=Object(N.b)(e=>{const{getFeaturesSelectors:t,getRoute:a,getSelectedAccountIdByRoute:n,getAccountById:s,getSendingAccountId:i,getAllAccounts:r}=Object(F.b)(e),o=t();return{activeAccount:s(n(a())),getAccounts:r,rtl:o.isEnabled(f.kb.RTL),showTweet:o.isEnabled(f.kb.SHOW_TWEET),defaultSendingAccount:s(i()),linkEnhancer:o.isEnabled(f.id.LINK_ENHANCR),composeFontSize:o.getSetting(f.id.COMPOSE_FONT_SIZE),composeFontFamily:o.getSetting(f.id.COMPOSE_FONT_FAMILY),stationeryRestrictedThemes:o.isEnabled(f.id.STATIONERY_RESTRICTED_THEMES)}},e=>({changeSettings:t=>e(Object(_.a)(t)),updateFontFamily:t=>e(Object(_.a)(t)),updateLinkEnhancerMode:t=>e(Object(_.a)(t)),updateFontFamilypdateFontFamily:t=>e(Object(_.a)(t)),updateAccountDetails:t=>e(Object(_.i)(babelHelpers.extends({},t,{warnOnClose:!1})))}))(Us),Ws=a(1170),Gs=a.n(Ws),Zs=a(963),Vs=a.n(Zs),qs=a(47),zs=a(1171),Ys=a.n(zs);var Ks=function({accounts:e,enableAccounts:t,onToggle:a}){const n=c()(Ys.a),s=e=>{a(e)};return r.a.createElement("ul",{className:n.listContainer},e.map(e=>r.a.createElement("li",{className:n.accountItem,key:e.id},r.a.createElement(et.a,{canToggle:!0,toggleEnabled:!!t[e.id],header:e.email,onToggle:s.bind(null,e.id)}))))},Xs=a(1172),Qs=a.n(Xs);const $s=Object(o.h)({acceptLabel:{id:"account_forwarding_remove_btn",defaultMessage:"Remove"},verifyLabel:{id:"account_forwarding_verify_btn",defaultMessage:"Verify"},forwardingLabel:{id:"account_forwarding_text",defaultMessage:"Forwarding"},forwardingPlaceholder:{id:"forward_input_placeholder",defaultMessage:"Forwarding Address"},learnMoreLabel:{id:"account_forwarding_learn_more",defaultMessage:"Learn more"},forwardText:{id:"account_forwarding_description",defaultMessage:"Forward your mail to the specified address, so you can check it there."},forwardToggle:{id:"forward_toggle",defaultMessage:"Toggle forward email"}});class Js extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showDialog:!1,enabled:Boolean(this.props.forwardEmail),isFocus:!1,forwardInput:this.props.forwardEmail,emailNotValid:!1},this.onRemove=(()=>{this.setState({showDialog:!0})}),this.onVerify=(()=>{const{state:{forwardInput:e},props:{onVerify:t}}=this;Object(S.m)(e)?this.setState({emailNotValid:!1},()=>t(e)):this.setState({emailNotValid:!0})}),this.handleForwardStatus=(()=>{const{state:{enabled:e},props:{forwardEmail:t}}=this;e?t?this.onRemove():this.setState({enabled:!1,emailNotValid:!1}):this.setState({enabled:!0})}),this.handleChange=(e=>{this.setState({forwardInput:e})}),this.handleFocusBlur=(()=>{this.setState(({isFocus:e})=>({isFocus:!e}))}),this.renderDescription=(e=>{const{forwardEmail:t,forwardEmailVerified:a,showForwardReviewAlert:n}=this.props;let s=null;if(!t)return null;s=r.a.createElement(o.c,a?n?{id:"email_forward_review",defaultMessage:"If you don't recognize the email address above, please remove or disable Forwarding immediately."}:{id:"email_forward_verified",defaultMessage:"Verified"}:{id:"email_forward_wait",defaultMessage:"This email address is waiting to be verified. Please follow the instructions sent to {email}.",values:{email:t}});const i=r.a.createElement(A.b,{kind:M.b.CAL_ACCEPT,size:M.d.XS,colorState:M.a.SUCCESS}),l=r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED});return r.a.createElement("div",{className:e.autoForwardDescription},r.a.createElement("div",{className:e.verifyIcon},a&&n||!a?l:i),r.a.createElement("div",{className:e.verifyDescription},s))}),t}UNSAFE_componentWillReceiveProps(e){e.forwardEmail&&e.forwardEmail!==this.state.forwardInput?this.setState({forwardInput:e.forwardEmail}):!e.forwardEmail&&this.props.forwardEmail&&this.setState({enabled:!1})}componentWillUnmount(){const{accountId:e,reviewEmail:t,showForwardReviewAlert:a}=this.props;a&&t({accountId:e,updatedProperties:{showForwardReviewAlert:!1}})}render(){const{context:{intl:{formatMessage:e},getCss:t},props:{forwardEmail:a,disableForwarding:n,forwardEmailVerified:s},state:{showDialog:i,enabled:l,isFocus:c,forwardInput:d,emailNotValid:m},renderDescription:_,handleForwardStatus:u,handleChange:h,handleFocusBlur:p,onVerify:g,onRemove:E}=this,b=t(Qs.a,{isFocus:c,enabled:l,forwardEmailVerified:s});return r.a.createElement("div",null,i?r.a.createElement(At.a,{title:r.a.createElement(o.c,{id:"account_forwarding_disable_modal",defaultMessage:"Removing {email} will permanently stop automatic email forwarding. Are you sure?",values:{email:r.a.createElement("strong",null," ",a," ")}}),acceptLabel:$s.acceptLabel,message:"",wideContainer:!0,onAbort:()=>{this.setState({showDialog:!1})},onConfirm:()=>{n(),this.setState({showDialog:!1})}}):null,r.a.createElement("div",{className:b.displayFlex},r.a.createElement("label",{className:b.autoForwardingHeader,htmlFor:"emailForwarding"},e($s.forwardingLabel)),r.a.createElement(ks.a,{"data-test-id":"accounts-toggle-forwarding-btn",isEnabled:l,onClick:u,ariaLabel:e($s.forwardToggle)})),r.a.createElement("div",{className:b.disabledText},e($s.forwardText)),r.a.createElement("div",{className:b.textInput},r.a.createElement("div",{className:b.inputBox},r.a.createElement(Ue.a,{className:b.inputStyle,name:"forwardInput","aria-label":e($s.forwardingPlaceholder),placeholder:e($s.forwardingPlaceholder),value:d,onChange:h,onFocus:p,onBlur:p,disabled:a}),m?r.a.createElement("div",{"data-test-id":"forward-email-error",className:b.forwardEmailError},r.a.createElement(o.c,{id:"forward_email_error",defaultMessage:"Email is invalid"})):null,r.a.createElement("div",{className:b.removeButtonContainer},a&&s?r.a.createElement(ot.a,{"data-test-id":"accounts-delete-forwarding-btn",kind:lt.a.DANGER,paddingLess:!0,overridingClass:b.removeForwardingBtn,onClick:E},r.a.createElement("div",{className:b.removeText},e($s.acceptLabel))):r.a.createElement(ot.a,{"data-test-id":"accounts-verify-forwarding-btn",kind:lt.a.PRIMARY,paddingLess:!0,overridingClass:b.verifyForwardingBtn,disabled:!d||c||Boolean(a),onClick:g},r.a.createElement("div",{className:b.removeText},e($s.verifyLabel))))),_(b)))}}Js.displayName="AutoForwardingSection",Js.contextTypes={intl:o.i.isRequired,getCss:s.a.func};var ei=Js;const ti=Object(o.h)({brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},accountName:{id:"account_name_placeholder",defaultMessage:"Your Name"},accountDescription:{id:"account_description_placeholder",defaultMessage:"Description"},accountNameHint:{id:"account_name_hint",defaultMessage:"The name shown in emails you send."},accountDescriptionHint:{id:"account_description_hint",defaultMessage:"Name this mailbox."},confirmBtn:{id:"edit_confirm_btn_text",defaultMessage:"Remove mailbox"},confirmAliasBtn:{id:"edit_remove_alias_btn_text",defaultMessage:"Remove alias"},saveBtnTitle:{id:"account_save_btn_title",defaultMessage:"Save"},saveBtnDisabled:{id:"account_save_btn_disabled_title",defaultMessage:"Please select at lease one mailbox to link to your send-only email address"},cancelBtnTitle:{id:"account_cancel_btn_title",defaultMessage:"Cancel"},sendOnlyType:{id:"edit_send_only",defaultMessage:"(send-only)"},aliasType:{id:"edit_alias_account",defaultMessage:"(alias)"},aliasAddSuccess:{id:"alias_account_add_success",defaultMessage:"Congratulations. Your email alias has been added"},aliasAddedMessage:{id:"alias_account_add_msg",defaultMessage:"Now you can use {email} to send and receive messages from this mailbox."}}),ai=c()(Vs.a);function ni(e,t){let a="";if(e){const e=f.fb.YAHOO;return e.charAt(0).toUpperCase()+e.slice(1)}return t&&(a=t.split("@")[0]),a}class si extends r.a.Component{constructor(e,t){super(e,t),ii.call(this);const{account:a,accounts:n}=e,s={},i=a.linkedAccounts||[];n.forEach(e=>{i.indexOf(e.id)>-1&&(s[e.id]=!0)}),this.state={showConfirm:!1,account:Object.assign({},a,{description:a.description||ni(a.isPrimary,a.email),forwardEmail:a.forwardEmail||""}),enableAccounts:s}}componentDidMount(){const{openReauth:e}=this.props;e&&this._openOAuthWindow()}componentWillUnmount(){window[f.sc]=void 0}UNSAFE_componentWillReceiveProps({account:e}){this.setState({account:Object.assign({},e,{description:e.description?e.description:ni(e.isPrimary,e.email)})})}render(){const{account:{email:e,sendingName:t,description:a,replyToAddress:n,type:s,forwardEmail:i,forwardEmailVerified:l},showConfirm:c,enableAccounts:d}=this.state,{formatMessage:m}=this.context.intl,{mailBrandNameString:_}=this.context,{account:{id:u,showForwardReviewAlert:h},replyToAddresses:p,composeFontSize:g,composeFontFamily:E,rtl:b,accounts:C,reviewEmail:v,isAutoForwardEnabled:I}=this.props,y=[...p];!n||y.find(({email:e})=>e===n)||y.push({email:n});const S=r.a.createElement(o.c,{id:"delete_account_hint",defaultMessage:"Disconnecting a mailbox will permanently remove all messages and data from {mailBrandNameString} and cannot be undone.",values:{mailBrandNameString:_}}),N=r.a.createElement(o.c,{id:"delete_alias_account_hint",defaultMessage:"If you remove an alias, you will no longer be able to use it to mask your Yahoo ID."}),T=r.a.createElement("div",{className:ai.customTitle},r.a.createElement(o.c,{id:"confirm.delete_account",defaultMessage:"Are you sure you want to remove {email}?",values:{email:r.a.createElement("strong",null,e)}})),A=this.getErrorMessage();return r.a.createElement("div",{className:ai.filterWrapper,"data-test-id":"accounts-editor"},r.a.createElement("div",{className:ai.filterPreviewSection},r.a.createElement("header",{className:ai.previewTitleWrapper},this.renderEditAccountHeader(),r.a.createElement("span",{className:ai.blurredArea})),A||null,this.getReauthorizeMailboxAlertMessage(),r.a.createElement("label",{className:ai.label,htmlFor:"accountName"},r.a.createElement(o.c,{id:"account_name_text",defaultMessage:"Your name"})),r.a.createElement("div",{className:ai.textInput},r.a.createElement(Ue.a,{isClearable:!0,name:"accountName",value:t,hint:m(ti.accountNameHint),"aria-label":m(ti.accountName),placeholder:m(ti.accountName),onChange:e=>this.handleChange("sendingName",e)})),r.a.createElement("label",{className:ai.label,htmlFor:"description"},r.a.createElement(o.c,{id:"acoount_description_text",defaultMessage:"Description"})),r.a.createElement("div",{className:ai.textInput},r.a.createElement(Ue.a,{isClearable:!0,name:"description",value:a,hint:m(ti.accountDescriptionHint),"aria-label":m(ti.accountDescription),placeholder:m(ti.accountDescription),onChange:e=>this.handleChange("description",e)})),r.a.createElement("label",{className:ai.label,htmlFor:"replyToAddress"},r.a.createElement(o.c,{id:"reply_to_address_text",defaultMessage:"Reply-to address"})),r.a.createElement("div",{className:ai.textInput},r.a.createElement(ka.a,{selected:n||e,onChange:e=>this.handleChange("replyToAddress",e)},y.map(({email:e})=>r.a.createElement(Ra.a,{key:e,value:e},e))),r.a.createElement("div",{className:ai.hint},r.a.createElement(o.c,{id:"reply_to_address_hint",defaultMessage:"Receive replies to your sent emails at a different address."}))),this.showSignature(s)?r.a.createElement("div",{className:ai.signatureContainer},r.a.createElement(ws,{key:this.state.account.email,account:this.state.account,onChange:(e,t)=>this.handleChange("signature",t),onStatusChange:({signatureActive:e})=>this.handleChange("signatureActive",e),composeFontFamily:E,composeFontSize:g,showDefaultTitle:!0,showEditorAlways:!0,rtl:b})):null,I?r.a.createElement(ei,{accountId:u,reviewEmail:v,showForwardReviewAlert:h,onVerify:this.handleVerify,forwardEmailVerified:l,forwardEmail:i,disableForwarding:this.disableForwarding}):null,this.showLinkedAccountsList(s)?r.a.createElement("div",null,r.a.createElement("div",{className:ai.linkedLabelWrapper},r.a.createElement("label",{className:ai.label,htmlFor:"linkedMailboxes"},r.a.createElement(o.c,{id:"linked_mailboxes_text",defaultMessage:"Linked mailboxes"}))),r.a.createElement(Ks,{accounts:C.filter(e=>e.type===f.g.IMAPIN||e.isPrimary),enableAccounts:d,onToggle:this.handleLinkedAccountToggle})):null,this.getReauthorizeMailboxMessage(),this.hideAccountRemoveButton()?null:r.a.createElement("div",{className:ai.deleteBtn},r.a.createElement(ot.a,{"data-test-id":"accounts-delete-btn",kind:lt.a.DANGER,onClick:this.removeMailbox},r.a.createElement(o.c,s===f.g.ALIAS?{id:"delete_alias_account_btn_text",defaultMessage:"Remove alias"}:{id:"delete_account_btn_text",defaultMessage:"Remove mailbox"})),s===f.g.SENDAS?null:r.a.createElement("div",{className:ai.hint},s===f.g.ALIAS?N:S)),r.a.createElement("div",{className:ai.iconWrapper},this.getButtons())),c?r.a.createElement(At.a,{onConfirm:this.handleDelete,cancelLabel:ti.cancelBtn,acceptLabel:s===f.g.ALIAS?ti.confirmAliasBtn:ti.confirmBtn,onAbort:this.toggleConfirmDialog.bind(this,!1),customTitle:T,showCustomTitle:!0},r.a.createElement(o.c,{id:"confirm.delete_account_message",defaultMessage:"From within {mailBrandNameString}:",values:{mailBrandNameString:_}}),r.a.createElement("ul",{className:ai.listWrapper},r.a.createElement("li",null,r.a.createElement(o.c,{id:"confirm.delete_account_point1",defaultMessage:"You won't be able to send or receive\n                                          messages with this mailbox."})),r.a.createElement("li",null,r.a.createElement(o.c,{id:"confirm.delete_account_point2",defaultMessage:"All information associated with this mailbox will be permanently deleted."})))):null)}}si.contextTypes={intl:o.i.isRequired,config:s.a.object,credstoreClient:E.a,partner:s.a.string,mailBrandNameString:s.a.string};var ii=function(){this._handleOAuthResponse=(({status:e,wssid:t})=>{const{handleReauth:a,account:{id:n,email:s}}=this.props,i=Object(qs.d)(this.state.account);window[f.sc]=void 0,a(200===(e=parseInt(e,10))?{wssid:t,accountId:n,email:s,provider:i}:{error:{status:e},email:s,provider:i})}),this._openOAuthWindow=(()=>{const{partner:e}=this.context,{appRootPath:t,account:{email:a}}=this.props,n=Object(qs.d)(this.state.account),s=n===f.fb.GOOGLE?600:700,i=`https://${window.location.hostname}${t}/oAuth`,r="ycorp"===e;return window[f.sc]=this._handleOAuthResponse,window.oAuthWindow?(this.oAuthWindow=window.oAuthWindow,delete window.oAuthWindow):this.oAuthWindow=this._getPopupwindow("","authorizeWindow",800,s),this.context.credstoreClient.getAuthorizationURL({provider:n,email:a,redirectUrl:i,isCorpUser:r}).then(({authorizeUrl:e,authorizeURL:t})=>{this.oAuthWindow.location.replace(`${e||t}&${n===f.fb.AOL?"login_id":"login_hint"}=${a}`)})}),this._getPopupwindow=((e,t,a,n)=>{const s=screen.width/2-a/2,i=screen.height/2-n/2;return window.open(e,t,`width=${a}, height=${n}, top=${i}, left=${s}`)}),this.handleChange=((e,t)=>{const{account:a}=this.state;Object.assign(a,{[e]:t}),this.setState({account:a})}),this.handleSave=(()=>{const{id:e,sendingName:t,description:a,replyToAddress:n,signatureActive:s,signature:i,type:r,unsetFields:o=[]}=this.state.account,{enableAccounts:l}=this.state,c={sendingName:t,description:a,replyToAddress:n,signatureActive:s,signature:i};o.length&&(c.unsetFields=o),r===f.g.SENDAS&&(c.linkedAccounts=Object.keys(l)),this.props.onSave(e,c),this.props.onCancel()}),this.handleVerify=(e=>{const{id:t}=this.state.account;this.props.onSave(t,{forwardEmail:e,forwardSetting:f.P})}),this.handleDelete=(()=>{const{account:{id:e},onDelete:t}=this.props;this.toggleConfirmDialog(!1),t(e)}),this.handleCancel=(()=>{this.props.onCancel()}),this.handleReauthorize=(e=>{e.preventDefault(),this._openOAuthWindow()}),this.handleLinkedAccountToggle=(e=>{const{enableAccounts:t}=this.state;void 0===t[e]?t[e]=!0:delete t[e],this.setState({enableAccounts:t})}),this.removeMailbox=(()=>{this.props.confirmAccountDeleted(),this.toggleConfirmDialog(!0)}),this.disableForwarding=(()=>{const{account:e}=this.state;this.props.onSave(e.id,{unsetFields:["forwardEmail","forwardSetting"]},{mKey:v.e.SETTINGS_DISABLE_FORWARDING,sec:v.g.SETTINGS_ACCOUNTS_TAB})}),this.toggleConfirmDialog=(e=>{this.setState({showConfirm:e})}),this.showSignature=(e=>e!==f.g.ALIAS&&e!==f.g.SENDAS),this.showLinkedAccountsList=(e=>{const{enableLinkAccounts:t}=this.props;return t&&e===f.g.SENDAS}),this.hideReauth=(e=>e===f.g.ALIAS||e===f.g.SENDAS),this.getAccountType=(e=>{const{formatMessage:t}=this.context.intl;switch(e){case f.g.SENDAS:return t(ti.sendOnlyType);case f.g.ALIAS:return t(ti.aliasType);default:return null}}),this.getErrorMessage=(()=>{const{account:{accountVerified:e,type:t}}=this.state;return e||t!==f.g.SENDAS?null:r.a.createElement("div",{className:ai.errorWrapper},r.a.createElement("div",{className:ai.errorIcon},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED})),r.a.createElement("div",{className:ai.errorMessageWrapper},r.a.createElement("div",{className:ai.errorMessage},this.getErrorMessageBody())))}),this.handleResendClick=(e=>{e.preventDefault(),this.props.onResend(this.props.account)}),this.getErrorMessageBody=(()=>{const{account:{email:e,accountVerified:t}}=this.state,{sendingEmailConfirmStatus:a}=this.props;return t?null:r.a.createElement("div",null,r.a.createElement(o.c,{id:"edit_account_verified_body",defaultMessage:"Check {email} for a verification email from Yahoo and follow\n                            the steps. If you do not receive the email, try resending it.",values:{email:r.a.createElement("b",null,e)}}),r.a.createElement("div",{className:ai.link,onClick:this.handleResendClick,href:"#"},a?r.a.createElement("span",{className:ai.sendingText},r.a.createElement(o.c,{id:"edit_sending_verification",defaultMessage:"Sending..."})):r.a.createElement(o.c,{id:"edit_resend_verification",defaultMessage:"Resend email"})))}),this.getReauthorizeMailboxLink=((e,t)=>r.a.createElement("div",null,r.a.createElement("a",{href:"#",className:e.reauthorizeText,onClick:this.handleReauthorize},r.a.createElement(o.c,{id:"account_reauthorize_text",defaultMessage:"Sign in to {provider}",values:{provider:t}})))),this.getReauthorizeMailboxAlertMessage=(()=>{const{account:{id:e,isPrimary:t,status:a,type:n}}=this.state,{expiredAccounts:s}=this.props,i=Object(qs.d)(this.state.account),l=Object(qs.h)(i);return t||a===f.f.DELETE_IN_PROGRESS||this.hideReauth(n)?null:s.indexOf(e)>-1?r.a.createElement("div",{className:ai.errorWrapper},r.a.createElement("div",{className:ai.errorIcon},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED})),r.a.createElement("div",{className:ai.errorMessageWrapper},r.a.createElement("div",{className:ai.errorMessage},r.a.createElement(o.c,{id:"account_reauthorize_alert_message",defaultMessage:"This mailbox is not syncing with {provider} and needs permission to resume. This can happen because a security setting or password was changed.",values:{provider:l}}),r.a.createElement("div",null,this.getReauthorizeMailboxLink(ai,l))))):null}),this.getReauthorizeMailboxMessage=(()=>{const{account:{id:e,isPrimary:t,status:a,type:n}}=this.state,{expiredAccounts:s}=this.props,i=Object(qs.d)(this.state.account),l=Object(qs.h)(i);return t||a===f.f.DELETE_IN_PROGRESS||this.hideReauth(n)||s.indexOf(e)>-1?null:r.a.createElement("div",{className:ai.reauthorizeWrapper},r.a.createElement("label",{className:ai.label,htmlFor:"reauthorize"},r.a.createElement(o.c,{id:"acoount_reauthorize_header_text",defaultMessage:"Reauthorize mailbox"})),this.getReauthorizeMailboxLink(ai,l))}),this.renderEditAccountHeader=(()=>{const{account:{email:e,type:t}}=this.state,{newAccount:a}=this.props,n=this.getAccountType(t),{formatMessage:s}=this.context.intl;return a&&t===f.g.ALIAS?r.a.createElement("div",{className:ai.newAccountWrapper},r.a.createElement("div",{className:ai.newAccountTitle},r.a.createElement("span",{className:ai.newAccountIconWrapper},r.a.createElement(A.b,{kind:M.b.CAL_ACCEPT,size:M.d.XS,colorState:M.a.SUCCESS})),r.a.createElement("span",{className:ai.newAccountSuccess},s(ti.aliasAddSuccess))),r.a.createElement("div",{className:ai.newAccountText},s(ti.aliasAddedMessage,{email:e}))):r.a.createElement("div",{className:ai.previewFilterTitle},r.a.createElement(o.c,{id:"edit_account_text",defaultMessage:"Edit {email}",values:{email:r.a.createElement("b",null,e)}}),n?r.a.createElement("span",{className:ai.accountType},n):null)}),this.getButtons=(()=>{const{account:{type:e,status:t}}=this.state,{newAccount:a}=this.props,{formatMessage:n}=this.context.intl,s=[],i=this.disableSave()?ai.disabledButton:ai.saveButton;return a&&e===f.g.ALIAS?(s.push(r.a.createElement(ot.a,{"data-test-id":"edit-finish-btn",key:"edit-finish-btn",onClick:this.handleSave,className:i,title:n(ti.saveBtnTitle)},r.a.createElement(o.c,{id:"account_finish_btn_title",defaultMessage:"Finish"}))),s):(t!==f.f.DELETE_IN_PROGRESS&&s.push(r.a.createElement(ot.a,{"data-test-id":"edit-save-btn",key:"edit-save-btn",onClick:this.handleSave,className:i,disabled:this.disableSave(),title:this.disableSave()?n(ti.saveBtnDisabled):n(ti.saveBtnTitle)},r.a.createElement(o.c,{id:"account_edit_save",defaultMessage:"Save"}))),s.push(r.a.createElement(ot.a,{"data-test-id":"edit-cancel-btn",key:"edit-cancel-btn",onClick:this.props.onCancel,className:ai.cancelButton,title:n(ti.cancelBtnTitle)},r.a.createElement(o.c,{id:"cancel_btn_text",defaultMessage:"Cancel"}))),s)}),this.hideAccountRemoveButton=(()=>{const{newAccount:e,canRemoveImapInAccount:t}=this.props,{account:{isPrimary:a,status:n,type:s}}=this.state;return!!(a||n===f.f.DELETE_IN_PROGRESS||e&&s===f.g.ALIAS||!t&&s===f.g.IMAPIN)}),this.disableSave=(()=>{const{account:{type:e},enableAccounts:t}=this.state;return e===f.g.SENDAS&&0===Object.keys(t).length})};var ri=Object(N.b)((e,{account:t})=>{const{isFeatureEnabled:a,getAccountSelectors:n}=Object(F.b)(e),s=a(f.kb.AUTO_FORWARD_EMAIL),i=n().isPrimaryAccountDisabled(),{isPrimary:r,type:o}=t;return{isAutoForwardEnabled:s&&o!==f.g.IMAPIN&&r&&!i}},e=>({confirmAccountDeleted:t=>e(Object(h.e)(babelHelpers.extends({i13nModel:{mKey:v.e.CONFIRM_DELETE_ACCOUNT,sec:v.g.SETTINGS_ACCOUNTS_TAB,interactionType:v.d.click}},t))),reviewEmail:t=>e(_.h(t))}))(si),oi=a(1173),li=a.n(oi),ci=a(1174),di=a.n(ci),mi=a(458);const _i=Object(o.h)({sendOnly:{id:"account_item_sendas",defaultMessage:"(send-only)"},alias:{id:"account_item_alias",defaultMessage:"(alias)"}});class ui extends r.a.Component{constructor(...e){var t;return t=super(...e),this.getAccountStatus=(e=>{const{account:{id:t,accountVerified:a,status:n,createTime:s,type:i,forwardEmail:l,forwardEmailVerified:c},expiredAccounts:d}=this.props;return a?d.find(e=>e.id===t)?r.a.createElement("div",{className:e.statusWrapper},r.a.createElement("div",{className:e.statusIcon},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED})),r.a.createElement("span",{className:e.messageWrapper},r.a.createElement(o.c,{id:"account_item_syncing_error",defaultMessage:"Not syncing"}))):n===f.f.DELETE_IN_PROGRESS?r.a.createElement(o.c,{id:"account_status_disconnecting",defaultMessage:"Disconnecting"}):Object(qs.a)({status:n,type:i,createTime:s,syncTime:this.props.syncTime})?r.a.createElement("div",{className:e.statusWrapper},r.a.createElement("div",{className:e.syncingStatusIcon},r.a.createElement(mi.a,null)),r.a.createElement("span",{className:e.messageWrapper},r.a.createElement(o.c,{id:"account_status_syncing",defaultMessage:"Syncing"}))):l&&!c?r.a.createElement("div",{className:e.accountNameWrapper},r.a.createElement("div",{className:e.statusIcon},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED}))):null:r.a.createElement("div",{className:e.statusWrapper},r.a.createElement("div",{className:e.statusIcon},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED})),r.a.createElement("span",{className:e.messageWrapper},r.a.createElement(o.c,{id:"account_item_verify_error",defaultMessage:"Not verified"})))}),this.handleSelect=(()=>{const{account:{status:e},onSelect:t}=this.props;e!==f.f.DELETE_IN_PROGRESS&&t()}),this.getAccountTypeText=(e=>{switch(e){case f.g.ALIAS:return r.a.createElement(o.c,{id:"account_item_alias",defaultMessage:"(alias)"});case f.g.SENDAS:return r.a.createElement(o.c,{id:"account_item_sendas",defaultMessage:"(send-only)"});default:return null}}),t}render(){const{account:e,selected:t}=this.props,{formatMessage:a}=this.context.intl,{email:n,status:s,description:i,type:o}=e,l=c()(di.a,{selected:t,deleteInProgress:s===f.f.DELETE_IN_PROGRESS}),d=Object(qs.f)(n),m=this.getAccountTypeText(o);let _;switch(o){case f.g.ALIAS:_=a(_i.alias);break;case f.g.SENDAS:_=a(_i.sendOnly);break;default:_=""}return s===f.f.DELETE_IN_PROGRESS&&o===f.g.SENDAS?null:r.a.createElement("li",{className:l.listItem,onClick:this.handleSelect,"data-test-id":"accounts-list-item"},r.a.createElement(ss,{accountType:d}),r.a.createElement("div",{className:l.accountInfo},r.a.createElement("div",{className:l.accountNameWrapper},r.a.createElement("p",{className:l.accountName,title:n+" "+_},r.a.createElement("span",null,n),m?r.a.createElement("span",{className:l.typeTextWrapper},m):null)),r.a.createElement("p",{className:l.accountDescription},i)),r.a.createElement("div",{className:l.accountStatus,"data-test-id":"accounts-item-status"},this.getAccountStatus(l)))}}ui.contextTypes={config:s.a.object,intl:o.i.isRequired};var hi=ui;const pi={[f.e.IMAPIN]:50,[f.e.ALIAS]:1,[f.e.SENDAS]:10,[f.e.DEA]:500},gi=Object(o.h)({imapinAccountHeader:{id:"section_imapin_header",defaultMessage:"Mailbox list"},aliasAccountHeader:{id:"section_alias_header",defaultMessage:"Email alias"},sendasAccountHeader:{id:"section_sendas_header",defaultMessage:"Send-only email address"},disposableAccountHeader:{id:"section_disposable_header",defaultMessage:"Disposable email address"},addMailBoxButton:{id:"section_addaccount_button",defaultMessage:"Add mailbox"},addButton:{id:"section_add_button",defaultMessage:"Add"},showless:{id:"section_showless_button",defaultMessage:"Show less"},showmore:{id:"section_showmore_button",defaultMessage:"Show all {number} accounts"},openAliasSectionButtonLabel:{id:"section_alias_open_button_label",defaultMessage:"Open email alias"},closeAliasSectionButtonLabel:{id:"section_alias_close_button_label",defaultMessage:"Close email alias"},openSendAsSectionButtonLabel:{id:"section_sendas_open_button_label",defaultMessage:"Open send-only email address"},closeSendAsSectionButtonLabel:{id:"section_sendas_close_button_label",defaultMessage:"Close send-only email address"},openDEASectionButtonLabel:{id:"section_dea_open_button_label",defaultMessage:"Open disposable email address"},closeDEASectionButtonLabel:{id:"section_dea_close_button_label",defaultMessage:"Close disposable email address"},baseNameLabel:{id:"section_basename_label",defaultMessage:"Base name"},deaFormatText:{id:"section_dea_format_text",defaultMessage:"{baseName}-[keyword]@{domain}"},imapinSectionHint:{id:"section_imapin_hint",defaultMessage:"Add an account to access all your emails in one place"},aliasSectionHint:{id:"section_alias_hint",defaultMessage:"Send and receive emails from a different Yahoo email address"},sendasSectionHint:{id:"section_sendas_hint",defaultMessage:"Send emails from a different email address"},deaSectionHint:{id:"section_dea_hint",defaultMessage:"Create an email address to sign up for third-party newsletters. Delete account to stop receiving."},accountUsageHint:{id:"section_account_usage_hint",defaultMessage:"{accounts} of {maxNumberOfAccounts} used"},accountNums:{id:"section_account_addresses_number",defaultMessage:"{number, plural,\n            one {# address}\n            other {# addresses}\n        }"},imapAccountNums:{id:"section_imapin_address_number",defaultMessage:"{number, plural,\n            one {# mailbox}\n            other {# mailboxes}\n        }"},imapinAccountPlural:{id:"section_account_imapin_plural",defaultMessage:"mailboxes"},aliasAccountPlural:{id:"section_account_alias_plural",defaultMessage:"alias"},sendasAccountPlural:{id:"section_account_sendas_plural",defaultMessage:"send-only addresses"},deaAccountPlural:{id:"section_account_dea_plural",defaultMessage:"disposable addresses"}}),Ei={[f.e.IMAPIN]:gi.imapinAccountHeader,[f.e.ALIAS]:gi.aliasAccountHeader,[f.e.SENDAS]:gi.sendasAccountHeader,[f.e.DEA]:gi.disposableAccountHeader},bi={[f.e.IMAPIN]:gi.imapinSectionHint,[f.e.ALIAS]:gi.aliasSectionHint,[f.e.SENDAS]:gi.sendasSectionHint,[f.e.DEA]:gi.deaSectionHint},Ci={[f.e.IMAPIN]:gi.imapinAccountPlural,[f.e.ALIAS]:gi.aliasAccountPlural,[f.e.SENDAS]:gi.sendasAccountPlural,[f.e.DEA]:gi.deaAccountPlural},fi={[f.e.SENDAS]:gi.openSendAsSectionButtonLabel,[f.e.ALIAS]:gi.openAliasSectionButtonLabel,[f.e.DEA]:gi.openDEASectionButtonLabel},vi={[f.e.SENDAS]:gi.closeSendAsSectionButtonLabel,[f.e.ALIAS]:gi.closeAliasSectionButtonLabel,[f.e.DEA]:gi.closeDEASectionButtonLabel};class Ii extends r.a.Component{constructor(e){super(e),yi.call(this);const{sectionType:t,expandAccounts:a}=e;this.state={showAccounts:t===f.e.IMAPIN,expandAccounts:a}}render(){const{accounts:e,sectionType:t,buttonDisabled:a}=this.props,{formatMessage:n}=this.context.intl,{showAccounts:s}=this.state,i=n(Ei[t]),l=e.length>pi[t],d=c()(li.a,{buttonDisabled:a||e.length>=pi[t],exceedMaxAccounts:l}),m=e.length>0?""+e.length:"0";return r.a.createElement("div",{className:d.sectionContainer},r.a.createElement("div",{className:d.sectionInfoHeader},r.a.createElement("div",{className:d.headerText},i),t!==f.e.IMAPIN?r.a.createElement(De.a,{"data-test-id":`${t}account_section_collapse_button`,kind:M.b.CHEVRON_UP,rotate:s?M.c.D0:M.c.D180,size:M.d.XS,colorState:M.a.SELECTED,onClick:this.toggleAccountSection,title:n(s?vi[t]:fi[t]),"aria-label":n(s?vi[t]:fi[t]),className:d.toggleAccountSectionButton}):null),r.a.createElement("div",{className:d.sectionHintsWrapper},r.a.createElement("div",{className:d.sectionHint},n(bi[t])),s?r.a.createElement(nn.c,{align:an.a.END,triggerOn:nn.b.HOVER,triggerOff:nn.a.HOVER_OUT_ANCHOR,offset:-40},r.a.createElement("div",{className:d.accountUsage},l?r.a.createElement("span",{className:d.warningIcon,"data-test-id":`${t}_max_limit_exceeded`},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED})):null,n(gi.accountUsageHint,{accounts:m,maxNumberOfAccounts:pi[t]})),l?r.a.createElement("div",{className:d.exceedMaxAccountsHint},r.a.createElement("p",{className:d.errorText},r.a.createElement(o.c,{id:"section_account_remove_hint",defaultMessage:"You have exceeded the new limit of {maxNumberOfAccounts} {accountTypePlural}. Please remove at least {numberOfAccounts} to add a new one.",values:{maxNumberOfAccounts:pi[t],accountTypePlural:n(Ci[t]),numberOfAccounts:r.a.createElement("span",{className:d.errorWarn},this.getRemoveNumber())}}))):r.a.createElement("div",null)):null),this.renderAccountList(d),this.renderButtons(d))}}Ii.contextTypes={intl:o.i.isRequired},Ii.defaultProps={expandAccounts:!1,expiredAccounts:[],canAddImapInAccount:!1,addAliasAccount:!1,baseName:"",domain:""};var yi=function(){this.shouldRenderBaseName=(()=>{const{sectionType:e,baseName:t}=this.props;return!(e!==f.e.DEA||!t)}),this.getAccountItem=((e,t)=>{const{sectionType:a,selectedAccountId:n,expiredAccounts:s,handleAccountSelected:i,syncTime:o}=this.props;return a===f.e.DEA?r.a.createElement("li",{key:e.email,className:t.deaListItem,onClick:()=>i(e.id)},r.a.createElement("div",{className:t.deaAccountInfo},r.a.createElement("div",{className:t.deaAccountName},e.email),r.a.createElement("p",{className:t.deaAccountDescription},e.description))):r.a.createElement(hi,{account:e,key:e.email,selected:n===e.id,onSelect:()=>i(e.id),expiredAccounts:s,syncTime:o})}),this.renderAccountList=(e=>{const{formatMessage:t}=this.context.intl,{accounts:a,baseName:n,domain:s,sectionType:i}=this.props,{showAccounts:o,expandAccounts:l}=this.state;let c=a;return o?(!l&&c.length>3&&(c=c.slice(0,3)),r.a.createElement("ul",{className:e.listWrapper,"data-test-id":`${i}_list`},this.shouldRenderBaseName()?r.a.createElement("div",{"data-test-id":"base-name",className:e.baseNameWrapper},r.a.createElement("div",{className:e.baseName},r.a.createElement("span",{className:e.baseNameText},t(gi.baseNameLabel)),r.a.createElement("span",{className:e.domain},n)),r.a.createElement("span",{className:e.deaHint},t(gi.deaFormatText,{baseName:n,domain:s}))):null,c.map(t=>this.getAccountItem(t,e)))):null}),this.getButtonClassName=(e=>{const{sectionType:t}=this.props;return t===f.e.IMAPIN?e.primaryButton:e.secondaryButton}),this.handleAccountListCollapse=(e=>{e.stopPropagation(),e.preventDefault();const{expandAccounts:t}=this.state;this.setState({expandAccounts:!t})}),this.getButtonText=(()=>{const{sectionType:e}=this.props,{formatMessage:t}=this.context.intl;return t(e===f.e.IMAPIN?gi.addMailBoxButton:gi.addButton)}),this.handleButtonClick=(()=>{this.props.openAddAccountWizard(),this.props.handleButtonClick()}),this.renderButtons=(e=>{const{accounts:t,sectionType:a,buttonDisabled:n,canAddImapInAccount:s,addAliasAccount:i}=this.props,{showAccounts:o,expandAccounts:l}=this.state,{formatMessage:c}=this.context.intl,d=t.length>=pi[a];return o?r.a.createElement("div",{className:e.buttonsWrapper},!s&&a===f.e.IMAPIN||!i&&a===f.e.ALIAS?null:r.a.createElement(ot.a,{"data-test-id":`${a}_section_button`,className:this.getButtonClassName(e),onClick:this.handleButtonClick,disabled:n||d},this.getButtonText()),t.length>3?r.a.createElement("a",{"data-test-id":`${a}_account_list_collapse_button`,className:e.textButton,onClick:this.handleAccountListCollapse},l?c(gi.showless):c(gi.showmore,{number:t.length})):null):null}),this.toggleAccountSection=(e=>{e.preventDefault(),e.stopPropagation();const{showAccounts:t}=this.state;this.setState({showAccounts:!t})}),this.getRemoveNumber=(()=>{const{sectionType:e,accounts:t}=this.props,{formatMessage:a}=this.context.intl;return a(e===f.e.IMAPIN?gi.imapAccountNums:gi.accountNums,{number:t.length-pi[e]+1})})};var Si=Object(N.b)((e,t)=>{if(t.sectionType!==f.e.ALIAS)return{};const{getAliasAccounts:a,getFeaturesSelectors:n,getAction:s}=Object(F.b)(e),i=e.mailboxes.accounts,r=Object.keys(i).map(e=>i[e]);if(t.sectionType===f.g.ALIAS&&"-1"===t.selectedAccountId&&s().type===Is.a.ALIAS_EMAIL_CREATE_SUCCEEDED){const e=r.find(e=>e.type===f.g.ALIAS);t.handleNewAccountCreated(e)}const o=n().getSetting(f.id.SYNC_TIME);return{accounts:a(),syncTime:o}},e=>({openAddAccountWizard:()=>e(Object(L.r)({i13nModel:{mKey:v.e.ADD_ACCOUNT,sec:v.g.SETTINGS_ACCOUNTS_TAB,interactionType:v.d.click}}))}))(Ii),Ni=a(378),Ti=a(1175),Ai=a.n(Ti),Mi=a(161);const Di=Object(O.c)(["PREFIX","KEYWORD"]),Oi=[f.fb.YAHOO,f.fb.GOOGLE,f.fb.OUTLOOK,f.fb.AOL],ki=[f.fb.GOOGLE,f.fb.OUTLOOK,f.fb.AOL],Ri=()=>{},xi=Object(o.h)({clearBtnTitle:{id:"dea_base_name_clear",defaultMessage:"clear"}});class Pi extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hasFocus:!1},this.handleFocus=(()=>{this.setState({hasFocus:!0},()=>{this.props.onFocus()})}),this.handleBlur=(()=>{this.setState({hasFocus:!1},()=>{this.props.onBlur()})}),this.handleChange=(e=>{this.props.onChange(e.target.value)}),this.handleClear=(()=>{this.props.onChange(""),this.focus()}),this.focus=(()=>{this.input.focus()}),t}render(){const{hasFocus:e}=this.state,{formatMessage:t}=this.context.intl,a=this.props,{baseName:n,value:s,hint:i,error:l,kind:d,domain:m}=a,_=babelHelpers.objectWithoutProperties(a,["baseName","value","hint","error","kind","domain"]),u=c()(Ai.a,{hasFocus:e,error:l}),h=d===Di.PREFIX,p=r.a.createElement(Mi.a,babelHelpers.extends({},_,{value:s,"data-test-id":d,name:d,onBlur:this.handleBlur,onFocus:this.handleFocus,onChange:this.handleChange,ref:e=>this.input=e,className:u.inputField,disabled:h&&!!n}));return r.a.createElement("div",{className:u.inputContainer},r.a.createElement("div",{className:u.emailContainer},h?r.a.createElement("div",{className:u.baseNameInput},p):r.a.createElement("div",{className:u.baseName,"data-test-id":"base-name-prefix"},`${n}-`),r.a.createElement("div",{className:u.keyword},h?r.a.createElement(o.c,{id:"keyword_hint_text",defaultMessage:"-[keyword]"}):p),`@${m}`,r.a.createElement("span",{className:u.clearButtonContainer},s?r.a.createElement(De.a,{size:M.d.XXS,onClick:this.handleClear,kind:M.b.CLEAR,className:u.clearButton,colorState:M.a.FAINT,title:t(xi.clearBtnTitle)}):null)),i&&!l&&r.a.createElement("div",{className:u.hint},i),l&&r.a.createElement("span",{className:u.error,"data-test-id":"dea-base-name-error"},l))}}Pi.contextTypes={intl:o.i.isRequired},Pi.defaultProps={hint:"",error:"",onBlur:Ri,onFocus:Ri,onChange:Ri};var wi=Pi;const Fi=c()(Vs.a),Li=Object(o.h)({deaBaseName:{id:"dea_base_name_placeholder",defaultMessage:"base Name"},deaBaseNameHint:{id:"dea_base_name_hint",defaultMessage:"* Base name can't be changed after set"},baseNameError:{id:"dea_base_name_error",defaultMessage:"The base name cannot be empty"}});class Bi extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={value:this.props.baseName},this.handleChange=(e=>{this.setState({value:e})}),this.isStepValid=(()=>{const{value:e}=this.state,{formatMessage:t}=this.context.intl,a=!!e&&!!this.props.baseName,n=e?"":t(Li.baseNameError);return this.setState({error:n}),a}),this.handleSelect=(e=>{this.setState({value:e},this.handleBlur)}),this.handleBlur=(()=>{const{value:e}=this.state;e&&!this.props.baseName&&this.props.onCreateBaseName(e)}),t}componentWillReceiveProps(e){const{baseName:t}=e;t&&this.setState({value:t})}render(){const{value:e,error:t}=this.state,{formatMessage:a}=this.context.intl,{domain:n,baseName:s,suggestions:i}=this.props;return r.a.createElement("div",null,r.a.createElement("label",{className:Fi.label,htmlFor:"emailAddress"},r.a.createElement(o.c,{id:"disposable_email_basename_text",defaultMessage:"Set base name"})),r.a.createElement(wi,{value:e,domain:n,baseName:s,error:t,kind:Di.PREFIX,onBlur:this.handleBlur,onChange:this.handleChange,hint:a(Li.deaBaseNameHint),placeholder:a(Li.deaBaseName)}),i.length?r.a.createElement("div",{"data-test-id":"dea-base-name-suggestions",className:Fi.suggestionsContainer},r.a.createElement("p",{className:Fi.baseNameError},r.a.createElement(o.c,{id:"basename_unavailable_text",defaultMessage:"{baseName} is not available, try names below",values:{baseName:e}})),r.a.createElement("ul",{className:Fi.suggestions},i.map(e=>r.a.createElement("li",{key:e,className:Fi.suggestionsListItem},r.a.createElement("span",{"data-test-id":`dea-base-name-${e}`,className:Fi.suggestion,onClick:this.handleSelect.bind(this,e)},e))))):null)}}Bi.contextTypes={intl:o.i.isRequired};var Hi=Bi;const Ui=()=>{},ji=Object(o.h)({keywordPlaceholder:{id:"dea_keyword_placeholder",defaultMessage:"Keyword"},keywordHint:{id:"dea_keyword_hint",defaultMessage:"Add Keyword to create unique disposable address"},emptyKeywordError:{id:"dea_empty_keyword_error",defaultMessage:"The keyword cannot be empty"},invalidKeywordError:{id:"dea_invalid_keyword_error",defaultMessage:"The keyword is invalid"},deaSendingName:{id:"dea_name_placeholder",defaultMessage:"Your Name"},deaDescription:{id:"dea_description_placeholder",defaultMessage:"Description"}}),Wi=c()(Vs.a);class Gi extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={error:""},this.handleSave=(()=>{const{account:{id:e},onSave:t,keyword:a}=this.props,{formatMessage:n}=this.context.intl;e||a?Object(S.p)(a)?this.setState({error:""},t):this.setState({error:n(ji.invalidKeywordError)}):this.setState({error:n(ji.emptyKeywordError)})}),t}render(){const{account:{id:e,sendingName:t,description:a},keyword:n,baseName:s,domain:i,onChange:l,onCancel:c,onDelete:d}=this.props,m=!!e,{error:_}=this.state,{formatMessage:u}=this.context.intl;return r.a.createElement("div",{className:Wi.container,"data-test-id":"dea-form"},m?null:r.a.createElement("div",{className:Wi.textInput},r.a.createElement("label",{className:Wi.label,htmlFor:"emailAddress"},r.a.createElement(o.c,{id:"disposable_email_text",defaultMessage:"Set address"})),r.a.createElement(wi,{domain:i,value:n,baseName:s,kind:Di.KEYWORD,error:_,hint:u(ji.keywordHint),placeholder:u(ji.keywordPlaceholder),onChange:e=>{l("keyword",e),this.setState({error:""})}})),r.a.createElement("label",{className:Wi.label,htmlFor:"sendingName"},r.a.createElement(o.c,{id:"disposable_email_sendingName_text",defaultMessage:"Sending Name"})),r.a.createElement("div",{className:Wi.textInput},r.a.createElement(Ue.a,{isClearable:!0,name:"sendingName",value:t,"aria-label":u(ji.deaSendingName),placeholder:u(ji.deaSendingName),onChange:e=>l("sendingName",e)})),r.a.createElement("label",{className:Wi.label,htmlFor:"description"},r.a.createElement(o.c,{id:"dea_description_text",defaultMessage:"Description"})),r.a.createElement("div",{className:Wi.textInput},r.a.createElement(Ue.a,{isClearable:!0,name:"description",value:a,"aria-label":u(ji.deaDescription),placeholder:u(ji.deaDescription),onChange:e=>l("description",e)})),m?r.a.createElement("div",{className:Wi.deleteBtn},r.a.createElement(ot.a,{"data-test-id":"delete-dea-account",kind:lt.a.DANGER,onClick:d},r.a.createElement(o.c,{id:"delete_dea_btn_text",defaultMessage:"Delete address"})),r.a.createElement("div",{className:Wi.hint},r.a.createElement(o.c,{id:"dea_delete_hint",defaultMessage:"Delete address won't delete emails sent to this address"}))):null,r.a.createElement(ct,{onSave:this.handleSave,onCancel:c}))}}Gi.contextTypes={intl:o.i.isRequired},Gi.defaultProps={account:{},onSave:Ui,onChange:Ui,onDelete:Ui,onCancel:Ui};var Zi=Gi;const Vi=Object(o.h)({cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"}}),qi=c()(Vs.a);class zi extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={keyword:"",sendingName:"",description:"",hasFocus:!1},this.handleChange=((e,t)=>{this.setState({[e]:t})}),this.handleSave=(()=>{const{keyword:e,sendingName:t,description:a}=this.state,{baseName:n,domain:s}=this.props;this.props.onSave({sendingName:t,description:a,type:f.g.DEA,email:`${n}-${e}@${s}`})}),t}render(){const{formatMessage:e}=this.context.intl,{sendingName:t,description:a,keyword:n}=this.state,{domain:s,baseName:i,onCancel:l,onCreateBaseName:c,baseNameSuggestions:d}=this.props;return r.a.createElement("div",{className:qi.filterWrapper,"data-test-id":"dea-creator"},r.a.createElement("div",{className:qi.filterPreviewSection},r.a.createElement("header",{className:qi.previewTitleWrapper},r.a.createElement("div",{className:qi.previewFilterTitleLeftAlign},r.a.createElement(o.c,{id:"add_dea_base_text",defaultMessage:"Create first disposable email address"})),r.a.createElement("div",{className:qi.rightAlign},r.a.createElement("button",{onClick:l,"data-test-id":"dea-cancel-btn",className:qi.btnLink},e(Vi.cancelBtn)))),r.a.createElement(Ni.a,{onCancel:l,showNavigation:!0},r.a.createElement(Hi,{domain:s,baseName:i,suggestions:d,onCreateBaseName:c}),r.a.createElement(Zi,{domain:s,keyword:n,account:{sendingName:t,description:a},baseName:i,onCancel:l,onSave:this.handleSave,onChange:this.handleChange}))))}}zi.contextTypes={intl:o.i.isRequired};var Yi=zi;const Ki=Object(o.h)({cancelBtn:{id:"cancel_btn_text",defaultMessage:"Cancel"},confirmBtn:{id:"confirm_btn_text",defaultMessage:"Confirm"},confirmDeleteTitle:{id:"confirm_delete_title_text",defaultMessage:"Confirm Delete"}}),Xi=c()(Vs.a);class Qi extends r.a.Component{constructor(...e){var t;return t=super(...e),this.getStateFromProps=(({account:e={}})=>{const{id:t,email:a,sendingName:n,description:s,keyword:i}=e;return{id:t,email:a,sendingName:n,description:s,keyword:i,showConfirm:!1}}),this.toggleConfirmDialog=(e=>{this.setState({showConfirm:e})}),this.handleChange=((e,t)=>{this.setState({[e]:t})}),this.handleDelete=(()=>{const{onDelete:e}=this.props;this.toggleConfirmDialog(!1),e(this.state.id)}),this.handleSave=(()=>{const{id:e,keyword:t,sendingName:a,description:n,email:s}=this.state,{baseName:i,domain:r}=this.props;this.props.onSave({id:e,sendingName:a,description:n,type:f.g.DEA,email:e?s:`${i}-${t}@${r}`})}),this.state=this.getStateFromProps(this.props),t}render(){const{id:e,email:t,sendingName:a,description:n,keyword:s,showConfirm:i}=this.state,l=!!e,{baseName:c,domain:d,onCancel:m}=this.props,{formatMessage:_}=this.context.intl;return r.a.createElement("div",{className:Xi.filterWrapper,"data-test-id":"dea-editor"},r.a.createElement("div",{className:Xi.filterPreviewSection},r.a.createElement("header",{className:Xi.previewTitleWrapper},r.a.createElement("div",{className:Xi.previewFilterTitle},r.a.createElement(o.c,l?{id:"edit_dea_account_text",defaultMessage:"Edit {email}",values:{email:r.a.createElement("span",{className:Xi.email,title:t},t)}}:{id:"add_dea_account_text",defaultMessage:"Create disposable email address"}))),r.a.createElement(Zi,{domain:d,keyword:s,account:{id:e,email:t,sendingName:a,description:n},baseName:c,onCancel:m,onDelete:this.toggleConfirmDialog.bind(this,!0),onSave:this.handleSave,onChange:this.handleChange}),i?r.a.createElement(At.a,{onConfirm:this.handleDelete,cancelLabel:Ki.cancelBtn,acceptLabel:Ki.confirmBtn,title:_(Ki.confirmDeleteTitle),onAbort:this.toggleConfirmDialog.bind(this,!1)},r.a.createElement(o.c,{id:"confirm.delete_account",defaultMessage:"Are you sure you want to remove {email}?",values:{email:r.a.createElement("strong",null,t)}})):null))}}Qi.contextTypes={intl:o.i.isRequired};var $i=Qi,Ji=a(1176),er=a.n(Ji);const tr=Object(o.h)({ok_button_title:{id:"other_provider_ok_button_title",defaultMessage:"OK"}}),ar=c()(er.a);class nr extends r.a.Component{render(){const{onNext:e}=this.props,{formatMessage:t}=this.context.intl;return r.a.createElement("div",null,r.a.createElement("h5",{className:ar.label},r.a.createElement(o.c,{id:"oAuth_other_provider_header",defaultMessage:"Additional providers coming soon"})),r.a.createElement("div",{className:ar.textBody},r.a.createElement(o.c,{id:"oAuth_other_provider_body",defaultMessage:"Your email provider is not supported yet. We will email you when it becomes available."})),r.a.createElement(ot.a,{"data-test-id":"other-provider-ok-button",className:ar.okButton,onClick:e,title:t(tr.ok_button_title)},r.a.createElement(o.c,{id:"other_provider_ok_button_label",defaultMessage:"OK"})))}}nr.contextTypes={intl:o.i.isRequired};var sr=nr,ir=a(1177),rr=a.n(ir);const or={cancel_button_title:{id:"supported_provider.cancel_button_title",description:"Tooltip for the cancel button.",defaultMessage:"Cancel"}},lr=c()(rr.a);class cr extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleItemClick=(e=>{if(this.props.addAccountSelectProvider({provider:e}),f.Wc.indexOf(e)>=0)return this.props.onChange("provider",e),void this.props.onNext();this.props.onPrevious()}),t}render(){const{formatMessage:e}=this.context.intl,{onCancel:t}=this.props,a=this.context.partner?ki:Oi;return r.a.createElement("div",{className:lr.container},r.a.createElement("h5",{className:lr.label},r.a.createElement(o.c,{id:"oAuth_select_provider_text",defaultMessage:"Select email provider"})),r.a.createElement("ol",{className:lr.accountList},a.map(e=>{const t=c()(rr.a,{provider:e});return r.a.createElement("li",{key:e,className:t.listItem,onClick:()=>this.handleItemClick(e)},r.a.createElement("div",{className:t.accountItem}))}),r.a.createElement("li",{className:lr.listItemOther,onClick:()=>this.handleItemClick("OTHER")},r.a.createElement(o.c,{id:"oAuth_other_provider",defaultMessage:"Other"}))),r.a.createElement(ot.a,{"data-test-id":"supported-provider-cancel-button",className:lr.cancelButton,onClick:t,title:e(or.cancel_button_title)},r.a.createElement(o.c,{id:"supported_provider.cancel_button_label",defaultMessage:"Cancel"})))}}cr.contextTypes={intl:o.i.isRequired,partner:s.a.string};var dr=Object(N.b)(void 0,e=>({addAccountSelectProvider:t=>e(Object(L.a)({i13nModel:{mKey:v.e[`SELECT_${t.provider.toUpperCase()}_ACCOUNT`],sec:v.g.SETTINGS_ACCOUNTS_TAB,interactionType:v.d.click}}))}))(cr),mr=a(462),_r=a(461),ur=a(463);const hr=c()(Vs.a);class pr extends r.a.Component{constructor(e,t){super(e,t),this.handleChange=((e,t)=>{this.state[e]!==t&&this.setState("provider"===e?{[e]:t,email:""}:{[e]:t})});const{partner:a}=t;this.state={email:"",provider:"ycorp"===a?f.fb.GOOGLE:""}}render(){const{partner:e}=this.context,{email:t,provider:a}=this.state,{onCancel:n,onAuthorize:s,accounts:i,handleAddSuccess:o,accountSyncFailed:l,appRootPath:c,onSubmit:d}=this.props,m="ycorp"===e?2:1,_=i.find(e=>e.email===t);return r.a.createElement("div",{className:hr.filterWrapper},r.a.createElement("div",{className:hr.filterPreviewSection},r.a.createElement(Ni.a,{onCancel:n,startStep:m},r.a.createElement(sr,null),r.a.createElement(dr,{provider:a,onChange:this.handleChange}),r.a.createElement(mr.a,{email:t,provider:a,onChange:this.handleChange,accounts:i}),r.a.createElement(_r.a,{email:t,provider:a,onAuthorize:s,handleAddSuccess:o,accountSyncFailed:l,appRootPath:c}),r.a.createElement(ur.a,{onCancel:n,onSubmit:d,account:_,isSyncing:!_,accountSyncFailed:l}))))}}pr.contextTypes={intl:o.i.isRequired,partner:s.a.string};var gr=pr,Er=a(1178),br=a.n(Er);const Cr=Object(o.h)({sendasHeader:{id:"add_sendas_header_label",defaultMessage:"Add send-only email address"},verifyAccountHeader:{id:"add_sendas_verify_header_label",defaultMessage:"Verify your account"},sendasEmailPlaceHolder:{id:"add_sendas_email_placeholder",defaultMessage:"name@example.com"},invalidEmail:{id:"add_sendas_invalid_email",defaultMessage:"Invalid email address"},next_button_text:{id:"add_sendas_next_button_text",defaultMessage:"Next"},cancel_button_text:{id:"add_sendas_cancel_button_text",defaultMessage:"Cancel"},finish_button_text:{id:"add_sendas_finish_button_text",defaultMessage:"Verify to setup"},resend_text:{id:"add_sendas_resend_text",defaultMessage:"resending it."},disabled_text:{id:"add_sendas_disabled_text",defaultMessage:"Please select at lease one mailbox to link to your send-only email address"}});class fr extends r.a.Component{constructor(e){super(e),vr.call(this);const{primaryAccountId:t}=e,a={};a[t]=!0,this.state={step:0,email:"",invalidEmail:!1,accountExist:!1,enableAccounts:a}}render(){const{invalidEmail:e,accountExist:t}=this.state,a=c()(br.a,{invalidEmail:e,accountExist:t});return r.a.createElement("div",{className:a.formWrapper},r.a.createElement("div",{className:a.formSection},this.renderForm(a)))}}fr.contextTypes={intl:o.i.isRequired};var vr=function(){this.handleInputChange=(e=>{this.setState({email:e,invalidEmail:!1,accountExist:!1})}),this.handleVerifyEmail=(()=>{const{accounts:e,enableLinkAccounts:t}=this.props,{email:a,step:n}=this.state;if(Object(S.m)(a)){if(!Object(qs.b)(e,a))return t?void this.setState({step:n+1}):(this.props.onCreateSendOnly(a,[this.props.primaryAccountId]),void this.setState({step:n+2}));this.setState({accountExist:!0})}else this.setState({invalidEmail:!0})}),this.handleResendEmail=(()=>{const{account:e,onResend:t}=this.props;e&&t(e)}),this.renderAccountAddressForm=(e=>{const{email:t,invalidEmail:a,accountExist:n}=this.state,{formatMessage:s}=this.context.intl,i=a?s(Cr.invalidEmail):"";return r.a.createElement("div",null,r.a.createElement("h5",{className:e.headerLabel},s(Cr.sendasHeader)),n?r.a.createElement("div",{className:e.errorWrapper},r.a.createElement("div",{className:e.errorIcon},r.a.createElement(A.b,{kind:M.b.EXCLAMATION_ALT,size:M.d.XS,colorState:M.a.WARNING_GRAD_RED})),r.a.createElement(o.c,{id:"sendas_account_exsit_error",defaultMessage:"Your email {email} already exists.",values:{email:t}})):null,r.a.createElement(Ue.a,{name:"sendas_email",value:t,placeholder:s(Cr.sendasEmailPlaceHolder),onChange:this.handleInputChange,error:i}),r.a.createElement(ot.a,{"data-test-id":"sendas-next-button",className:e.primaryButton,onClick:this.handleVerifyEmail,title:s(Cr.next_button_text)},s(Cr.next_button_text)))}),this.handleLinkedAccountToggle=(e=>{const{enableAccounts:t}=this.state;void 0===t[e]?t[e]=!0:delete t[e],this.setState({enableAccounts:t})}),this.handleCreateSendOnlyAccount=(()=>{const{step:e,enableAccounts:t,email:a}=this.state;this.props.onCreateSendOnly(a,Object.keys(t)),this.setState({step:e+1})}),this.renderLinkedAccountsForm=(e=>{const{formatMessage:t}=this.context.intl,{email:a,enableAccounts:n}=this.state,{accounts:s,onCancel:i}=this.props,l=r.a.createElement("strong",null,a),c=0===Object.keys(n).length,d=c?e.disabledPrimaryButton:e.primaryButton;return r.a.createElement("div",null,r.a.createElement("h5",{className:e.headerLabel},r.a.createElement(o.c,{id:"add_sendas_linked_accounts_title",defaultMessage:"Select the mailbox(es) that you would like to link to the send-only email address"}),r.a.createElement("div",null,"(",l,")")),r.a.createElement(Ks,{accounts:s.filter(e=>e.type===f.g.IMAPIN||e.isPrimary),enableAccounts:n,onToggle:this.handleLinkedAccountToggle}),r.a.createElement(ot.a,{"data-test-id":"sendas-next-button",className:d,onClick:this.handleCreateSendOnlyAccount,title:t(c?Cr.disabled_text:Cr.next_button_text),disabled:c},t(Cr.next_button_text)),r.a.createElement(ot.a,{"data-test-id":"sendas-cancel-button",className:e.cancelButton,onClick:i,title:t(Cr.cancel_button_text)},t(Cr.cancel_button_text)))}),this.renderConfirmPage=(e=>{const{formatMessage:t}=this.context.intl,{onCancel:a}=this.props,{email:n}=this.state;return r.a.createElement("div",null,r.a.createElement("h5",{className:e.headerLabel},t(Cr.verifyAccountHeader)),r.a.createElement("div",{className:e.textBody},r.a.createElement(o.c,{id:"add_sendas_verify_text",defaultMessage:"Check {email} for a confirmation email from Yahoo Member Services. Click the link in the message to enable sending email from this account. If you don't see a confirmation email, try {resend}",values:{email:r.a.createElement("b",null,n),resend:r.a.createElement("a",{className:e.link,onClick:this.handleResendEmail},t(Cr.resend_text))}})),r.a.createElement(ot.a,{"data-test-id":"sendas-finish-button",className:e.primaryButton,onClick:a,title:t(Cr.finish_button_text)},t(Cr.finish_button_text)))}),this.renderForm=(e=>{const{step:t}=this.state;switch(t){case 1:return this.renderLinkedAccountsForm(e);case 2:return this.renderConfirmPage(e)}return this.renderAccountAddressForm(e)})},Ir=fr,yr=a(1179),Sr=a.n(yr);const Nr=Object(o.h)({addAliasHeader:{id:"add_alias_header",defaultMessage:"Create an email alias"},accountEmail:{id:"alias_email_placeholder",defaultMessage:"Your Email"},aliasEmailUnavailable:{id:"alias_email_unavailable",defaultMessage:"Sorry, {email} is unavailable."},setupBtnTitle:{id:"alias_btn_setup_title",defaultMessage:"Setup"},cancelBtnTitle:{id:"account_cancel_btn_title",defaultMessage:"Cancel"}}),Tr=c()(Sr.a);class Ar extends r.a.Component{constructor(e){super(e),this.setupAlias=(()=>{this.props.onCreateAlias(this.state.email)}),this.handleInputChange=(e=>{this.state.email!==e&&(this.suggestions=[],this.setState({email:e}))}),this.handleSelect=(e=>{const{email:t}=this.state;t!==e&&this.setState({email:e})}),this.suggestions=[],this.state={email:""}}componentWillReceiveProps(e){const t=e.getAliasSuggestions(this.state.email);t&&(this.suggestions=t)}render(){const{formatMessage:e}=this.context.intl,{email:t}=this.state,{getAliasSuggestionStatus:a,onCancel:n}=this.props,{mailBrandNameString:s}=this.context;return r.a.createElement("div",{className:Tr.formWrapper,"data-test-id":"add-alias"},r.a.createElement("div",{className:Tr.formSection},r.a.createElement("header",{className:Tr.titleWrapper},e(Nr.addAliasHeader)),r.a.createElement("label",{className:Tr.label,htmlFor:"accountEmail"},r.a.createElement(o.c,{id:"add_alias_account_label",defaultMessage:"Create a new {mailBrandNameString} address",values:{mailBrandNameString:s}})),r.a.createElement("div",{className:Tr.textInput},r.a.createElement(Ue.a,{isClearable:!0,name:"accountEmail",value:t,"aria-label":e(Nr.accountEmail),placeholder:e(Nr.accountEmail),onChange:this.handleInputChange,error:a(t)===f.Mc.ERROR&&""!==t?e(Nr.aliasEmailUnavailable,{email:t}):null})),this.suggestions.length&&""!==t?r.a.createElement("div",{className:Tr.suggestionsContainer},r.a.createElement("p",null,r.a.createElement(o.c,{id:"add_alias_suggestion_help",defaultMessage:"Need help? Here are some available email aliases."})),r.a.createElement("ul",{className:Tr.suggestions},this.suggestions.map(e=>r.a.createElement("li",{key:e,className:Tr.suggestionsListItem},r.a.createElement("span",{"data-test-id":`alias-name-${e}`,className:Tr.suggestion,onClick:this.handleSelect.bind(this,e)},e))))):r.a.createElement("div",{className:Tr.textWrapperContainer},r.a.createElement("div",{className:Tr.textWrapper},r.a.createElement(o.c,{id:"add_alias_email_format",defaultMessage:"Your email alias may consist of letters, numbers, underscores and a period. Other special characters not allowed."})),r.a.createElement("div",{className:Tr.textWrapper},r.a.createElement(o.c,{id:"add_alias_condition",defaultMessage:"Alias email address can be edited only twice in the next 12 months."}))),r.a.createElement("div",{className:Tr.buttonWrapper},r.a.createElement(ot.a,{"data-test-id":"alias-setup-btn",className:Tr.saveButton,title:e(Nr.setupBtnTitle),onClick:this.setupAlias},r.a.createElement(o.c,{id:"alias_account_setup",defaultMessage:"Set up"})),r.a.createElement(ot.a,{"data-test-id":"alias-cancel-btn",className:Tr.cancelButton,title:e(Nr.cancelBtnTitle),onClick:n},r.a.createElement(o.c,{id:"cancel_btn_text",defaultMessage:"Cancel"})))))}}Ar.contextTypes={intl:o.i.isRequired,mailBrandNameString:s.a.string};var Mr=Ar;const Dr="yahoo.com",Or=Object(o.h)({addAccount:{id:"add_account_btn_text",defaultMessage:"Add another mailbox"},rightRailHeader:{id:"accounts_right_rail_header",defaultMessage:"Find help for accounts"}});class kr extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={action:null,newAccount:null,selectedAccountId:this.props.defaultSelectedAccount,openReauth:this.props.openReauth},this.setSelectedIndex=(e=>{this.setState({selectedAccountId:e,action:null,newAccount:null,openReauth:!1})}),this.getReplyToAddresses=(()=>this.props.getAccounts().filter(e=>e.accountVerified&&"ENABLED"===e.status)),this.getDisposableAddresses=(()=>this.props.getAccounts().filter(e=>e.type===f.g.DEA)),this.handleNewAccountCreated=(e=>{this.setState({selectedAccountId:e.id,newAccount:e})}),this.handleSave=((e,t,a)=>{const{updateAccountDetails:n}=this.props;n({accountId:e,updatedProperties:t,i13nModel:a})}),this.handleDeleteAccount=(e=>{const t={mKey:v.e.DELETE_ACCOUNT,sec:v.g.SETTINGS_ACCOUNTS_TAB,interactionType:v.d.click};this.resetState(),this.props.onDeleteAccount({accountId:e,i13nModel:t})}),this.resetState=(()=>{this.setState({selectedAccountId:"-1",action:null,newAccount:null})}),this.handleCancel=(e=>{this.props.cancelAccountSettings({mKey:e}),this.resetState()}),this.handleCreateBaseName=(()=>{const{deaBaseName:{deaPrefix:e}}=this.props;this.setState({selectedAccountId:"-1",action:e?"CREATE_DEA_ACCOUNT":"CREATE_BASE_NAME"})}),this.handleCreateDisposableAddress=(e=>{const{id:t}=e,a=babelHelpers.objectWithoutProperties(e,["id"]);t?this.handleSave(t,a):this.props.addAccount({newAccount:a}),this.resetState()}),this.handleSaveBaseName=(e=>{this.props.createBaseName({baseName:e})}),this.handleAddAccount=(()=>{this.setState({selectedAccountId:"-1",action:"CREATE_ROOT_ACCOUNT"})}),this.handleAddSendOnlyAccount=(()=>{this.setState({selectedAccountId:"-1",action:"CREATE_SENDAS_ACCOUNT"})}),this.handleAddAliasAccount=(()=>{this.setState({selectedAccountId:"-1",action:"CREATE_ALIAS_ACCOUNT"})}),this.handleCreateAccount=(e=>{const t=Object(qs.i)(e,this.props.allAccounts);this.props.addAccount(t)}),this.handleCreateSendAsAccount=((e,t)=>{const a=Object(qs.i)({email:e,linkedAccounts:t,type:f.g.SENDAS},this.props.allAccounts);this.props.addAccount(a)}),this.handleConfirmSubmit=((e,t)=>{this.setState({newAccount:null}),this.handleSave(e,t)}),this.handleResendConfirmEmail=(e=>{this.props.resendConfirmEmail({account:e})}),this.handleReauth=(({wssid:e,accountId:t,error:a,email:n,provider:s})=>{a?this.props.reauthAccountFailed({error:a.status,email:n,provider:s}):this.props.reauthAccount({wssid:e,accountId:t,email:n,provider:s})}),this.handleCreateAlias=(e=>{this.props.createAlias({email:e})}),this.getMailBoxList=(()=>this.props.getAccounts().filter(e=>e.type===f.g.IMAPIN||e.isPrimary)),this.getAliasAccounts=(()=>this.props.getAccounts().filter(e=>e.type===f.g.ALIAS&&e.status!==f.f.DELETE_IN_PROGRESS)),this.getSendAsAccounts=(()=>this.props.getAccounts().filter(e=>e.type===f.g.SENDAS&&e.status!==f.f.DELETE_IN_PROGRESS)),this.renderIMAPINSection=(()=>{const{selectedAccountId:e,action:t}=this.state,{canAddImapInAccount:a,expiredAccounts:n}=this.props;return r.a.createElement(Si,{key:f.e.IMAPIN,sectionType:f.e.IMAPIN,accounts:this.getMailBoxList(),selectedAccountId:e,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_ROOT_ACCOUNT"===t,expiredAccounts:n,handleButtonClick:this.handleAddAccount,canAddImapInAccount:a})}),this.renderAliasSection=(()=>{const{selectedAccountId:e,action:t}=this.state,{expiredAccounts:a,addAliasAccount:n}=this.props,s=this.getAliasAccounts();return 0!==s.length||n?r.a.createElement(Si,{key:f.e.ALIAS,sectionType:f.e.ALIAS,accounts:s,selectedAccountId:e,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_ALIAS_ACCOUNT"===t,expiredAccounts:a,addAliasAccount:n,handleButtonClick:this.handleAddAliasAccount,handleNewAccountCreated:this.handleNewAccountCreated}):null}),this.renderSendAsSection=(()=>{const{selectedAccountId:e,action:t}=this.state,{expiredAccounts:a,addSendOnlyAccounts:n}=this.props;return n?r.a.createElement(Si,{key:f.e.SENDAS,sectionType:f.e.SENDAS,accounts:this.getSendAsAccounts(),selectedAccountId:e,handleAccountSelected:this.setSelectedIndex,buttonDisabled:"CREATE_SENDAS_ACCOUNT"===t,handleButtonClick:this.handleAddSendOnlyAccount,expiredAccounts:a}):null}),this.renderDisposableEmailSection=(()=>{const{selectedAccountId:e}=this.state,t=this.getDisposableAddresses(),{deaBaseName:{deaPrefix:a},disposableAddress:n,disposableAddressDeleteOnly:s}=this.props;return!n||s&&!t.length?null:r.a.createElement(Si,{key:f.e.DEA,sectionType:f.e.DEA,accounts:t,selectedAccountId:e,handleAccountSelected:this.setSelectedIndex,handleButtonClick:this.handleCreateBaseName,buttonDisabled:s,baseName:a,domain:Dr})}),this.renderRightPane=(()=>{const{selectedAccountId:e,newAccount:t,openReauth:a}=this.state,{getAccounts:n,deaBaseName:{deaPrefix:s},composeFontFamily:i,composeFontSize:o,sendingEmailConfirmStatus:l,expiredAccounts:c,appRootPath:d,canRemoveImapInAccount:m,stationeryRestrictedThemes:_,rtl:u,enableLinkAccounts:h,forwardEmail:p}=this.props,g=n(),E=g.find(({id:t})=>t===e);return E.type===f.g.DEA?r.a.createElement($i,{domain:Dr,baseName:s,key:E.id,account:E,onCancel:this.handleCancel.bind(this,v.e.CANCEL_EDIT_DEA),onDelete:this.handleDeleteAccount,onSave:this.handleCreateDisposableAddress}):r.a.createElement(ri,{onSave:this.handleSave,key:E.id,account:E,accounts:g,onCancel:this.handleCancel.bind(this,v.e.SETTINGS_CANCEL_EDIT_ACCOUNT),onDelete:this.handleDeleteAccount,replyToAddresses:this.getReplyToAddresses(),composeFontFamily:i,composeFontSize:o,onResend:this.handleResendConfirmEmail,sendingEmailConfirmStatus:l,handleReauth:this.handleReauth,expiredAccounts:c,newAccount:t,openReauth:a,canRemoveImapInAccount:m,appRootPath:d,stationeryRestrictedThemes:_,rtl:u,enableLinkAccounts:h,forwardEmail:p})}),this.renderAddForm=(()=>{const{action:e,prefix:t,newAccount:a}=this.state,{formatMessage:n,locale:s}=this.context.intl,{deaBaseName:{deaPrefix:i},baseNameSuggestions:o,getAliasSuggestions:l,getAliasSuggestionStatus:c,getAccounts:d,accountSyncFailed:m,appRootPath:_,enableLinkAccounts:u}=this.props,h=d(),p=h.find(e=>e.isPrimary),{mailBrandNameString:g,partner:E}=this.context;switch(e){case"CREATE_ROOT_ACCOUNT":return r.a.createElement(gr,{appRootPath:_,onCancel:this.handleCancel.bind(this,v.e.CANCEL_ADD_ACCOUNT),onAuthorize:this.handleCreateAccount,accounts:h,onSubmit:this.handleConfirmSubmit,handleAddSuccess:this.props.handleAddSuccess,accountSyncFailed:m});case"CREATE_BASE_NAME":return r.a.createElement(Yi,{domain:Dr,baseName:i||t,onCancel:this.handleCancel.bind(this,v.e.CANCEL_ADD_BASE),onSave:this.handleCreateDisposableAddress,onCreateBaseName:this.handleSaveBaseName,baseNameSuggestions:o});case"CREATE_DEA_ACCOUNT":return r.a.createElement($i,{domain:Dr,baseName:i,onCancel:this.handleCancel.bind(this,v.e.CANCEL_ADD_DEA),onSave:this.handleCreateDisposableAddress});case"CREATE_SENDAS_ACCOUNT":return r.a.createElement(Ir,{onCancel:this.handleCancel,onCreateSendOnly:this.handleCreateSendAsAccount,onResend:this.handleResendConfirmEmail,accounts:h,account:a,primaryAccountId:p.id,enableLinkAccounts:u});case"CREATE_ALIAS_ACCOUNT":return r.a.createElement(Mr,{onCancel:this.handleCancel,onCreateAlias:this.handleCreateAlias,getAliasSuggestions:l,getAliasSuggestionStatus:c});default:return r.a.createElement(ht,{demoImg:he.c.ACCOUNTS,header:n(Or.rightRailHeader),helpLinks:gt.a.map(({text:e,link:t})=>({text:n(e,{mailBrandNameString:g}),link:t(s,E)}))})}}),this.isValidAccount=(()=>{const e=this.props.getAccounts(),{selectedAccountId:t}=this.state;return e.find(({id:e})=>e===t)}),t}componentWillReceiveProps(e){null!==e.newAccount&&this.setState({newAccount:e.newAccount})}render(){const e=c()(Gs.a),t=[this.renderAliasSection(),this.renderSendAsSection(),this.renderDisposableEmailSection()];return r.a.createElement("div",{className:e.container,"data-test-id":"accounts-settings"},r.a.createElement("div",{className:e.left},r.a.createElement("div",{className:e.headerWrapper},r.a.createElement("header",{className:e.titleWrapper},r.a.createElement("h4",{className:e.title},r.a.createElement(o.c,{id:"accounts_header",defaultMessage:"Mailbox management"})),r.a.createElement("span",{className:e.hint},r.a.createElement(o.c,{id:"accounts_list_header_hint",defaultMessage:"Connect your Google, Outlook (Hotmail) or AOL address to manage your email all together."}))),this.renderIMAPINSection(),this.props.isPrimaryAccountDisabled?null:t)),r.a.createElement("div",{className:e.right},this.isValidAccount()?this.renderRightPane():this.renderAddForm()))}}kr.contextTypes={intl:o.i.isRequired,config:s.a.object,executeAction:s.a.func,mailBrandNameString:s.a.string,partner:s.a.string},kr.defaultProps={defaultSelectedAccount:"-1",aliasSuggestions:[]};var Rr=Object(N.b)(e=>{const{getFeaturesSelectors:t,getAllAccounts:a,getSelectedAccountId:n,getAccountById:s,getAccountSelectors:i}=Object(F.b)(e),r=t(),o=r.isEnabled(f.kb.ADD_SEND_ONLY_ACCOUNTS),l=r.isEnabled(f.kb.DISPOSABLE_ADDRESS_DELETE_ONLY),c=i().isPrimaryAccountDisabled(),d=a(),{forwardEmail:m}=s(n());return{allAccounts:d,addSendOnlyAccounts:o,disposableAddressDeleteOnly:l,forwardEmail:m,isPrimaryAccountDisabled:c}},e=>({updateAccountDetails:t=>e(Object(_.i)(t)),createBaseName:t=>e(Object(L.g)(babelHelpers.extends({},t,{domain:Dr}))),reauthAccount:t=>e(Object(h.j)(t)),reauthAccountFailed:t=>e(Object(h.k)(t)),createAlias:t=>e(Object(L.d)(t)),resendConfirmEmail:t=>e(Object(L.u)(t)),handleAddSuccess(){e(Object(L.q)({i13nModel:{mKey:v.e.CONNECT_ACCOUNT_SUCCESS,sec:v.g.SETTINGS_ACCOUNTS_TAB,interactionType:v.d.click}}))},cancelAccountSettings(t){e(Object(L.c)({i13nModel:{mKey:t.mKey,sec:v.g.SETTINGS_ACCOUNTS_TAB,interactionType:v.d.click}}))},addAccount:t=>e(Object(h.a)(t))}))(kr);a.d(t,"SettingsView",function(){return wr}),a.d(t,"mapStateToProps",function(){return Fr}),a.d(t,"mapDispatchToProps",function(){return Lr});const xr=Object(o.h)({gotoInboxLabel:{id:"button.gotoInbox",defaultMessage:"Back to Inbox"},personalize_inbox:{id:"settings.personalize_inbox",defaultMessage:"Personalize inbox"},mailboxes:{id:"settings.mailboxes",defaultMessage:"Mailboxes"},notifications:{id:"settings.notifications",defaultMessage:"Notifications"},writingEmail:{id:"settings.writingEmail",defaultMessage:"Writing email"},viewingEmail:{id:"settings.viewingEmail",defaultMessage:"Viewing email"},categorization:{id:"settings.categorization",defaultMessage:"Inbox views"},security:{id:"settings.security",defaultMessage:"Security and privacy"},encryption:{id:"settings.encryption",defaultMessage:"Encryption"},filters:{id:"settings.filters",defaultMessage:"Filters"},socialAccounts:{id:"settings.social_accounts",defaultMessage:"Social accounts"},automaticReply:{id:"settings.automaticReply",defaultMessage:"Vacation response"},aboutYMail:{id:"settings.aboutYMail",defaultMessage:"About {mailBrandNameString}"},adFreeMail:{id:"settings.adFreeMail",defaultMessage:"Ad free mail"},yahooMailProBrandName:{id:"mail.yahoo_mail_pro_branding",defaultMessage:"Yahoo Mail Pro"},mailHelpCommunity:{id:"mail.mail_helper_community",defaultMessage:"Mail Help Community"},privacy:{id:"settings.privacy",defaultMessage:"Privacy"},terms:{id:"settings.terms",defaultMessage:"Terms"},aboutAds:{id:"settings.aboutAds",defaultMessage:"About our Ads"},help:{id:"settings.help",defaultMessage:"Help"},giveFeedback:{id:"settings.giveFeedback",defaultMessage:"Give feedback"},optOutLinkText:{id:"option_to_classic_mail_item",defaultMessage:"Switch to classic Mail"}}),Pr=c()(m.a);class wr extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleCreateNewFolder=(e=>{const{activeAccount:t}=this.props;this.context.executeAction(u.b,{folderName:Object(g.h)(e,t),accountId:t.id})}),this.handleDeleteAccount=(({accountId:e,i13nModel:t})=>{this.props.deleteAccount({accountId:e,i13nModel:t})}),this.handleUnsubscribe=((e,t)=>{this.props.handleUnsubscribe({value:e,interactionType:Object(S.i)(t)})}),t}render(){const{intl:{formatMessage:e}}=this.context,{aboutYmailUrl:t}=this.context.config,{getFeaturesSelectors:a}=Object(F.b)(this.context.store.getState()),n=a(),s=n.getSetting(f.id.ABOUT_AD_URL),i=n.getSetting(f.id.PRIVACY_URL),o=n.getSetting(f.id.TERMS_URL),l=n.getSetting(f.id.HELP_URL),c=n.getSetting(f.id.HELPER_COMMUNITY_URL),d=n.getSetting(f.id.FEEDBACK_URL),m=n.isEnabled(f.kb.SHOW_ABOUT_OUR_ADS_LINK),_=n.isEnabled(f.kb.SHOW_ABOUT_YAHOO_MAIL_LINK),u=n.isEnabled(f.kb.SHOW_GIVE_FEEDBACK_LINK),h=n.isEnabled(f.kb.SHOW_OPT_OUT_LINK_MORE_SETTINGS),{getAccounts:p,blockedSenders:g,selectedGroup:E,browserNotifications:b,connectedAccounts:C,deaBaseName:v,deaBaseNameSuggestions:I,getAliasSuggestions:y,getAliasSuggestionStatus:S,unsubscribeEnabled:N,newAccount:T,composeFontSize:A,composeFontFamily:M,defaultSelectedAccount:D,openReauth:k,accountSyncFailed:R,sendingEmailConfirmStatus:x,canAddImapInAccount:P,canRemoveImapInAccount:w,addAliasAccount:L,expiredAccounts:B,mailProSubscription:H,mailProEligible:U,mailProEnabled:j,unsubscribe:W,appRootPath:G,smartViewCategoriesEnabled:Z,disposableAddress:V,showTweet:q,stationeryRestrictedThemes:z,rtl:K,linkAccountList:X,mailProError:Q,blockSenders:J,isPrimaryAccountDisabled:ee,showSocialAccountsTabIfNoneConnected:te,mailProLinkInSettingsMenu:ae}=this.props,{mailBrandNameString:ne}=this.context,se=f.gc+"?crumb="+window.AppBootstrapData.crumb,ie=[r.a.createElement($,{key:f.ld.AUTOMATIC_REPLY,title:e(xr.automaticReply),groupId:f.ld.AUTOMATIC_REPLY},r.a.createElement(wt,babelHelpers.extends({},this.props,{stationery:this.props.vacationResponseStationery,v2:this.props.vacationResponseV2}))),r.a.createElement($,{key:f.ld.FILTERS,title:e(xr.filters),groupId:f.ld.FILTERS},r.a.createElement(fn,{onSave:this.props.handleSaveFilter,filters:this.props.messageFilters,onCreateNewFolder:this.handleCreateNewFolder})),r.a.createElement($,{key:f.ld.SECURITY_AND_PRIVACY,title:e(xr.security),groupId:f.ld.SECURITY_AND_PRIVACY},r.a.createElement(qn,{getAccounts:p,blockedSenders:g,blockSenders:J,changeSettings:this.props.changeSettings}))];return r.a.createElement("section",{className:Pr.container,"data-test-id":"settings-navigation"},r.a.createElement(Y,{key:E},r.a.createElement($,{title:e(xr.personalize_inbox),groupId:f.ld.PERSONALIZE_INBOX},r.a.createElement(de,this.props)),r.a.createElement($,{title:e(xr.mailboxes),groupId:f.ld.ACCOUNTS},r.a.createElement(Rr,{stationeryRestrictedThemes:z,disposableAddress:V,appRootPath:G,getAccounts:p,deaBaseName:v,baseNameSuggestions:I,getAliasSuggestions:y,getAliasSuggestionStatus:S,newAccount:T,composeFontFamily:M,composeFontSize:A,defaultSelectedAccount:D,openReauth:k,accountSyncFailed:R,sendingEmailConfirmStatus:x,canAddImapInAccount:P,canRemoveImapInAccount:w,addAliasAccount:L,expiredAccounts:B,showTweet:q,rtl:K,enableLinkAccounts:X,onDeleteAccount:this.handleDeleteAccount})),r.a.createElement($,{title:e(xr.notifications),groupId:f.ld.NOTIFICATIONS},r.a.createElement(Vt,{browserNotifications:!!b,onUnsubToggle:this.handleUnsubscribe,unsubscribeEnabled:N,unsubscribe:W})),r.a.createElement($,{title:e(xr.writingEmail),groupId:f.ld.WRITING_EMAIL},r.a.createElement(js,null)),r.a.createElement($,{title:e(xr.viewingEmail),groupId:f.ld.VIEWING_EMAIL},r.a.createElement(Ta,null)),Z?r.a.createElement($,{title:e(xr.categorization),groupId:f.ld.CATEGORIZATION},r.a.createElement(be,null)):null,ee?null:ie,te||!Object(O.b)(C)?r.a.createElement($,{title:e(xr.socialAccounts),groupId:f.ld.SOCIAL_ACCOUNTS},r.a.createElement(cs,{connectedAccounts:C,unlinkSocialAccount:this.props.unlinkSocialAccount})):null,U?r.a.createElement($,{title:e(xr.yahooMailProBrandName),groupId:f.ld.MAIL_PRO},r.a.createElement(Ts,{mailProEnabled:j,subscription:H,error:Q})):null,r.a.createElement($,{style:{marginTop:"auto",paddingTop:"20px"},linkTo:se,hideLink:!h&&!ae,title:e(xr.optOutLinkText)}),r.a.createElement($,{linkTo:t,hideLink:!_,title:e(xr.aboutYMail,{mailBrandNameString:ne})}),r.a.createElement($,{linkTo:s,title:e(xr.aboutAds),hideLink:!m}),r.a.createElement($,{linkTo:d,title:e(xr.giveFeedback),hideLink:!u}),c&&r.a.createElement($,{linkTo:c,title:e(xr.mailHelpCommunity)}),r.a.createElement($,{linkTo:l,title:e(xr.help)}),r.a.createElement($,{linkTo:i,title:e(xr.privacy)}),r.a.createElement($,{linkTo:o,title:e(xr.terms)})))}}wr.contextTypes={config:s.a.object,intl:o.i.isRequired,executeAction:s.a.func,navigateTo:s.a.func,store:s.a.object,mailBrandNameString:s.a.string};const Fr=e=>{const{getAllAccounts:t,getAliasAccounts:a,getFeaturesSelectors:n,getRoute:s,getSelectedAccountIdByRoute:i,getAccountById:r,getPaymentSelectors:o,getAliasSuggestions:l,getAliasSuggestionStatus:c,getMailboxesSelectors:d,getSendingAccountId:m,getExpiredAccounts:_,getAccountSelectors:u}=Object(F.b)(e),h=n(),p=h.getSetting("logoUrl"),g=h.getSetting("secureCryptoMode"),E=h.isEnabled("unsubscribe"),b=h.isEnabled("theming"),C=h.getSetting("appRootPath"),v=h.getSetting("linkAccountList"),I=h.isEnabled(f.kb.DISPOSABLE_ADDRESS),y=h.isEnabled(f.kb.INLINE_ATTACHMENT),S=h.isEnabled(f.kb.SHOW_TWEET),N=h.isEnabled(f.id.STATIONERY_RESTRICTED_THEMES),T=h.getSetting(f.id.LINK_ENHANCER_URL_BLACK_LIST),A=h.isEnabled(f.kb.RTL),M=h.isEnabled(f.kb.STATIONERY),D=h.isEnabled(f.kb.VACATION_RESPONSE_STATIONERY),O=h.isEnabled(f.kb.VACATION_RESPONSE_V2),k=s(),R=r(i(k)),x=o(),P=d(),w=P.getRecentlyAddedAccount(),L=h.isEnabled(f.kb.SMARTVIEW_CATEGORIES_ENABLED);return{getAccounts:()=>[].concat(t().filter(e=>e.type!==f.g.ALIAS),a()),isPrimaryAccountDisabled:u().isPrimaryAccountDisabled(),defaultSendingAccount:r(m()),expiredAccounts:_(),logoUrl:p,secureCryptoMode:g,unsubscribe:E,theming:b,appRootPath:C,disposableAddress:I,inlineAttachment:y,showTweet:S,stationeryRestrictedThemes:N,linkEnhancerUrlBlacklist:T,rtl:A,stationery:M,vacationResponseStationery:D,vacationResponseV2:O,linkAccountList:v,messageFilters:h.getSetting(f.id.MESSAGE_FILTERS),vacationPreferences:h.getSetting(f.id.VACATION_PREFERENCES),activeAccount:R,selectedGroup:k.params.settingsGroupId,defaultSelectedAccount:k.params.accountId,openReauth:!0===k.params.openReauth,snippets:h.isEnabled(f.id.SNIPPETS),photoThemes:h.isEnabled(f.kb.PHOTO_THEMES),themeSetting:h.getSetting(f.id.THEME),partnerBrand:h.getSetting(f.id.PARTNER_BRAND),themeModeSetting:h.getSetting(f.id.THEME_MODE),previewPaneSetting:h.getSetting(f.id.PREVIEW_PANE),msgListDensity:h.getSetting(f.id.MSG_LIST_DENSITY),canAddImapInAccount:h.isEnabled("canAddImapInAccount"),canRemoveImapInAccount:h.isEnabled("canRemoveImapInAccount"),multiTaskModeSetting:h.isEnabled(f.id.MAIL_TABS),mailProSubscription:x.getPaymentDetails(),mailProError:x.getPaymentError(),mailProEligible:h.isEnabled(f.kb.MAIL_PRO_ELIGIBLE),mailProEnabled:h.isEnabled(f.kb.MAIL_PRO),addAliasAccount:h.isEnabled("addAliasAccount"),browserNotifications:h.isEnabled(f.id.DESKTOP_NOTIFICATION),linkEnhancer:h.isEnabled(f.id.LINK_ENHANCR),composeFontSize:h.getSetting(f.id.COMPOSE_FONT_SIZE),composeFontFamily:h.getSetting(f.id.COMPOSE_FONT_FAMILY),connectedAccounts:P.getSocialAccountsStatus(),blockedSenders:h.getSetting(f.id.DELIVERY_BLOCKED_SENDERS),deaBaseName:P.getDeaBaseName(),deaBaseNameSuggestions:P.getBaseNameSuggestions(),getAliasSuggestions:l,getAliasSuggestionStatus:c,newAccount:w,accountSyncFailed:!!w&&!w.isSynced,sendingEmailConfirmStatus:h.isEnabled(f.id.SENDING_EMAIL_CONFIRM_STATUS),unsubscribeEnabled:h.isEnabled(f.id.UNSUBSCRIBE_NOTIFICATION),smartViewCategoriesEnabled:L,hasWideLogo:h.getSetting(f.id.HAS_WIDE_LOGO),showSocialAccountsTabIfNoneConnected:h.isEnabled(f.kb.SHOW_SOCIAL_ACCOUNTS_TAB_IF_NONE_CONNECTED),mailProLinkInSettingsMenu:h.isEnabled(f.kb.MAIL_PRO_LINK_IN_SETTINGS_MENU)}},Lr=e=>({deleteAccount:t=>e(Object(h.f)(t)),unlinkSocialAccount:t=>e(Object(h.o)(t)),blockSenders:t=>e(Object(p.b)(t)),handleSaveFilter:t=>e(Object(_.d)(t)),handleUnsubscribe:({value:t,interactionType:a})=>e(Object(_.a)({name:f.id.UNSUBSCRIBE_NOTIFICATION,value:t,i13nModel:{mKey:t?v.e.SETTINGS_UNSUBSCRIBE_ENABLE:v.e.SETTINGS_UNSUBSCRIBE_DISABLE,sec:v.g.SETTINGS_NOTIFICATIONS_TAB,interactionType:a}})),changeSettings:t=>e(Object(_.a)(t))});t.default=Object(N.b)(Fr,Lr)(wr)},,function(e,t,a){"use strict";a.r(t);var n=a(25),s=a(13),i=a(7),r=a(0),o=a(48),l=a(6),c=a.n(l),d=a(2),m=a.n(d),_=a(1190),u=a.n(_),h=a(230);a(38);const p=2*r.s.Paddings.AROUND_PAGE_WIDTH,g=2*r.s.Paddings.AROUND_PAGE_HEIGHT,E=600,b=450,C=52;function f({containerWidth:e,contentWidth:t}){return Math.max(Math.round((t+p-e)/2),0)}function v(e,t){const{innerWidth:a,contentAndRightRailWidth:n,contentAndRightRailHeight:s}=e;return{containerWidth:t?a:function({contentAndRightRailWidth:e}){return e>=2*E+C?Math.floor((e-p-C)/2):Math.max(e-p-E-C,b)}({contentAndRightRailWidth:n}),containerHeight:s}}var I=a(26),y=a.n(I),S=a(11),N=a.n(S),T=a(1191),A=a.n(T);const M=N()(A.a);var D=class extends m.a.Component{constructor(...e){var t;return t=super(...e),this._setupIframe=(()=>{const e=this._iframeNode,t=e.contentDocument;if(t&&"complete"===t.readyState){const a=e.contentDocument.createElement("div");t.body.appendChild(a),this._iframeContentNode=a,this._renderChildrenIntoContentNode(this.props)}else setTimeout(this._setupIframe,0)}),this._renderChildrenIntoContentNode=(e=>{y.a.unstable_renderSubtreeIntoContainer(this,m.a.createElement("div",null,e.children),this._iframeContentNode)}),t}componentDidMount(){this._setupIframe()}componentWillUpdate(e){this._iframeContentNode&&this._renderChildrenIntoContentNode(e)}componentWillUnmount(){y.a.unmountComponentAtNode(this._iframeContentNode)}render(){const{width:e,height:t}=this.props;return m.a.createElement("iframe",{className:M.iframe,ref:e=>{this._iframeNode=e},width:`${e}`,height:`${t}`})}},O=a(10),k=a(993),R=a(18);const x=Object(k.a)(babelHelpers.extends({},O.defaultFujiIcon,{backgroundColor:"transparent",border:0,fill:O.IconColors.INVERTED,"pointer-events":"auto",outline:"none",cursor:"pointer"})),P=`\n    html, body {\n        margin: 0;\n        padding: 0;\n    }\n    .lightbox.dp-doc-pages [data-name=scroll-area] [data-name=infinite-scroll-content] {\n        display: flex;\n        justify-content: center;\n    }\n    .lightbox .dp-page-outer {\n        transform: translate(-50%, 0);\n    }\n    .dp-doc-pages>div {\n        height: 100%;\n    }\n    .dp-doc-pages [data-name=scroll-area] {\n        height: 100%;\n        overflow-y: scroll;\n        position: relative;\n    }\n    .dp-doc-pages ul {\n        list-style: none;\n        margin: 0px;\n        padding: ${r.s.Paddings.AROUND_PAGE_WIDTH}px;\n    }\n    .dp-doc-pages ul > li:focus {\n        outline: none;\n    }\n    .f-left {\n        float: left;\n    }\n    .f-left {\n        float: right;\n    }\n    .f-clear {\n        clear: both;\n    }\n    .v-top {\n        vertical-align: top;\n    }\n    .bi {\n        position: absolute;\n        border: 0;\n        margin: 0;\n        user-select: none;\n    }\n    .c {\n        position: absolute;\n        border: 0;\n        padding: 0;\n        margin: 0;\n        overflow: hidden;\n        display: block;\n    }\n    .t {\n        position: absolute;\n        white-space: pre;\n        -webkit-transform-origin: 0 100%;\n        -moz-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n        unicode-bidi: bidi-override;\n        -moz-font-feature-settings: "liga" 0;\n    }\n    .t:after {\n        content: "";\n    }\n    .t:before {\n        content: "";\n        display: inline-block;\n    }\n    .t span {\n        position: relative;\n        unicode-bidi: bidi-override;\n    }\n    ._ {\n        display: inline-block;\n        color: transparent;\n        z-index: -1;\n    }\n    .pi {\n        display: none;\n    }\n    .d {\n        position: absolute;\n        -webkit-transform-origin: 0 100%;\n        -moz-transform-origin: 0 100%;\n        transform-origin: 0 100%;\n    }\n    .it {\n        border: none;\n        background-color: rgba(255, 255, 255, 0);\n    }\n    .ir:hover {\n        cursor: pointer;\n    }\n    a.l:hover {\n        cursor: pointer;\n    }\n    .dp-page-inner {\n        position: absolute;\n        padding: 0;\n        margin: 0;\n        top: 0;\n        left: 0;\n        transform-origin: 0 0;\n        padding-right: 16px;\n    }\n    .dp-page-outer {\n        position: absolute;\n        background-color: #fff;\n        margin: 0 auto 12px auto;\n        box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);\n    }\n    .pf {\n        position: relative;\n        background-color: #fff;\n        overflow: hidden;\n        border: 0;\n        margin: 0 auto;\n        border-collapse: separate\n    }\n    .dp-styles {\n        display: none;\n    }\n    .list-styles {\n        list-style: none\n    }\n    .btn-top {${Object(k.a)(babelHelpers.extends({},O.scrollToTopButtonContainer,{bottom:`${7*O.GRID_UNIT}px`,backgroundColor:Object(R.rgba)(O.IMPROVED_GRAY_DARK,.7)}))}}\n    .btn-top:hover {background-color: ${O.IMPROVED_GRAY_DARK};}\n    .btn-top > button {${x}}\n    .btn-top > button > span {${Object(k.a)(O.fujiIconButtonContent)}}\n    .btn-top > button > span > svg {${x}}\n`;var w=class extends m.a.Component{render(){const e=Object.keys(this.props.pages).reduce((e,t)=>this.props.pages[t].status!==r.Mc.ERROR&&this.props.pages[t].status!==r.Mc.LOADING&&this.props.pages[t].content.css?[...e,m.a.createElement("style",{key:t,type:"text/css",dangerouslySetInnerHTML:{__html:this.props.pages[t].content.css}})]:e,[]);return m.a.createElement("div",{className:"dp-styles"},m.a.createElement("style",{key:"default",type:"text/css",dangerouslySetInnerHTML:{__html:P}}),e)}};var F=class extends m.a.Component{render(){return m.a.createElement("div",{className:"dp-page-outer",style:{backgroundColor:"#fff",height:this.props.height,width:this.props.width}},m.a.createElement("div",{className:"dp-page-inner dp-page-loading"}))}},L=a(4),B=Object(L.h)({back:{id:"preview.back",defaultMessage:"Back"},close:{id:"preview.close",defaultMessage:"Close"},openMessage:{id:"openMessage",defaultMessage:"Open Message"},retryAttachmentFetch:{id:"retryDocumentFetch",defaultMessage:"Retry"},printAttachment:{id:"printAttachment",defaultMessage:"Print"},downloadAttachment:{id:"downloadAttachment",defaultMessage:"Download"},forwardAttachment:{id:"forwardAttachment",defaultMessage:"Forward"},openAttachmentInNewTab:{id:"openAttachmentInNewTab",defaultMessage:"Open in New Window"},collapse:{id:"preview.collapse",defaultMessage:"Collapse"},expand:{id:"preview.expand",defaultMessage:"Expand"},refreshDocumentPage:{id:"refreshDocumentPage",defaultMessage:"Refresh"},attachmentPreviewDefaultErrorMessage:{id:"attachmentPreviewDefaultErrorMessage",defaultMessage:"We are having trouble previewing this file."},passwordProtectedPDFPreviewErrorMessage:{id:"passwordProtectedPDFPreviewErrorMessage",defaultMessage:"Previews for password-protected PDF files are not supported."},increaseZoom:{id:"increaseZoom",defaultMessage:"Increase zoom"},decreaseZoom:{id:"decreaseZoom",defaultMessage:"Decrease zoom"},nextAttachment:{id:"nextAttachment",defaultMessage:"Next attachment"},previousAttachment:{id:"previousAttachment",defaultMessage:"Previous attachment"}}),H=a(128),U=a(231);class j extends m.a.Component{render(){const{refreshPage:e,pageNumber:t}=this.props,{formatMessage:a}=this.context.intl;return m.a.createElement("div",{className:"dp-page-outer",style:{height:this.props.height,width:this.props.width,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",backgroundColor:O.TRANSPARENT,textAlign:"center",fontSize:O.BASE_FONT_SIZE,fontFamily:O.BASE_FONT_STACK}},m.a.createElement("div",{"data-test-id":"page-error"},m.a.createElement(U.a,{kind:H.a.ATTACHMENT_PREVIEW_ERROR,width:88,height:88}),m.a.createElement("p",null,m.a.createElement(L.c,{id:"attachmentPreviewPageDefaultErrorMessage",defaultMessage:"Trouble previewing page {page_number}. {refresh}",values:{refresh:m.a.createElement("button",{style:{backgroundColor:O.TRANSPARENT,outline:0,border:0,padding:0,cursor:"pointer",fontSize:O.BASE_FONT_SIZE,fontFamily:O.BASE_FONT_STACK},"data-test-id":"page-refresh-link",onClick:t=>{t.preventDefault(),e()}},m.a.createElement("span",{style:{color:O.BASE_LINK_COLOR}},a(B.refreshDocumentPage))),page_number:t}}))))}}j.contextTypes={intl:L.i};var W=j;function G(e){return e?e.replace(/&(#?[\w\d]+);?/g,(e,t)=>{var a,n;return"#"===t.charAt(0)&&(n="x"===t.charAt(1)?parseInt(t.substr(2).toLowerCase(),16):parseInt(t.substr(1),10),isNaN(n)||n<-32768||n>65535||(a=String.fromCharCode(n))),a||e}):""}const Z="pf";class V extends m.a.Component{constructor(...e){var t;return t=super(...e),this._getTransformStyle=(()=>{const e=`scale(${this.props.scale})`;return{transform:e,WebkitTransform:e}}),t}componentWillMount(){this.props.page.status&&this.props.page.status!==r.Mc.DOES_NOT_EXIST||this.props.onPageNotFound(this.props.id)}render(){const{refreshPage:e,page:t,id:a,height:n,width:s}=this.props,i=t.status;if(!i||i===r.Mc.DOES_NOT_EXIST||i===r.Mc.LOADING)return m.a.createElement(F,{height:n,width:s});if(i===r.Mc.ERROR)return m.a.createElement(W,{height:n,width:s,refreshPage:e,pageNumber:a});const{content:o}=this.props.page;return m.a.createElement("div",{id:Z+a,className:"dp-page-outer",style:{height:this.props.height,width:this.props.width}},m.a.createElement("div",{className:"dp-page-inner",style:this._getTransformStyle(),dangerouslySetInnerHTML:{__html:G(o.html)}}))}}V.defaultProps={scale:1};var q=V,z=a(451);class Y extends m.a.Component{constructor(e,t){super(e,t),K.call(this),this.state={totalHeight:this._calculateTotalHeight(e)}}componentWillReceiveProps(e){const t=this.props;if(e.documentId===t.documentId&&e.scale===t.scale||this.setState({totalHeight:this._calculateTotalHeight(e)}),e.currentPageIndex!==t.currentPageIndex){const t=this._getScrollTopForPageIndex(e.currentPageIndex);this.lastScrollTopFactor=t/this.state.totalHeight}}componentWillMount(){this.lastScrollTopFactor=this.props.initialScrollTopFactor,this.lastPageIndex=0}componentWillUnmount(){this.props.persistScrollState(this.lastScrollTopFactor)}componentDidUpdate(e){if(e.scale!==this.props.scale){const e=f({containerWidth:this.props.containerWidth,contentWidth:this.props.defaultPageWidth*this.props.scale});y.a.findDOMNode(this._infiniteScroll.scroller)&&(y.a.findDOMNode(this._infiniteScroll.scroller).scrollLeft=e)}}render(){const e=this.props,{pages:t,currentPageIndex:a,fetchPage:n,scale:s,documentId:i,fullScreenMode:o,totalPages:l}=e;return m.a.createElement("div",{className:o?"lightbox dp-doc-pages":"dp-doc-pages"},m.a.createElement(w,{pages:t}),m.a.createElement(z.a,{ref:e=>{this._infiniteScroll=e},key:i+s+a,initialRenderCount:1,bufferSize:1,size:l,getHeightForIndex:t=>{const{height:a}=X(e,t);return a+r.s.GAP_BETWEEN_PAGES},getElementForIndex:a=>{const{height:i,width:r}=X(e,a);return m.a.createElement(q,{id:a+1,height:i,width:r,scale:s,page:t[a+1]||{},onPageNotFound:n,refreshPage:()=>n(a+1,!0)})},getIdForIndex:Q,onScrollTopChange:this.handleScrollTopChange,initialScrollTop:this.lastScrollTopFactor*this.state.totalHeight,insideIframe:!0}))}}Y.defaultProps={initialScrollTopFactor:0};var K=function(){this._calculateTotalHeight=(e=>{const{exceptions:t,defaultPageHeight:a,scale:n,totalPages:s}=e;let i,o=0,l=0;for(i in t)t.hasOwnProperty(i)&&(l+=t[i].h*n,o++);return l+=(s-o)*a*n,l+=r.s.GAP_BETWEEN_PAGES*s}),this._getScrollTopForPageIndex=(e=>{let t=0;for(let a=0;a<e;a++){const{height:e}=X(this.props,a);t+=e+r.s.GAP_BETWEEN_PAGES}return t}),this.handleScrollTopChange=(e=>{const{totalPages:t}=this.props;let a=0,n=e;for(let e=0;e<t;e++){const{height:t}=X(this.props,e);if((n-=t)<0){a=e;break}}this.lastPageIndex!==a&&(this.lastPageIndex=a,this.props.handleScrollChange({currentPageIndex:a})),this.lastScrollTopFactor=e/this.state.totalHeight})};function X(e,t){const a=t+1;let n=e.defaultPageHeight,s=e.defaultPageWidth;if(e.exceptions["p"+a]){const t=e.exceptions["p"+a];n=t.h,s=t.w}return{height:n*=e.scale,width:s*=e.scale}}function Q(){return 1}var $=Y,J=a(56),ee=a(1192),te=a.n(ee),ae=a(30),ne=a(16);const se=N()(te.a);class ie extends m.a.Component{constructor(...e){var t;return t=super(...e),this.getErrorActionMessage=(()=>{const{isRetryable:e}=this.props.attachmentError,{onRetryRequested:t,downloadUrl:a,filename:n}=this.props,{formatMessage:s}=this.context.intl;return m.a.createElement(L.c,e?{id:"attachmentPreviewErrorRetryAndDownload",defaultMessage:"{retry} or {download} {filename}",values:{retry:m.a.createElement(ne.a,{onClick:e=>{e.preventDefault(),t()},kind:ae.a.CHROMELESS,"data-iskeynav":!0,title:s(B.retryAttachmentFetch)},m.a.createElement("span",{className:se.link},s(B.retryAttachmentFetch))),download:m.a.createElement("a",{className:se.link,target:"_blank",href:a,rel:"noopener"},s(B.downloadAttachment)),filename:n}}:{id:"attachmentPreviewErrorDownload",defaultMessage:"{download} {filename}",values:{download:m.a.createElement("a",{className:se.link,target:"_blank",href:a,rel:"noopener"},s(B.downloadAttachment)),filename:n}})}),this.getErrorMessage=(()=>{const{formatMessage:e}=this.context.intl,{code:t}=this.props.attachmentError;return e(815===t?B.passwordProtectedPDFPreviewErrorMessage:B.attachmentPreviewDefaultErrorMessage)}),t}render(){return m.a.createElement("div",{"data-test-id":"attachment-error",className:se.container},m.a.createElement(U.a,{kind:H.a.ATTACHMENT_PREVIEW_ERROR,width:88,height:88}),m.a.createElement("p",null,this.getErrorMessage()),this.getErrorActionMessage())}}ie.contextTypes={intl:L.i};var re=ie,oe=a(1024),le=a.n(oe),ce=a(161),de=a(127),me=a.n(de);const _e={ENTER:13};class ue extends m.a.Component{constructor(...e){var t;return t=super(...e),this.state={navigatorPageNumber:this.props.currentPageNumber,inputMode:!1},this._pageNumberInputChanged=(e=>{const{target:t}=e,{value:a}=t;this.setState({navigatorPageNumber:a})}),this._onKeyUp=(e=>{if(e.keyCode!==_e.ENTER)return;const{totalPages:t}=this.props,a=parseInt(this.state.navigatorPageNumber,10);a>0&&a<=t&&this.props.jumpToPage(a),this.setState({inputMode:!this.state.inputMode})}),this._toggleInput=(()=>{this.setState({inputMode:!this.state.inputMode,navigatorPageNumber:this.props.currentPageNumber.toString()})}),t}componentDidUpdate(){this.state.inputMode&&this.refs.input.focus()}render(){const{fullScreenMode:e}=this.props,t=this.context.getCss(le.a,{fullScreenMode:e});return m.a.createElement("span",null,m.a.createElement("span",{className:t.pageLabel},m.a.createElement(L.c,{id:"pagenavigator.page",defaultMessage:"Page"})),this.state.inputMode?m.a.createElement(ce.a,{ref:"input",containerClassName:t.pageNavInputContainer,className:me()(t.pageNavInput,{[t.currentPageTheme]:e}),"data-test-id":"previewr-pageno-input",value:this.state.navigatorPageNumber,onChange:this._pageNumberInputChanged,onKeyUp:this._onKeyUp}):m.a.createElement("span",{className:me()(t.currentPage,{[t.currentPageTheme]:e}),"data-test-id":"previewr-pageno-label",onClick:this._toggleInput},this.props.currentPageNumber),m.a.createElement("span",{className:t.totalPages},m.a.createElement(L.c,{id:"pagenavigator.of",defaultMessage:"of"})," ",this.props.totalPages))}}ue.contextTypes={intl:L.i.isRequired,getCss:c.a.func};var he=ue,pe=a(1193),ge=a.n(pe),Ee=a(14),be=a(5),Ce=a(1194),fe=a.n(Ce),ve=a(9),Ie=a(21),ye=a(3);const Se=4,Ne=N()(fe.a);class Te extends m.a.Component{constructor(e){super(e),Ae.call(this);const{initialValue:t,minValue:a,maxValue:n}=e;this.state={value:(t-a)/(n-a)}}render(){const{strings:e,minValue:t,maxValue:a,isRTL:n}=this.props,{value:s}=this.state,i=a-t,r=t+s*i,o=n?100-100*s:100*s;return m.a.createElement("div",{"data-test-id":"slider-box",className:Ne.container,onMouseLeave:this._stopSlide,onMouseUp:this._stopSlide,onMouseMove:this._onMouseMove},m.a.createElement("div",{className:Ne.inner},m.a.createElement("div",null,m.a.createElement(Ie.a,{"data-iskeynav":!0,"data-test-id":"decrease-slider",kind:ye.b.MINUS,size:ye.d.XS,onClick:this._decrementSlider,colorState:ye.a.INVERTED,title:e.decreaseSlider,"aria-label":e.decreaseSlider})),m.a.createElement("div",{className:Ne.barContainer,"data-test-id":"slider"},m.a.createElement("div",{ref:"sliderBar","data-test-id":"slider-bar",className:Ne.bar,onClick:e=>{this._updateSliderPosition(e.clientX)},role:"presenation"}),m.a.createElement("span",{style:{left:"calc("+o+"% - "+Se+"px)"},className:Ne.slider,"data-test-id":"slider-handle",onMouseDown:this._startSlide,role:"slider","data-iskeynav":!0,"aria-valuemin":t,"aria-valuemax":a,"aria-valuenow":r.toFixed(2)})),m.a.createElement("div",null,m.a.createElement(Ie.a,{"data-iskeynav":!0,"data-test-id":"increase-slider",kind:ye.b.ADD,size:ye.d.XS,onClick:this._incrementSlider,colorState:ye.a.INVERTED,title:e.increaseSlider,"aria-label":e.increaseSlider}))))}}Te.defaultProps={initialValue:0,minValue:0,maxValue:1};var Ae=function(){this._onMouseMove=(e=>{this.slideActive&&this._updateSliderPosition(e.clientX)}),this._updateSliderPosition=(e=>{const{minValue:t,maxValue:a,isRTL:n}=this.props,s=a-t,i=this.refs.sliderBar.getBoundingClientRect(),{left:r,right:o}=i,l=o-r;let c=e-r;e<r?c=0:e>o&&(c=l),this._setSlider(n?s-(c/l+t):c/l)}),this._incrementSlider=(()=>{const{value:e}=this.state;this._setSlider(e+.05)}),this._decrementSlider=(()=>{const{value:e}=this.state;this._setSlider(e-.05)}),this._setSlider=(e=>{const{minValue:t,maxValue:a}=this.props,{value:n}=this.state;(e=Math.max(Math.min(1,e),0))!==n&&(this.setState({value:e}),this.props.onChange(t+e*(a-t)))}),this._startSlide=(()=>{this.slideActive=!0}),this._stopSlide=(()=>{this.slideActive=!1})};var Me=Object(s.b)(e=>{const{getEnvironmentSelectors:t}=Object(ve.b)(e);return{isRTL:"rtl"===t().getPageDirection()}})(Te);const De=N()(ge.a);class Oe extends m.a.Component{constructor(...e){var t;return t=super(...e),this.handleNavigate=((e,t)=>{this.props.onNavigate(e,{i13nModel:{interactionType:Object(Ee.i)(t)}})}),this.handleZoom=(e=>{this.props.onZoom(e,{i13nModel:{interactionType:be.d.click}})}),this.renderZoomControls=(()=>this.renderSlider()),this.renderSlider=(()=>{const{increaseZoom:e,decreaseZoom:t}=B,{formatMessage:a}=this.context.intl,{initialZoomFactor:n}=this.props;return m.a.createElement(Me,{className:De.slider,onChange:this.handleZoom,initialValue:n+r.s.MIN_SCALE,strings:{increaseSlider:a(e),decreaseSlider:a(t)},minValue:r.s.MIN_SCALE,maxValue:r.s.MAX_SCALE})}),t}render(){const{previousAttachmentId:e,nextAttachmentId:t,showZoomControls:a}=this.props,{formatMessage:n}=this.context.intl;return m.a.createElement("div",{"data-test-id":"previewr-controls",className:De.container},e&&m.a.createElement("div",{className:De.leftButton+" "+De.rtlRawScaleX},m.a.createElement(Ie.a,{"data-iskeynav":!0,"data-test-id":"prev-document",kind:ye.b.ARROW_RIGHT_DOC,rotate:ye.c.D180,size:ye.d.XS,onClick:this.handleNavigate.bind(this,r.s.Movement.PREV),colorState:ye.a.INVERTED,title:n(B.previousAttachment),"aria-label":n(B.previousAttachment),className:De.buttonIcon})),t&&m.a.createElement("div",{className:De.rightButton+" "+De.rtlRawScaleX},m.a.createElement(Ie.a,{"data-iskeynav":!0,"data-test-id":"next-document",kind:ye.b.ARROW_RIGHT_DOC,size:ye.d.XS,onClick:this.handleNavigate.bind(this,r.s.Movement.NEXT),colorState:ye.a.INVERTED,title:n(B.nextAttachment),"aria-label":n(B.nextAttachment),className:De.buttonIcon})),a?this.renderZoomControls():null)}}Oe.contextTypes={intl:L.i.isRequired},Oe.defaultProps={initialZoomFactor:r.s.MIN_SCALE,showZoomControls:!0};var ke=Oe,Re=a(1195),xe=a.n(Re),Pe=a(15),we=a(91),Fe=a(80);class Le extends m.a.Component{constructor(...e){var t;return t=super(...e),this._handleClose=(e=>{e.stopPropagation(),this.props.onClose({i13nModel:{interactionType:Object(Ee.i)(e)}})}),this._handlePrint=(e=>{e.stopPropagation(),this.props.onPrint({i13nModel:{interactionType:Object(Ee.i)(e)}})}),this._handleDownload=(e=>{e.stopPropagation(),this.props.onDownload({i13nModel:{interactionType:Object(Ee.i)(e)}})}),this._handleMessageOpen=(e=>{e.stopPropagation(),this.props.onMessageOpen({i13nModel:{interactionType:Object(Ee.i)(e)}})}),this._handleShare=(e=>{e.stopPropagation(),this.props.onForward({i13nModel:{interactionType:Object(Ee.i)(e)}})}),this._handleOpenInNewWindow=(e=>{this.props.onOpenInNewWindow({i13nModel:{interactionType:Object(Ee.i)(e)}})}),this._handleOpenInFullScreen=(e=>{e.stopPropagation(),this.props.onOpenInFullScreen({i13nModel:{interactionType:Object(Ee.i)(e)}})}),t}render(){const{formatMessage:e}=this.context.intl,{fullScreenMode:t,hideOpenMessageIcon:a,hidePopoutIcon:n,hideBackButton:s,hideCloseButton:i,route:r}=this.props,o=N()(le.a,{fullScreenMode:t}),l={normal:t?ye.a.INVERTED:ye.a.NORMAL,hovered:t?ye.a.INVERTED_DIM:ye.a.SELECTED},c=this.context.getUrlFromRoute(babelHelpers.extends({},r,{query:babelHelpers.extends({},r.query,{fullscreen:"1",target:"blank"})}));return m.a.createElement(Fe.a,{axis:Fe.b.HORIZONTAL,circularNavigation:!1,"data-test-id":"previewr-toolbar",className:o.container,groupTabIndex:O.TabIndices.ATTACHMENT_PREVIEW_TOOLBAR,role:"toolbar"},m.a.createElement("div",{className:o.columnLeft},s?null:m.a.createElement("div",{className:o.backButton,onClick:this._handleClose,title:e(B.back),"aria-label":e(B.back)},m.a.createElement(Pe.b,{"data-test-id":"previewr-back","data-iskeynav":!0,kind:ye.b.ARROW_UP,rotate:ye.c.D270,size:ye.d.XS,colorState:ye.a.INVERTED}),m.a.createElement("span",{className:o.backButtonLabel},m.a.createElement(L.c,B.back))),m.a.createElement("span",{"data-test-id":"previewr-filename",className:o.filename,title:this.props.filename},this.props.filename)),m.a.createElement("div",{className:o.columnCenter},m.a.createElement("span",{className:o.pageNav},this.props.children)),m.a.createElement("div",{className:o.columnRight},a?null:m.a.createElement("span",{className:o.buttonContainer},m.a.createElement(we.a,{"data-iskeynav":!0,"data-test-id":"previewr-open-message",kind:ye.b.INBOX,size:ye.d.XS,colorStates:l,onClick:this._handleMessageOpen,title:e(B.openMessage),"aria-label":e(B.openMessage)})),m.a.createElement("span",{className:o.buttonContainer},m.a.createElement(we.a,{"data-iskeynav":!0,"data-test-id":"previewr-print",kind:ye.b.PRINTER,size:ye.d.XS,colorStates:l,onClick:this._handlePrint,title:e(B.printAttachment),"aria-label":e(B.printAttachment)})),m.a.createElement("span",{className:o.buttonContainer},m.a.createElement(we.a,{"data-iskeynav":!0,"data-test-id":"previewr-download",kind:ye.b.DOWNLOAD,size:ye.d.XS,colorStates:l,onClick:this._handleDownload,title:e(B.downloadAttachment),"aria-label":e(B.downloadAttachment)})),m.a.createElement("span",{className:o.buttonContainer+" "+o.rtlRawScaleX},m.a.createElement(we.a,{"data-iskeynav":!0,"data-test-id":"previewr-forward",kind:ye.b.FORWARD,size:ye.d.XS,colorStates:l,onClick:this._handleShare,title:e(B.forwardAttachment),"aria-label":e(B.forwardAttachment)})),n?null:m.a.createElement("span",{className:o.buttonContainer},m.a.createElement("a",{href:c,"data-test-id":"previewr-popout",target:"_blank",validate:"true",onClick:this._handleOpenInNewWindow},m.a.createElement(we.a,{"data-iskeynav":!0,kind:ye.b.POP_OUT,size:ye.d.XS,colorStates:l,title:e(B.openAttachmentInNewTab),"aria-label":e(B.openAttachmentInNewTab)}))),t?null:m.a.createElement("span",{className:o.buttonContainer},m.a.createElement(we.a,{"data-iskeynav":!0,"data-test-id":"previewr-expand-btn",kind:ye.b.EXPAND,size:ye.d.XS,colorStates:l,onClick:this._handleOpenInFullScreen,title:e(B.expand),"aria-label":e(B.expand)})),i?null:m.a.createElement("span",{className:o.buttonContainer},m.a.createElement(we.a,{"data-iskeynav":!0,"data-test-id":"previewr-close",kind:ye.b.CLOSE,size:ye.d.XS,colorStates:l,onClick:this._handleClose,title:e(B.close),"aria-label":e(B.close)}))))}}Le.contextTypes={intl:L.i.isRequired,executeAction:c.a.func.isRequired,getUrlFromRoute:c.a.func.isRequired};var Be=Object(s.b)(e=>{const{getRoute:t,getRouteUIContext:a}=Object(ve.b)(e),n=t(),s=a(),i="1"===n.query.fullscreen,o="blank"===n.query.target;return{hideOpenMessageIcon:!i||!s.mKey||s.mKey===be.e.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW||n.name===r.Pc.PHOTO,hidePopoutIcon:!i,hideBackButton:!i||i&&o,hideCloseButton:i&&o,route:n}})(Le);const He=N()(xe.a);var Ue=class extends m.a.Component{constructor(...e){var t;return t=super(...e),this.state={currentPageNumber:1,navigateToPageIndex:0,showControls:!1},this._handleScrollChange=(e=>{this.setState({currentPageNumber:e.currentPageIndex+1})}),this._jumpToPage=(e=>{this.setState({currentPageNumber:e,navigateToPageIndex:e-1})}),this.nextPage=(()=>{const e=this.state.currentPageNumber+1;e<=this.props.totalPages&&this._jumpToPage(e)}),this.prevPage=(()=>{const e=this.state.currentPageNumber-1;e>0&&this._jumpToPage(e)}),this._calculateScale=(()=>{const{fullScreenMode:e,containerWidth:t,containerHeight:a,document:n,zoomLevel:s}=this.props;return function({orientation:e,zoom:t,containerWidth:a,containerHeight:n,contentWidth:s,contentHeight:i}){let o;return(o=e===r.s.Orientation.FIT_TO_WIDTH?(a-p)/s:(n-g)/i)+t}({orientation:e?r.s.Orientation.FIT_TO_HEIGHT:r.s.Orientation.FIT_TO_WIDTH,zoom:s,containerWidth:t,containerHeight:a,contentWidth:n.width,contentHeight:n.height})}),this._getPageListProps=(()=>{const{props:e,state:t}=this,a=e.document;return{pages:a.pages,totalPages:e.totalPages,exceptions:a.exceptions,defaultPageHeight:a.height,defaultPageWidth:a.width,documentId:e.documentId,scale:this._calculateScale(),initialScrollTopFactor:e.initialScrollTopFactor,currentPageIndex:t.navigateToPageIndex,fetchPage:e.fetchPage,handleScrollChange:this._handleScrollChange,onUnmount:e.onPageListUnmount,persistScrollState:e.persistScrollState,containerWidth:e.containerWidth,fullScreenMode:e.fullScreenMode}}),this.renderContent=(()=>{const{documentState:e,documentError:t,containerWidth:a,filename:n,downloadUrl:s,refetchDocument:i}=this.props;switch(e){case r.Mc.LOADED:return m.a.createElement(D,{width:`${a}px`,height:"100%"},m.a.createElement($,this._getPageListProps()));case r.Mc.ERROR:return m.a.createElement(re,{onRetryRequested:i,attachmentError:t,filename:n,downloadUrl:s});default:return m.a.createElement(J.b,null)}}),this._onMouseOver=(()=>{if(!this.state.showControls){const{documentState:e}=this.props;this.setState({showControls:e===r.Mc.LOADED||e===r.Mc.ERROR})}}),this._onMouseLeave=(()=>{this.setState({showControls:!1})}),t}render(){const{document:e,totalPages:t,documentState:a,filename:n,onClose:s,onNavigate:i,onZoom:o,onDownload:l,onPrint:c,onForward:d,nextAttachmentId:_,previousAttachmentId:u,fullScreenMode:h,zoomLevel:p,onOpenInFullScreen:g,onOpenInNewWindow:E,onMessageOpen:b}=this.props,{currentPageNumber:C,showControls:f}=this.state;return m.a.createElement("div",{className:He.container,onMouseOver:this._onMouseOver,onMouseLeave:this._onMouseLeave,"data-test-id":"previewr-doc"},m.a.createElement(Be,{filename:n,onClose:s,onOpenInFullScreen:g,onOpenInNewWindow:E,onMessageOpen:b,onDownload:l,onPrint:c,onForward:d,fullScreenMode:h},e?m.a.createElement(he,{currentPageNumber:C,totalPages:t,jumpToPage:this._jumpToPage,fullScreenMode:h}):null),m.a.createElement("div",{className:He.content},this.renderContent()),f?m.a.createElement(ke,{onNavigate:i,onZoom:o,"data-test-id":"previewr-controls",initialZoomFactor:p,nextAttachmentId:_,previousAttachmentId:u,showZoomControls:a===r.Mc.LOADED}):null)}},je=a(1196),We=a.n(je),Ge=a(24);const Ze=N()(We.a);class Ve extends m.a.Component{constructor(...e){var t;return t=super(...e),this.state={loaded:!1,controlsActive:!1,failed:!1},this._loadImage=(()=>{if(Object(Ge.b)()){const e=new Image;e.onload=this._onImageLoad.bind(this,e),e.onerror=this._onImageLoadError,e.src=this.props.src}}),this._onImageLoad=(e=>{this._actualWidth=e.naturalWidth,this._actualHeight=e.naturalHeight,this.setState({loaded:!0})}),this._onImageLoadError=(()=>{this.setState({failed:!0})}),this._getScaledDimensions=(()=>{const e=this._actualWidth,t=this._actualHeight,{zoomLevel:a,containerWidth:n,containerHeight:s,initialImageContainerRatio:i}=this.props,o=function({zoom:e,containerWidth:t,containerHeight:a,contentWidth:n,contentHeight:s,initialImageContainerRatio:i}){const{heightRatio:r,widthRatio:o}=i,l=a*r,c=Math.min(n,t*o),d=Math.min(s,l);return Math.min(c/n,d/s)+e}({zoom:a,containerWidth:n-2*r.s.Paddings.AROUND_IMG_WIDTH,containerHeight:s-r.s.TOOLBAR_HEIGHT-2*r.s.Paddings.AROUND_IMG_HEIGHT,contentWidth:e,contentHeight:t,initialImageContainerRatio:i});return{width:Math.round(o*e),height:Math.round(o*t)}}),this._renderImageTag=(()=>{const e=this._getScaledDimensions();return m.a.createElement("div",{ref:e=>{this._imageWrapper=e},className:Ze.imageWrapper},m.a.createElement("img",{className:Ze.image,src:this.props.src,width:e.width,height:e.height}))}),this._onMouseOver=(()=>{if(!this.state.controlsActive){const{loaded:e,failed:t}=this.state;this.setState({controlsActive:e||t})}}),this._onMouseLeave=(()=>{this.setState({controlsActive:!1})}),this._renderImageError=(()=>{const{filename:e,src:t}=this.props;return m.a.createElement(re,{onRetryRequested:this._reloadImage,attachmentError:{isRetryable:!0},filename:e,downloadUrl:t})}),this._reloadImage=(()=>{this.setState({failed:!1,loaded:!1}),this._loadImage()}),this._renderContent=(()=>{const{loaded:e,failed:t}=this.state;return e?this._renderImageTag():t?this._renderImageError():m.a.createElement(J.b,null)}),t}componentWillReceiveProps(e){e.src!==this.props.src&&this.setState({loaded:!1,failed:!1},()=>this._loadImage())}componentWillMount(){this._loadImage()}componentDidUpdate(e){if(e.zoomLevel!==this.props.zoomLevel&&this._imageWrapper){const e=this._getScaledDimensions(),t=f({containerWidth:this.props.containerWidth,contentWidth:e.width});y.a.findDOMNode(this._imageWrapper).scrollLeft=t}}render(){const{onClose:e,filename:t,onZoom:a,onNavigate:n,onDownload:s,onPrint:i,onForward:r,nextAttachmentId:o,previousAttachmentId:l,zoomLevel:c,fullScreenMode:d,onOpenInFullScreen:_,onMessageOpen:u,onOpenInNewWindow:h}=this.props,{controlsActive:p,loaded:g}=this.state;return m.a.createElement("div",{className:Ze.container,"data-test-id":"previewr-image",onMouseOver:this._onMouseOver,onMouseLeave:this._onMouseLeave},m.a.createElement(Be,{filename:t,onClose:e,onOpenInFullScreen:_,onMessageOpen:u,onOpenInNewWindow:h,onDownload:s,onPrint:i,onForward:r,fullScreenMode:d}),m.a.createElement("div",{className:Ze.content},this._renderContent()),p?m.a.createElement(ke,{onNavigate:n,onZoom:a,"data-test-id":"previewr-controls",initialZoomFactor:c,nextAttachmentId:o,previousAttachmentId:l,showZoomControls:g}):null)}}Ve.defaultProps={initialImageContainerRatio:{widthRatio:1,heightRatio:1}};var qe=Ve,ze=a(1007),Ye=a(49),Ke=a(104),Xe=a(110);const Qe={widthRatio:.68,heightRatio:.84};var $e=a(44),Je=a(17);Object(Ke.b)({group:Xe.b,keys:{previousPage:{key:"UP_ARROW",description:m.a.createElement(L.c,{id:"shortcut.previewr_previous_page",defaultMessage:"Previous Page"})},nextPage:{key:"DOWN_ARROW",description:m.a.createElement(L.c,{id:"shortcut.previewr_next_page",defaultMessage:"Next Page"})},previousAttachment:{key:"LEFT_ARROW",description:m.a.createElement(L.c,{id:"shortcut.previewr_previous",defaultMessage:"Previous Attachment"})},nextAttachment:{key:"RIGHT_ARROW",description:m.a.createElement(L.c,{id:"shortcut.previewr_next",defaultMessage:"Next Attachment"})},zoomIn:{key:"CTRL+=,META+=",description:m.a.createElement(L.c,{id:"shortcut.previewr_zoom_in",defaultMessage:"Zoom In"})},zoomOut:{key:"CTRL+-,META+-",description:m.a.createElement(L.c,{id:"shortcut.previewr_zoom_out",defaultMessage:"Zoom Out"})},fullscreen:{key:"CTRL+F,META+F",description:m.a.createElement(L.c,{id:"shortcut.previewr_fullscreen",defaultMessage:"Fullscreen"})},download:{key:"CTRL+D,META+D",description:m.a.createElement(L.c,{id:"shortcut.previewr_download",defaultMessage:"Download"})}}});const et=["escape","up","down","right","left","ctrl+=","meta+=","ctrl+-","meta+-","ctrl+f","meta+f","ctrl+d","meta+d"],tt=()=>{};class at extends m.a.Component{constructor(e){super(e),this.focus=(()=>{setTimeout(()=>{this.refs.container&&this.refs.container.focus()},0)}),this._getRapidKeys=(e=>{return{mKey:be.e[`ATTACHMENT_${this.props.fullScreenMode?"LIGHTBOX":"PREVIEW"}_${this.props.attachment.type===r.u.Types.IMAGE?"IMAGE":"DOCUMENT"}_${e}`]||be.e.ATTACHMENT_ACTION_UNKNOWN,sec:this.props.fullScreenMode?be.g.ATTACHMENT_LIGHTBOX:be.g.ATTM_PREVIEW}}),this._handleZoomChange=((e,{i13nModel:t})=>{const a=Math.max(e-r.s.MIN_SCALE,0);this.setState({zoomLevel:a},()=>{this.props.handleAttachmentZoom({id:this.props.attachment.id,newZoomLevel:a,i13nModel:babelHelpers.extends({},t,this._getRapidKeys("ZOOM"))})})}),this._handleClose=(({i13nModel:e})=>{this.props.handleClose(babelHelpers.extends({},e,this._getRapidKeys("CLOSE")))}),this._handleNavigation=((e,{i13nModel:t})=>{const{previousAttachmentId:a,nextAttachmentId:n,nextMessageGroupId:s,previousMessageGroupId:i,attachmentNavType:o,fullScreenMode:l}=this.props,c=o||"IN_MESSAGE",d=l?{fullscreen:"1"}:{};e===r.s.Movement.PREV&&a?this.context.navigateTo(i&&"undefined"!==i?{route:Object(Je.c)(this.props.listId,i,a,d),i13nModel:Object.assign({},this._getRapidKeys("PREV_"+c),t)}:{route:Object(Je.p)(this.props.listId,a,d),itemId:a,i13nModel:Object.assign({},this._getRapidKeys("PREV_"+c),t)}):e===r.s.Movement.NEXT&&n&&this.context.navigateTo(s&&"undefined"!==s?{route:Object(Je.c)(this.props.listId,s,n,d),i13nModel:Object.assign({},this._getRapidKeys("NEXT_"+c),t)}:{route:Object(Je.p)(this.props.listId,n,d),itemId:n,i13nModel:Object.assign({},this._getRapidKeys("NEXT_"+c),t)})}),this._onZoom=((e,{i13nModel:t})=>{let{zoomLevel:a}=this.state;e===r.s.Movement.ZOOM_IN?a+=r.s.SCALE_STEP:e===r.s.Movement.ZOOM_OUT&&(a-=r.s.SCALE_STEP),this._handleZoomChange(a+r.s.MIN_SCALE,{i13nModel:t})}),this._handlePageNavigation=(e=>{const{docViewer:t}=this.refs;t&&(e===r.s.Movement.PREV?t.prevPage():e===r.s.Movement.NEXT&&t.nextPage())}),this._onDownload=(({i13nModel:e})=>{const{attachment:t}=this.props;this.props.handleDownload({attachment:t,i13nModel:Object.assign({},this._getRapidKeys("DOWNLOAD"),{mKeyGroup:be.f.dwnld_attmnt},e)})}),this._onPrint=(({i13nModel:e})=>{const{attachment:t}=this.props;this.props.handleDownload({attachment:t,i13nModel:Object.assign({},this._getRapidKeys("PRINT"),{mKey:be.e.MSG_HDR_PRINT,mKeyGroup:be.f.print_attmnt},e)})}),this.handleForward=(({i13nModel:e})=>{const t=Object(Ee.f)();this.context.navigateTo({route:Object(Je.e)(t),attachments:this.props.attachment?[babelHelpers.extends({},this.props.attachment,{disposition:this.props.route.name===r.Pc.PHOTO?r.u.Dispositions.INLINE:this.props.attachment.disposition})]:[],i13nModel:Object.assign({},this._getRapidKeys("SHARE"),{mKeyGroup:be.f.compose},e)})}),this.handleOpenInNewWindow=(({i13nModel:e})=>{this.context.executeAction(h.d,{i13nModel:Object.assign({},this._getRapidKeys("OPEN"),e)})}),this.handleMessageOpen=(({i13nModel:e})=>{this.props.onMessageOpen({i13nModel:Object.assign({},this._getRapidKeys("MSG"),{mKeyGroup:be.f.open_msg},e)})}),this.fetchPage=(e=>{this.context.executeAction(h.c,{documentId:this.props.attachment.documentId,pageNumber:e})}),this._handleKeyboard=(e=>{const{metaKey:t,keyCode:a,ctrlKey:n}=e,s=t||n;let i=!1;switch(a){case Ye.a.ESCAPE:this._handleClose({i13nModel:{interactionType:be.d.shortcut}}),i=!0;break;case Ye.a.LEFT:this._handleNavigation(r.s.Movement.PREV,{i13nModel:{interactionType:be.d.shortcut}}),i=!0;break;case Ye.a.RIGHT:this._handleNavigation(r.s.Movement.NEXT,{i13nModel:{interactionType:be.d.shortcut}}),i=!0;break;case Ye.a.UP:this._handlePageNavigation(r.s.Movement.PREV),i=!0;break;case Ye.a.DOWN:this._handlePageNavigation(r.s.Movement.NEXT),i=!0;break;case 68:s&&(this._onDownload({i13nModel:{interactionType:be.d.shortcut}}),i=!0);break;case 70:s&&(this._switchToFullScreen({i13nModel:{interactionType:Object(Ee.i)(e)}}),i=!0);break;case Ye.a.EQUAL:s&&(this._onZoom(r.s.Movement.ZOOM_IN,{i13nModel:{interactionType:be.d.shortcut}}),i=!0);break;case Ye.a.MINUS:s&&(this._onZoom(r.s.Movement.ZOOM_OUT,{i13nModel:{interactionType:be.d.shortcut}}),i=!0)}i&&(e.preventDefault(),e.stopPropagation())}),this._switchToFullScreen=(({i13nModel:e})=>{const{route:t,listId:a}=this.props;this.context.navigateTo({route:Object(Je.c)(a,t.params.groupId,t.params.attachmentId,{fullscreen:"1"}),i13nModel:Object.assign({mKey:be.e.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW,sec:be.g.ATTM_PREVIEW},e)})}),this.getContainerDimension=(()=>{const{fullScreenMode:e,windowDimensions:t}=this.props;return v(t,e)}),this.displayImageWhenReady=(e=>{this.gifImageUrl=e.target.src,this.setState({imageLoaded:!0})}),this.loadImageInBackground=(e=>{this.imageToLoad=new Image,this.imageToLoad.src=e,this.imageToLoad.onload=this.displayImageWhenReady}),this._renderContent=(()=>{const{document:e,totalPages:t,documentError:a,documentState:n,attachment:s,initialScrollTopFactor:i,nextAttachmentId:o,previousAttachmentId:l,fullScreenMode:c}=this.props,{filename:d,documentId:_,downloadUrl:h,type:p,thumbnailUrl:g,subtype:E}=s,{zoomLevel:b,imageLoaded:C}=this.state,{containerWidth:f,containerHeight:v}=this.getContainerDimension(),I=this.context.getCss(u.a);let y;if(g&&s.source===r.xb.TRIPODWEB){const e=g.lastIndexOf(".");y=g.slice(0,e-2)+"_c"+g.slice(e,g.length)}C||E!==r.u.SubTypes.GIF||this.loadImageInBackground(h);const S=C?this.gifImageUrl:Object($e.n)(y)||Object($e.n)(g)||h;return m.a.createElement("div",{ref:"container","data-test-id":"previewr",className:I.container,style:{width:`${f}px`},tabIndex:O.TabIndices.ATTACHMENT_PREVIEW},p===r.u.Types.IMAGE?m.a.createElement(qe,{filename:d,src:S,fullScreenMode:c,zoomLevel:b,containerWidth:f,containerHeight:v,onClose:this._handleClose,onOpenInFullScreen:this._switchToFullScreen,onMessageOpen:this.handleMessageOpen,onOpenInNewWindow:this.handleOpenInNewWindow,nextAttachmentId:o,previousAttachmentId:l,onZoom:this._handleZoomChange,onNavigate:this._handleNavigation,onDownload:this._onDownload,onPrint:this._onPrint,onForward:this.handleForward,initialImageContainerRatio:c?Qe:{widthRatio:1,heightRatio:1}}):m.a.createElement(Ue,{ref:"docViewer",document:e,totalPages:t,documentError:a,filename:d,downloadUrl:h,documentId:_,key:_,documentState:n,fullScreenMode:c,zoomLevel:b,containerWidth:f,containerHeight:v,fetchPage:this.fetchPage,initialScrollTopFactor:i,persistScrollState:tt,onClose:this._handleClose,onOpenInFullScreen:this._switchToFullScreen,onOpenInNewWindow:this.handleOpenInNewWindow,onMessageOpen:this.handleMessageOpen,nextAttachmentId:o,previousAttachmentId:l,onZoom:this._handleZoomChange,onNavigate:this._handleNavigation,onDownload:this._onDownload,onPrint:this._onPrint,onForward:this.handleForward,refetchDocument:this.fetchPage}))});const{initialZoomLevel:t}=e;this.state={zoomLevel:t,imageLoaded:!1}}componentDidMount(){this.mousetrap=this.context.bindShortcut(et,this._handleKeyboard,this.refs.container),this.focus()}componentWillUnmount(){this.context.unbindShortcut(et,this.mousetrap)}componentDidUpdate(e){this.props.fullScreenMode&&this.focus(),e.fullScreenMode!==this.props.fullScreenMode&&(this.context.unbindShortcut(et,this.mousetrap),this.mousetrap=this.context.bindShortcut(et,this._handleKeyboard,this.refs.container))}componentWillReceiveProps(e){if(e.attachment&&e.attachment.id!==this.props.attachment.id){const{previewerUiState:{zoomLevel:t=0}={}}=e.attachment;this.setState({zoomLevel:t}),this.setState({imageLoaded:!1})}}render(){const{fullScreenMode:e,attachment:t}=this.props;return t?e?m.a.createElement(ze.a,null,this._renderContent()):this._renderContent():null}}at.contextTypes={executeAction:c.a.func,getCss:c.a.func,navigateTo:c.a.func.isRequired,bindShortcut:c.a.func,unbindShortcut:c.a.func},at.defaultProps={initialScrollTopFactor:0,initialZoomLevel:0};var nt=Object(s.b)(null,e=>({handleDownload({attachment:t,i13nModel:a}){e(Object(h.b)({attachment:t,i13nModel:a}))},handleAttachmentZoom(t){e(Object(h.e)(t))}}))(at),st=a(43);a.d(t,"mapDispatchToProps",function(){return it});const it=(e,t)=>({onMessageOpen:a=>e(Object(st.i)(t.getMessageRoute(a))),handleClose:a=>e(Object(st.i)(t.getCloseRoute(a)))});t.default=Object(n.d)(Object(s.b)(e=>{const{getAttachmentById:t,getDocumentSelectors:a,getRouteUIContext:n,getRoute:s,getFeaturesSelectors:l,getPreviousListItemId:c,getNextListItemId:d,getGroupIdContainingAttachmentId:m,getPreviousAttachmentIdForMessage:_,getNextAttachmentIdForMessage:u,getPreviousAttachmentIdForMessageGroup:h,getNextAttachmentIdForMessageGroup:p,normalizeRoute:g,getWindowDimensions:E,getSetting:b}=Object(ve.b)(e),C=s(),f=Object(i.t)(C),v=b(r.id.PREVIEW_PANE),I=Object(i.q)(f),y=C.params.groupId,S=C.params.attachmentId,N=Object(o.f)(S),T=t(S),A=T?T.documentId:null,M=function(e){const t=e&&e.previewerUiState?e.previewerUiState:{scrollPositionFactor:0,zoomLevel:0},{zoomLevel:a,scrollPositionFactor:n}=t;return{initialZoomLevel:a,initialScrollTopFactor:n}}(T),{initialZoomLevel:D,initialScrollTopFactor:O}=M,k=a(),R=n(),x="1"===C.query.fullscreen,P={OPEN_ATTACHMENT_FROM_LIST_VIEW:[be.e.DOC_OPEN,be.e.PHOTO_OPEN,be.e.ATTACHMENT_LIGHTBOX_OPEN,be.e.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_LIST,be.e.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_GROUP,be.e.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_LIST,be.e.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_GROUP,be.e.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_LIST,be.e.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_LIST,be.e.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_GROUP,be.e.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_GROUP],OPEN_ATTACHMENT_FROM_MSG_VIEW:[be.e.OPEN_DOC_PREVIEW,be.e.ATTACHMENT_LIGHTBOX_IMAGE_CLOSE,be.e.ATTACHMENT_LIGHTBOX_IMAGE_NEXT_IN_MESSAGE,be.e.ATTACHMENT_LIGHTBOX_IMAGE_PREV_IN_MESSAGE,be.e.ATTACHMENT_LIGHTBOX_DOCUMENT_CLOSE,be.e.ATTACHMENT_LIGHTBOX_DOCUMENT_NEXT_IN_MESSAGE,be.e.ATTACHMENT_LIGHTBOX_DOCUMENT_PREV_IN_MESSAGE,be.e.ATTACHMENT_PREVIEW_IMAGE_NEXT_IN_MESSAGE,be.e.ATTACHMENT_PREVIEW_IMAGE_PREV_IN_MESSAGE,be.e.ATTACHMENT_PREVIEW_DOCUMENT_NEXT_IN_MESSAGE,be.e.ATTACHMENT_PREVIEW_DOCUMENT_PREV_IN_MESSAGE],OPEN_ATTACHMENT_IN_FULLSCREEN:[be.e.OPEN_LIGHTBOX_ATTACHMENT_PREVIEW]};let w,F,L,B;k.getState(A)!==r.Mc.DOES_NOT_EXIST&&(w=k.getDocument(A),F=k.getState(A),L=k.getError(A),B=k.getNumberOfPages(A));let H="",U="",j="",W=y,G=y;const Z=l().isEnabled(r.kb.CONVERSATIONS);return R&&(-1!==P.OPEN_ATTACHMENT_FROM_MSG_VIEW.indexOf(R.mKey)||-1!==P.OPEN_ATTACHMENT_IN_FULLSCREEN.indexOf(R.mKey)?(U=u(S,N),j=_(S,N),H="IN_MESSAGE"):-1!==P.OPEN_ATTACHMENT_FROM_LIST_VIEW.indexOf(R.mKey)&&I===r.Db.MESSAGES?(U=p(S,y),j=h(S,y),H="IN_GROUP"):-1!==P.OPEN_ATTACHMENT_FROM_LIST_VIEW.indexOf(R.mKey)&&(U=d(f,S),j=c(f,S),W=U?m(U):null,G=j?m(j):null,H="IN_LIST")),{listId:f,fullScreenMode:x,attachmentId:S,nextAttachmentId:U,previousAttachmentId:j,nextMessageGroupId:W,previousMessageGroupId:G,documentId:A,document:w,totalPages:B,documentState:F,documentError:L,attachment:T,initialZoomLevel:x?0:D,initialScrollTopFactor:O,route:C,attachmentNavType:H,windowDimensions:E(),getMessageRoute({i13nModel:e}){const a=t(S),n=Object(o.f)(S),s=Object(i.q)(f);let l;return R.sec===be.g.RIGHT_RAIL&&s===r.Db.MESSAGES&&(l=T.type===r.u.Types.IMAGE?Object(i.Q)(f,{listContentType:r.Db.IMAGES}):Object(i.Q)(f,{listContentType:r.Db.DOCUMENTS})),{route:g(Object(Je.m)({attachment:a,listId:l||f,isConversationMode:Z})),i13nModel:e,hashParams:{messageId:n}}},getCloseRoute(e){let t;return t=-1!==P.OPEN_ATTACHMENT_IN_FULLSCREEN.indexOf(R.mKey)?Object(Je.c)(f,y,S):"IN_MESSAGE"!==H&&x?Object(Je.l)(f):v===r.Bc.NO?Object(Je.n)(f,y):Object(Je.l)(f),{route:g(t),i13nModel:e}}}}),Object(s.b)(void 0,it))(nt)},function(e,t,a){"use strict";a.r(t);var n=a(4),s=(a(6),a(2)),i=a.n(s),r=a(11),o=a.n(r),l=a(958),c=a.n(l),d=a(19),m=(a(38),a(268)),_=a(0),u=a(962),h=a(965),p=a(161);const g=o()(c.a),E=Object(n.h)({subject_label:{id:"advanced_search.subject_label",defaultMessage:"Subject"}});class b extends i.a.Component{render(){const{subject:e,onChange:t,onClear:a}=this.props,{formatMessage:n}=this.context.intl;return i.a.createElement("div",{className:g.inputWrapper},i.a.createElement("span",{className:g.inputLabel},n(E.subject_label)),i.a.createElement(p.a,{className:g.inputField,type:"text",tabIndex:0,id:"adv-search-subject-input","data-test-id":"adv-search-subject-input",value:e,onClear:a,onChange:t,isClearable:!0}))}}b.contextTypes={intl:n.i.isRequired};var C=b;const f=o()(c.a),v=Object(n.h)({keyword_label:{id:"advanced_search.keyword_label",defaultMessage:"Keyword"}});class I extends i.a.Component{render(){const{keyword:e,onChange:t,onClear:a}=this.props,{formatMessage:n}=this.context.intl;return i.a.createElement("div",{className:f.inputWrapper},i.a.createElement("span",{className:f.inputLabel},n(v.keyword_label)),i.a.createElement(p.a,{className:f.inputField,type:"text",tabIndex:0,id:"adv-search-keyword-input","data-test-id":"adv-search-keyword-input",value:e,onClear:a,onChange:t,isClearable:!0}))}}I.contextTypes={intl:n.i.isRequired};var y=I,S=a(26),N=a.n(S),T=a(16),A=a(30),M=a(1047),D=a.n(M);const O=o()(D.a),k=Object(n.h)({reset_btn_title:{id:"advanced_search.reset_btn_title",defaultMessage:"Reset"},reset_btn_label:{id:"advanced_search.reset_btn_label",defaultMessage:"Reset"},search_btn_title:{id:"advanced_search.search_btn_title",defaultMessage:"Search"},search_btn_label:{id:"advanced_search.search_btn_label",defaultMessage:"Search"}});class R extends i.a.Component{constructor(...e){var t;return t=super(...e),this.isSearchButtonFocused=(()=>document.activeElement===Object(S.findDOMNode)(this.searchButton)),this.focusSearchButton=(()=>{Object(S.findDOMNode)(this.searchButton).focus()}),t}render(){const{onReset:e,onSubmit:t,disabled:a}=this.props,{formatMessage:n}=this.context.intl;return i.a.createElement("div",{className:O.buttonContainer},i.a.createElement("div",{className:O.resetBtnWrapper},i.a.createElement(T.a,{onClick:e,"data-test-id":"adv-search-reset-btn",kind:A.a.CHROMELESS,title:n(k.reset_btn_title),"data-iskeynav":!0,tabIndex:0},n(k.reset_btn_label))),i.a.createElement("div",{className:O.searchBtnWrapper},i.a.createElement(T.a,{ref:e=>this.searchButton=e,onClick:t,"data-test-id":"adv-search-search-btn",kind:A.a.SECONDARY,title:n(k.search_btn_title),"data-iskeynav":!0,tabIndex:0,disabled:a},n(k.search_btn_label))))}}R.contextTypes={intl:n.i.isRequired};var x=R,P=a(232),w=a(1048),F=a.n(w);const L=o()(F.a),B=Object(n.h)({contains_label:{id:"advanced_search.contains_label",defaultMessage:"Contains"},attachment_label:{id:"advanced_search.attachment_label",defaultMessage:"Attachment"},photo_label:{id:"advanced_search.photo_label",defaultMessage:"Photo"},calendar_invite_label:{id:"advanced_search.calendar_invite_label",defaultMessage:"Calendar invite"}});class H extends i.a.Component{constructor(...e){var t;return t=super(...e),this.renderAttachmentCheckbox=(e=>{const{formatMessage:t}=this.context.intl,a=o()(F.a,{checkboxSelected:e});return i.a.createElement("div",{className:a.checkboxWrapper},i.a.createElement(P.a,{isChecked:e,id:"adv-search-attachment-checkbox","data-test-id":"adv-search-attachment-checkbox",onClick:this.props.onCheckboxClick.bind(null,_.n.ATTACHMENT),tabIndex:0,className:a.checkboxButton}),i.a.createElement("label",{className:a.checkboxLabel,htmlFor:"adv-search-attachment-checkbox"},t(B.attachment_label)))}),this.renderPhotoCheckbox=(e=>{const{formatMessage:t}=this.context.intl,a=o()(F.a,{checkboxSelected:e});return i.a.createElement("div",{className:a.checkboxWrapper},i.a.createElement(P.a,{isChecked:e,id:"adv-search-photo-checkbox","data-test-id":"adv-search-photo-checkbox",onClick:this.props.onCheckboxClick.bind(null,_.n.PHOTO),tabIndex:0,className:a.checkboxButton}),i.a.createElement("label",{className:a.checkboxLabel,htmlFor:"adv-search-photo-checkbox"},t(B.photo_label)))}),this.renderCalendarInviteCheckbox=(e=>{const{formatMessage:t}=this.context.intl,a=o()(F.a,{checkboxSelected:e});return i.a.createElement("div",{className:a.checkboxWrapper},i.a.createElement(P.a,{isChecked:e,id:"adv-search-calendarinvite-checkbox","data-test-id":"adv-search-calendarinvite-checkbox",onClick:this.props.onCheckboxClick.bind(null,_.n.CALENDAR_INVITE),tabIndex:0,className:a.checkboxButton}),i.a.createElement("label",{className:a.checkboxLabel,htmlFor:"adv-search-calendarinvite-checkbox"},t(B.calendar_invite_label)))}),t}render(){const{isPhotoChecked:e,isCalendarInviteChecked:t,isAttachmentChecked:a}=this.props,{formatMessage:n}=this.context.intl;return i.a.createElement("div",{className:L.checkboxContainerWrapper},i.a.createElement("div",{className:L.checkboxGroupLabelWrapper},i.a.createElement("span",{className:L.checkboxGroupLabel},n(B.contains_label))),this.renderAttachmentCheckbox(a),this.renderPhotoCheckbox(e),this.renderCalendarInviteCheckbox(t))}}H.contextTypes={intl:n.i.isRequired};var U=H,j=a(361),W=a(298),G=a(10),Z=a(3),V=a(15),q=a(8);var z=class extends i.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.handleHover=(e=>{this.setState({hovered:e})}),t}render(){const e=this.props,{colorStates:t}=e,a=babelHelpers.objectWithoutProperties(e,["colorStates"]);return i.a.createElement(V.b,babelHelpers.extends({},a,{onMouseEnter:()=>this.handleHover(!0),onMouseLeave:()=>this.handleHover(!1),colorState:this.state.hovered?t.hovered:t.normal,allowPointerEvents:!0}))}},Y=a(74),K=a(47),X=a(33),Q=a(72),$=a(13),J=a(9);const ee=o()(c.a),te=Object(q.c)(["ACCOUNT","FOLDER","ALL_MAIL"]);class ae extends i.a.Component{constructor(e){super(e),this.focus=(()=>{N.a.findDOMNode(this).focus()}),this._getDefaultAccountDescription=(e=>{const{formatMessage:t}=this.context.intl;switch(Object(K.g)(e)){case _.fb.YAHOO:case _.fb.YAHOO_SB:return t(Q.a.yahoo_account_description);case _.fb.GOOGLE:case _.fb.GOOGLE_APP:return t(Q.a.gmail_account_description);case _.fb.OUTLOOK:return t(Q.a.outlook_account_description);case _.fb.AOL:return t(Q.a.aol_account_description);default:return t(Q.a.unknown_account_description)}}),this._buildOptionList=(()=>{const{accountList:e}=this.props,{expandAccountId:t}=this.state;return e.reduce((e,a)=>(e.push({type:te.ACCOUNT,account:a,label:a.description||this._getDefaultAccountDescription(a)}),a.id===t&&(e=e.concat(this.props.getFoldersForRendering(a.id).map(e=>({type:te.FOLDER,folder:e,label:e.name})))),e),[{type:te.ALL_MAIL}])}),this.getI10nLabel=((e,t)=>{const{formatMessage:a}=this.context.intl;let s,r;if(e)if(t){s=i.a.createElement(Y.a,{folderId:t.id}),r=a(_.Dd[t.type]?Q.a.system_folder_label:Q.a.custom_folder_label)}else s=i.a.createElement(n.c,{id:"advanced_search.unknown_folder_label",defaultMessage:"{foldersField}",values:{foldersField:e}}),r=a(Q.a.unknown_folder_title);else s=i.a.createElement(n.c,{id:"advanced_search.all_mail_title",defaultMessage:"All mail"}),r=a(Q.a.all_mail_title);return{menuLabel:s,menuTitle:r}}),this.handleSearchChange=((e,t)=>{const{onFolderChange:a,onAccountChange:n,activeFolderId:s}=this.props,i=e[t],{type:r,account:o,folder:l}=i;let c={};r!==te.FOLDER?r!==te.ACCOUNT?r===te.ALL_MAIL&&(s?a(c):n(c)):n(c={accountIds:[o.id]}):a(c={folders:[l.id]})}),this.handleToggleExpandClick=((e,t)=>{const{expandAccountId:a}=this.state;t.stopPropagation(),t.preventDefault(),this.setState(e===a?{expandAccountId:null}:{expandAccountId:e})}),this.formatSelectInput=((e,t)=>{const{type:a,label:n,folder:s}=e[t];let r;if(a===te.ALL_MAIL&&(r=this.getI10nLabel(null,null)),a===te.FOLDER&&(r=this.getI10nLabel(n,s)),r){const{menuLabel:e,menuTitle:t}=r;return{optionLabel:i.a.createElement("span",{className:ee.folderFieldText},e),optionTitle:t}}return{optionLabel:i.a.createElement("span",{className:ee.folderFieldText},n),optionTitle:n}}),this.renderFolderItems=((e,t)=>{const{formatMessage:a}=this.context.intl,{label:n,folder:s}=e,{accountList:r}=this.props,{level:o}=s,l=s.id,{menuLabel:c}=this.getI10nLabel(n,s),d={paddingLeft:`${6*G.GRID_UNIT+4*G.GRID_UNIT*(o+(1===r.length?0:1))}px`};return i.a.createElement(W.a,{key:l,value:t,title:Object(X.m)(a,s.type)||n},i.a.createElement("span",{className:ee.accountContainerFolderItem,style:d},c))}),this.renderAllMailItem=(()=>{const{formatMessage:e}=this.context.intl,t=e(Q.a.all_mail_title),{menuLabel:a,menuTitle:n}=this.getI10nLabel(null,null);return i.a.createElement(W.a,{key:t,value:0,title:n},i.a.createElement("span",{className:ee.accountContainerAllMail},a))}),this.renderAccountHeader=((e,t)=>{const{expandAccountId:a}=this.state,{label:n,account:s}=e,r=s.id,o=a===r;return i.a.createElement(W.a,{key:n,value:t,title:n},i.a.createElement("div",{className:ee.accountHeaderContainer},i.a.createElement("div",{"data-test-id":"toggle-expansion-"+r,onClick:this.handleToggleExpandClick.bind(this,r),className:ee.accountContainerButtonContainer},i.a.createElement(z,{kind:Z.b.CHEVRON_UP,colorStates:{normal:Z.a.DISABLED,hovered:Z.a.SELECTED},size:Z.d.XS,rotate:o?Z.c.D180:Z.c.D90})),i.a.createElement("span",{className:ee.accountContainerAccountHeader},n)))}),this.renderMenuItems=(e=>{const{accountList:t}=this.props;return e.reduce((e,a,n)=>{const{type:s,folder:i}=a;return s===te.ALL_MAIL?e.concat(this.renderAllMailItem()):s===te.ACCOUNT&&1!==t.length?e.concat(this.renderAccountHeader(a,n)):i?e.concat(this.renderFolderItems(a,n)):e},[])});const{initialExpandedAccountId:t}=e;this.state={expandAccountId:t}}render(){const{activeFolderId:e,activeAccountId:t,tabIndex:a}=this.props,n=this._buildOptionList(),s=this.renderMenuItems(n);let r=0;return t&&(r=n.findIndex(e=>{const{type:a,account:n}=e;return a===te.ACCOUNT&&n.id===t})),e&&(r=n.findIndex(t=>{const{type:a,folder:n}=t;return a===te.FOLDER&&n.id===e})),(r<=0||r>=n.length)&&(r=0),i.a.createElement("div",{tabIndex:a,className:ee.accountContainerSelect,"data-test-id":"folder-menu-drop-down"},i.a.createElement(j.a,{selected:r,onChange:this.handleSearchChange.bind(this,n),inputFormatter:this.formatSelectInput.bind(this,n)},s))}}ae.contextTypes={intl:n.i.isRequired};var ne=Object($.b)((e,{activeFolderId:t,activeAccountId:a,defaultAccountId:n})=>{const{getFoldersSelectors:s}=Object(J.b)(e),{getAccountIdByFolderId:i}=s();return{getFoldersForRendering:t=>{const{getFoldersSelectors:a}=Object(J.b)(e),{getCustomFolderList:n,getSystemFolderList:s}=a();return[...s(t),...n(t)].filter(({type:e})=>-1===[_.sb.BULK].indexOf(e)).filter(({disabled:e})=>!e)},initialExpandedAccountId:a||(t?i(t):n)}})(ae);const se=o()(c.a),ie=Object(n.h)({search_in_label:{id:"advanced_search.search_in_label",defaultMessage:"Search in"}});class re extends i.a.Component{constructor(...e){var t;return t=super(...e),this.containsFocusedElement=(()=>Object(S.findDOMNode)(this.refs.folderMenu).contains(document.activeElement)),this.focusFolderMenu=(()=>{Object(S.findDOMNode)(this.refs.folderMenu).focus()}),t}render(){const{formatMessage:e}=this.context.intl,{accountIds:t,folders:a,accountList:n,activeAccountId:s,onFolderChange:r,onAccountChange:o}=this.props,l=t[0],c={tabIndex:0,accountList:n,onFolderChange:r,onAccountChange:o},[d]=a;return l&&Object.assign(c,{activeAccountId:l}),Object.assign(c,{defaultAccountId:s}),d&&Object.assign(c,{activeFolderId:d}),i.a.createElement("div",{className:se.inputWrapper},i.a.createElement("span",{className:se.inputLabel},e(ie.search_in_label)),i.a.createElement("div",{className:se.selectFieldContainer},i.a.createElement(ne,babelHelpers.extends({},c,{ref:"folderMenu"}))))}}re.defaultProps={folders:[],accountIds:[]},re.contextTypes={intl:n.i.isRequired};var oe=re,le=a(153),ce=a(376),de=a(186),me=a(1049),_e=a.n(me);const ue=o()(_e.a);var he={className:ue.pills,containerClassName:ue.pillsContainer,containerChildClassName:ue.pillsContainerChild,pillClassName:ue.pillOuter,typeaheadClassName:ue.typeahead,typeaheadInputClassName:ue.typeaheadInput,typeaheadInputContainerClassName:ue.typeaheadInputContainer,typeaheadInputHintClassName:ue.typeaheadInputHint,typeaheadDropDownClassName:ue.suggestionDropdown,multiple:!1,initialActiveIndex:-1,inputTabIndex:0};const pe=Object(n.h)({from_label:{id:"advanced_search.from_label",defaultMessage:"From"}});class ge extends i.a.Component{constructor(...e){var t;return t=super(...e),this.mapPropsToPillsInterface=(()=>({onInputKeyDown:this.props.onInputKeyDown,onRemove:this.props.onPillRemove,onFocus:this.props.onPillFocus,onBlur:this.props.onPillBlur,onSelect:this.props.onPillSelect,onActiveIndexChange:this.props.onActiveIndexChange})),this.renderSuggestion=((e,t,a)=>i.a.createElement(le.Option,{key:a,value:a+1},i.a.createElement(ce.a,{suggestion:t,inputValue:e}))),this.renderPill=((e,t,a,n)=>{const s=e.emailAddresses&&e.emailAddresses[0];let r=e.name;return s&&(r=`${e.name} <${s}>`),i.a.createElement(de.a,{value:s||e.name,title:r,contactEmail:s,isLastElement:t===a.length-1,isSelected:n,onPillRemove:this.props.onPillRemove,dragDropPill:this.props.dragDropPill})}),this.focusFromField=(()=>{this.input.focus&&this.input.focus()}),t}render(){const{formatMessage:e}=this.context.intl,{suggestions:t,isFocused:a,from:n,onInputChange:s,contact:r,activeSuggestion:l,showHint:d,maxContactsVisible:m}=this.props,_=t.slice(0,m),h=o()(c.a,{pillsInputFocused:a}),p=Object(u.h)(r),g=Object(u.e)(n,r,_,!!l,d),E=Object(u.g)(n);let b=null;return n&&!p&&(b=_.map((e,t)=>this.renderSuggestion(n,e,t))),i.a.createElement("div",{className:h.inputWrapper,"data-test-id":"adv-search-from-input"},i.a.createElement("span",{className:h.inputLabel},e(pe.from_label)),i.a.createElement("div",{className:h.pillsInputWrapper},i.a.createElement(le.Pills,babelHelpers.extends({ref:e=>this.input=e},he,this.mapPropsToPillsInterface(),{onInputChange:s,inputValue:p?"":E,hintValue:g,selected:Object(u.c)(r),renderPill:this.renderPill}),b)))}}ge.contextTypes={intl:n.i.isRequired},ge.defaultProps={maxContactsVisible:6};var Ee=ge;const be=Object(n.h)({to_label:{id:"advanced_search.to_label",defaultMessage:"To"}});class Ce extends i.a.Component{constructor(...e){var t;return t=super(...e),this.mapPropsToPillsInterface=(()=>({onInputKeyDown:this.props.onInputKeyDown,onRemove:this.props.onPillRemove,onFocus:this.props.onPillFocus,onBlur:this.props.onPillBlur,onSelect:this.props.onPillSelect,onActiveIndexChange:this.props.onActiveIndexChange})),this.renderSuggestion=((e,t,a)=>i.a.createElement(le.Option,{key:a,value:a+1},i.a.createElement(ce.a,{suggestion:t,inputValue:e}))),this.renderPill=((e,t,a,n)=>{const s=e.emailAddresses&&e.emailAddresses[0];let r=e.name;return s&&(r=`${e.name} <${s}>`),i.a.createElement(de.a,{value:s||e.name,title:r,contactEmail:s,isLastElement:t===a.length-1,isSelected:n,onPillRemove:this.props.onPillRemove,dragDropPill:this.props.dragDropPill})}),t}render(){const{formatMessage:e}=this.context.intl,{suggestions:t,isFocused:a,to:n,onInputChange:s,contact:r,activeSuggestion:l,showHint:d,maxContactsVisible:m}=this.props,_=t.slice(0,m),h=o()(c.a,{pillsInputFocused:a}),p=Object(u.h)(r),g=Object(u.e)(n,r,_,!!l,d),E=Object(u.g)(n);let b=null;return n&&!p&&(b=_.map((e,t)=>this.renderSuggestion(n,e,t))),i.a.createElement("div",{className:h.inputWrapper,"data-test-id":"adv-search-to-input"},i.a.createElement("span",{className:h.inputLabel},e(be.to_label)),i.a.createElement("div",{className:h.pillsInputWrapper},i.a.createElement(le.Pills,babelHelpers.extends({},he,this.mapPropsToPillsInterface(),{onInputChange:s,inputValue:p?"":E,hintValue:g,selected:Object(u.c)(r),renderPill:this.renderPill}),b)))}}Ce.contextTypes={intl:n.i.isRequired},Ce.defaultProps={maxContactsVisible:6};var fe=Ce,ve=a(99),Ie=a.n(ve),ye=a(1050),Se=a.n(ye),Ne=a(987),Te=a(46);const Ae=Ie()(o()(c.a),o()(Se.a)),Me=Object(n.h)({date_label:{id:"advanced_search.date_label",defaultMessage:"Date"},dateError:{id:"advanced_search.date_error",defaultMessage:"The End date should be greater than Start date."},any:{id:"advanced_search.datepicker.any",defaultMessage:"Any"},week:{id:"advanced_search.datepicker.week",defaultMessage:"In the last 7 days"},month:{id:"advanced_search.datepicker.month",defaultMessage:"In the last 30 days"},custom:{id:"advanced_search.datepicker.custom",defaultMessage:"Custom dates"}});class De extends i.a.Component{constructor(...e){var t;return t=super(...e),this.handleDateRangeChange=(e=>{this.props.onChange(Object(u.d)(e,new Date))}),this.handleDatePickerChange=((e,t)=>{this.props.onChange({startDate:Object(Te.m)(e),endDate:Object(Te.m)(t)})}),this._renderDatePicker=(()=>{const{formatMessage:e}=this.context.intl,{startDate:t,endDate:a}=Object(u.a)(this.props.startDate,this.props.endDate),n=this.props.showErrors&&t>a?Me.dateError:null;return i.a.createElement("div",{className:Ae.dateRangeWrapper},i.a.createElement(Ne.a,{startDate:t,endDate:a,onChange:this.handleDatePickerChange,disableErrors:this.props.disableErrors,enableErrors:this.props.enableErrors,useISODateFormat:!0}),n&&i.a.createElement("div",{"data-test-id":"advanced-search-datepicker-error",className:Ae.error},e(n)))}),t}shouldComponentUpdate(e){return this.props.startDate!==e.startDate||this.props.endDate!==e.endDate||this.props.showErrors!==e.showErrors}render(){const{formatMessage:e}=this.context.intl,{startDate:t,endDate:a}=this.props,n=Object(u.f)(t,a),s=n===h.a.CUSTOM;return i.a.createElement("div",{className:Ae.dateFieldWrapper,"data-test-id":"adv-search-date-field"},i.a.createElement("span",{className:Ae.inputLabel},e(Me.date_label)),i.a.createElement("div",{className:Ae.selectbox,"data-test-id":"adv-search-date-option"},i.a.createElement(j.a,{selected:n,onChange:this.handleDateRangeChange},h.d.map(t=>i.a.createElement(W.a,{key:t,value:t},e(Me[t])))),s&&this._renderDatePicker()))}}De.contextTypes={intl:n.i.isRequired};var Oe=De;const ke=o()(c.a),Re={FROM:"from",TO:"to"};class xe extends i.a.Component{constructor(e,t){super(e,t),Pe.call(this);const{inputValue:a}=e.searchInput,{fromPillContact:n,toPillContact:s}=this.initializePillContacts(a);this.state={fromPillContact:n,toPillContact:s,activeSuggestion:null,showFromInputHint:!1,showToInputHint:!1,fromInputFocused:!1,toInputFocused:!1,folderMenuActive:!1,showErrors:!0}}componentWillReceiveProps(e){const{inputValue:t=""}=e.searchInput||{},{fromPillContact:a,toPillContact:n}=this.initializePillContacts(t);let s={},i={};this.hasPillContact(Re.FROM)&&(s=a),this.hasPillContact(Re.TO)&&(i=n),this.setState({fromPillContact:s,toPillContact:i})}componentDidMount(){this.fromField.focusFromField()}render(){const{style:e,searchInput:t,accountList:a,activeAccountId:n,dragDropPill:s,tutorial:r}=this.props,{fromField:o,toField:l,subjectField:c,keywordField:d,beforeField:m,afterField:u,attachmentField:h,imageField:p,calendarInviteField:g}=this.getAdvancedSearchFieldValues(t.inputValue),{accountIds:E,folders:b}=t,f=!this.state.showErrors||new Date(u)>new Date(m);return i.a.createElement("div",{"data-test-id":"advanced-search-pane",ref:"advancedSearchPane",className:ke.paneContainer,style:e,onClick:this.handleClick,onKeyDown:this.handleKeyDown},i.a.createElement(oe,{ref:"folders",accountList:a,activeAccountId:n,folders:b,accountIds:E,tutorial:r,onFolderChange:this.handleFolderChange,onAccountChange:this.handleAccountChange}),i.a.createElement(Ee,babelHelpers.extends({},this.getPillProps(Re.FROM),{ref:e=>this.fromField=e,from:o,suggestions:this.props.suggestions,activeSuggestion:this.state.activeSuggestion,isFocused:this.state.fromInputFocused,showHint:this.state.showFromInputHint,contact:this.state.fromPillContact,onInputChange:this.handleFromInputChange,dragDropPill:s})),i.a.createElement(fe,babelHelpers.extends({},this.getPillProps(Re.TO),{to:l,suggestions:this.props.suggestions,activeSuggestion:this.state.activeSuggestion,isFocused:this.state.toInputFocused,showHint:this.state.showToInputHint,contact:this.state.toPillContact,onInputChange:this.handleToInputChange,dragDropPill:s})),i.a.createElement(C,{onChange:this.handleSubjectInputChange,onClear:this.handleClearBtnClick.bind(this,_.n.SUBJECT),subject:c}),i.a.createElement(y,{onChange:this.handleKeywordInputChange,onClear:this.handleClearBtnClick.bind(this,_.n.KEYWORD),keyword:d}),i.a.createElement(Oe,{startDate:u,endDate:m,onChange:this.handleDateChange,showErrors:this.state.showErrors,enableErrors:()=>this.setState({showErrors:!0}),disableErrors:()=>this.setState({showErrors:!1})}),i.a.createElement(U,{isPhotoChecked:p,isAttachmentChecked:h,isCalendarInviteChecked:g,onCheckboxClick:this.handleCheckboxClick}),i.a.createElement(x,{ref:"footer",onReset:this.handleReset,onSubmit:this.props.onSearchSubmit,disabled:f}))}}xe.contextTypes={intl:n.i.isRequired},xe.defaultProps={searchInput:{inputValue:"",accountIds:[],folders:[]},suggestions:[]};var Pe=function(){this.initializePillContacts=(e=>{const{fromField:t,toField:a}=this.getAdvancedSearchFieldValues(e),n={},s={};return t&&(n.emailAddresses=[t]),a&&(s.emailAddresses=[a]),{fromPillContact:n,toPillContact:s}}),this.hasPillContact=(e=>{const{fromPillContact:t,toPillContact:a}=this.state,{name:n,emailAddresses:s=[]}=e===Re.FROM?t:a;return!(!n&&!s[0])}),this.getPills=(e=>{const{fromPillContact:t,toPillContact:a}=this.state;return this.hasPillContact(e)?e===Re.FROM?[t]:[a]:[]}),this.clearPill=(e=>{e===Re.FROM?(this.setState({fromPillContact:{}}),this.handleFromInputChange("")):(this.setState({toPillContact:{}}),this.handleToInputChange(""))}),this.handleSuggestionSelect=((e,t)=>{const a=this.props.suggestions[t-1],{emailAddresses:n,name:s}=Object(u.j)(a);Object(d.a)(n&&n.length>0,"emailAddresses missing for the suggestion");const i={activeSuggestion:null};e===Re.FROM?(this.handleFromInputChange(n[0]),i.fromPillContact={name:s,emailAddresses:n}):(this.handleToInputChange(n[0]),i.toPillContact={name:s,emailAddresses:n}),this.setState(i)}),this.handleClearBtnClick=(e=>{const{inputValue:t}=this.props.searchInput,a=Object.assign({},Object(m.e)(t),{[e]:""});this.props.onSearchChange(Object(m.b)(a))}),this.handlePillsInputFocus=(e=>{const t={};e===Re.FROM?t.fromInputFocused=!0:t.toInputFocused=!0,this.setState(t)}),this.handlePillsInputBlur=(e=>{const t={};e===Re.FROM?(t.fromInputFocused=!1,t.showFromInputHint=!1):(t.toInputFocused=!1,t.showToInputHint=!1),this.setState(t)}),this.handlePillsInputKeyDown=((e,t)=>{const{suggestions:a,searchInput:n}=this.props,{inputValue:s}=n,{fromField:i,toField:r}=this.getAdvancedSearchFieldValues(s),o=!this.hasPillContact(e)&&i&&a.length,l=!this.hasPillContact(e)&&r&&a.length;switch(t.key){case"Enter":case"Tab":break;case"Backspace":this.hasPillContact(e)&&this.clearPill(e),this.setState({activeSuggestion:null});break;case"Escape":(e===Re.FROM&&o||e===Re.TO&&l)&&t.stopPropagation(),this.setState({activeSuggestion:null});break;default:this.hasPillContact(e)&&t.preventDefault()}}),this.handleFolderChange=(({folders:e})=>{const{inputValue:t=""}=this.props.searchInput,a=Object.assign({},Object(m.e)(Object(m.c)(m.a.FOLDERS,t)),{[_.n.FOLDERS]:""});this.props.onSearchChange(Object(m.b)(a),{folders:e||[]})}),this.handleAccountChange=(({accountIds:e})=>{const{inputValue:t=""}=this.props.searchInput,a=Object.assign({},Object(m.e)(Object(m.c)(m.a.FOLDERS,t)),{[_.n.FOLDERS]:""});this.props.onSearchChange(Object(m.b)(a),{accountIds:e||[]})}),this.handleFromInputChange=(e=>{const{searchInput:t,onSearchChange:a}=this.props,{inputValue:n}=t;e=-1!==e.indexOf('"')?e.replace(/"/g,""):e;const s=Object.assign({},Object(m.e)(Object(m.c)(m.a.FROM,n)),{[_.n.FROM]:-1!==e.indexOf(" ")?`"${e}"`:e});this.setState({showFromInputHint:!0,activeSuggestion:null},()=>{a(Object(m.b)(s),{suggestionsKeyword:e})})}),this.handleToInputChange=(e=>{const{searchInput:t,onSearchChange:a}=this.props,{inputValue:n}=t;e=-1!==e.indexOf('"')?e.replace(/"/g,""):e;const s=Object.assign({},Object(m.e)(Object(m.c)(m.a.TO,n)),{[_.n.TO]:-1!==e.indexOf(" ")?`"${e}"`:e});this.setState({showToInputHint:!0,activeSuggestion:null},()=>{a(Object(m.b)(s),{suggestionsKeyword:e})})}),this.handleSubjectInputChange=(e=>{const{inputValue:t}=this.props.searchInput,a=e.target.value,n=Object.assign({},Object(m.e)(Object(m.c)(m.a.SUBJECT,t)),{[_.n.SUBJECT]:-1!==a.indexOf(" ")?`"${a}"`:a});this.props.onSearchChange(Object(m.b)(n))}),this.handleKeywordInputChange=(e=>{const{inputValue:t}=this.props.searchInput,a=Object.assign({},Object(m.e)(t,!0),{[_.n.KEYWORD]:e.target.value});this.props.onSearchChange(Object(m.b)(a))}),this.handleDateChange=(({startDate:e,endDate:t})=>{const{inputValue:a}=this.props.searchInput,n=Object(m.c)(m.a.BEFORE,a),s=Object(m.c)(m.a.AFTER,n),i=Object.assign({},Object(m.e)(s),{[_.n.BEFORE]:t,[_.n.AFTER]:e});Object(u.f)(e,t)!==h.a.CUSTOM&&this.setState({showErrors:!0}),this.props.onSearchChange(Object(m.b)(i))}),this.handleCheckboxClick=(e=>{const{inputValue:t}=this.props.searchInput,a=Object(m.e)(t),n=Object.assign({},a,{[e]:!a[e]});this.props.onSearchChange(Object(m.b)(n))}),this.trimQuotedFieldValue=(e=>{const[,t]=e.match(/^"([^"]*)"$/)||[];return t&&-1!==t.indexOf(" ")?t:e}),this.updatedSelectedSuggestion=((e,t)=>{const{suggestions:a}=this.props;this.hasPillContact(e)||this.setState({activeSuggestion:a[t]})}),this.getPillProps=(e=>({onInputKeyDown:this.handlePillsInputKeyDown.bind(this,e),onPillRemove:this.clearPill.bind(this,e),onPillFocus:this.handlePillsInputFocus.bind(this,e),onPillBlur:this.handlePillsInputBlur.bind(this,e),onPillSelect:this.handleSuggestionSelect.bind(this,e),onActiveIndexChange:this.updatedSelectedSuggestion.bind(this,e)})),this.handleReset=(()=>{this.setState({folderMenuActive:!1,showErrors:!0}),this.props.onSearchChange("",{folders:[]})}),this.handleClick=(()=>{this.setState({folderMenuActive:!1})}),this.handleKeyDown=(e=>{switch(e.key){case"Tab":e.stopPropagation(),this.refs.footer.isSearchButtonFocused()&&!e.shiftKey?(e.preventDefault(),this.refs.folders.focusFolderMenu()):this.refs.folders.containsFocusedElement()&&e.shiftKey&&(e.preventDefault(),this.refs.footer.focusSearchButton())}}),this.getAdvancedSearchFieldValues=((e="")=>{const t=Object(m.e)(e,!0);return{foldersField:this.trimQuotedFieldValue(t[_.n.FOLDERS]||""),fromField:this.trimQuotedFieldValue(t[_.n.FROM]||""),toField:this.trimQuotedFieldValue(t[_.n.TO]||""),subjectField:this.trimQuotedFieldValue(t[_.n.SUBJECT]||""),keywordField:t[_.n.KEYWORD]||"",beforeField:t[_.n.BEFORE]||"",afterField:t[_.n.AFTER]||"",attachmentField:t[_.n.ATTACHMENT]||!1,imageField:t[_.n.PHOTO]||!1,calendarInviteField:t[_.n.CALENDAR_INVITE]||!1}})},we=xe;a.d(t,"mapStateToProps",function(){return Fe});const Fe=e=>{const{getFeaturesSelectors:t}=Object(J.b)(e),a=t();return{dragDropPill:a.isEnabled("dragDropPill"),tutorial:a.isEnabled(_.kb.TUTORIAL)}};t.default=Object($.b)(Fe)(we)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(13),r=a(2),o=a.n(r),l=a(9),c=a(0),d=a(4),m=a(1222),_=a.n(m),u=a(96),h=a.n(u),p=a(15),g=a(981),E=a(3),b=a(361),C=a(298);var f=({onChange:e,selected:t,label:a,options:n,classNames:s,arrowDownColor:i})=>o.a.createElement("div",{className:s.selector},o.a.createElement(b.a,{onChange:e,selected:t,classNames:s,arrowDownColor:i},n.map(e=>o.a.createElement(C.a,{key:e,value:e},e))),o.a.createElement("span",{className:s.selectorLabel,title:a},a)),v=a(1223),I=a.n(v),y=a(11),S=a.n(y),N=a(129),T=a.n(N);class A extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={inputText:"",activeIndex:0},this.getHint=((e,t,a)=>{if(!e||!t||!t.length||this.state.selected)return"";return e+(this.props.getHint(t[a]||{})||"").substr(e.length)}),this.handleInputChange=(e=>{this.setState({inputText:e,selected:!1}),this.props.onInputChange(e)}),this.handleSelect=(e=>{this.setState({inputText:this.props.getHint(e),selected:!0}),this.props.onValueChange(e)}),this.handleActiveIndexChange=(e=>{this.setState({activeIndex:e})}),t}render(){const{inputText:e,activeIndex:t}=this.state,a=this.props.classNames,n=S()(I.a);return o.a.createElement(T.a,{placeholder:this.props.placeholder,maxVisible:10,inputValue:e,onInputChange:this.handleInputChange,hintValue:this.getHint(e,this.props.suggestions,t),onSelect:this.handleSelect,onActiveIndexChange:this.handleActiveIndexChange,className:a.typeahead||n.typeahead,inputContainerClassName:a.typeaheadInputContainer||n.typeaheadInputContainer,inputClassName:a.typeaheadInput||n.typeaheadInput,inputHintClassName:a.typeaheadInputHint||n.typeaheadInputHint,dropDownClassName:a.typeaheadDropDown||n.typeaheadDropDown},this.props.suggestions.map((e,t)=>o.a.createElement(N.Option,{key:t,className:a.typeaheadOption||n.typeaheadOption,value:e},this.props.getHint(e))))}}A.defaultProps={suggestions:[],classNames:{},getHint:e=>e};var M=A,D=a(335),O=a(1);function k({i13nModel:e}){return{type:O.a.NAVIGATE_TO_HIPMUNK,i13nModel:e}}function R({i13nModel:e}){return{type:O.a.HIPMUNK_CARD_RENDERED,i13nModel:e}}function x({i13nModel:e}){return{type:O.a.NAVIGATE_TO_BOOKING,i13nModel:e}}function P({i13nModel:e}){return{type:O.a.BOOKING_CARD_RENDERED,i13nModel:e}}var w=a(45),F=a.n(w),L=a(1026),B=a.n(L),H=a(16),U=a(29),j=a(363);const W=(e,t)=>{const a=t.getThemeMode(),n=a===U.f.DARK||a===U.f.MEDIUM,s=t.getCss(B.a,{isDarkTheme:n});return o.a.createElement("div",{"data-test-id":"right-rail-travel-card",className:s.container},e.header?o.a.createElement("div",{className:s.header},o.a.createElement("span",{className:s.headerText},e.header),o.a.createElement("span",{className:s.partnerAttributionIcon},o.a.createElement(j.a,{isOnDarkBackground:n,noVigLinkCheck:!0}))):null,o.a.createElement("div",{className:e.headerClassName,onClick:e.onLogoClick},o.a.createElement("div",{className:s.icon},o.a.createElement(p.b,{kind:e.iconKind,size:E.d.XXS,colorState:E.a.INVERTED}),o.a.createElement("div",{className:s.title},e.title)),o.a.createElement("img",{src:e.logoUrl,className:s.partnerLogo})),e.children,e.buttonText?o.a.createElement(H.a,{"data-test-id":"submit-button",title:e.buttonText,onClick:e.onSubmit,className:s.submitButton},e.buttonText):null)};W.contextTypes={getCss:s.a.func,getThemeMode:s.a.func};var G=W,Z=a(5),V=a(12),q=a(366),z=a(60),Y=a(7);const K=Object(d.h)({search_hotels:{id:"hotel_card.search_hotels",defaultMessage:"Search hotels"},yahoo_travel_deals:{id:"travel_card.title",defaultMessage:"Yahoo Travel Deals"},hotel:{id:"hotel_card.hotel",defaultMessage:"Hotel"},adults:{id:"hotel_card.adults",defaultMessage:"Adults(18+)"},children:{id:"hotel_card.children",defaultMessage:"Children"},destination:{id:"hotel_card.destination",defaultMessage:"Destination"}});class X extends o.a.Component{constructor(...e){var t;return t=super(...e),this.state={destination:"",startDate:new Date,endDate:new Date(Date.now()+q.e),adults:1,children:0,searchURL:""},this.getLocationSuggestions=(e=>this.props.locationSuggestions[e]||[]),this.setDestinationInfo=(e=>{this.setState({destination:this.isHipmunk?e.display_name:e.label,searchURL:this.isHipmunk?"":`${e.url}&`})}),this.onDestinationInputChange=(e=>{this.DestinationKeyword=e,!this.props.locationSuggestions[e]&&e&&(this.isHipmunk||e.length>2)&&this.props.requestLocationSearchSuggestions(e,this.props.partner)}),this.submitToPartnerSite=(()=>{let e={};const{startDate:t,endDate:a,destination:n,adults:s,children:i}=this.state;e=this.isHipmunk?{where:n,check_in:t.toDateString(),check_out:a.toDateString(),guests:s+i,rooms:1}:{checkin:`${t.getFullYear()}-${t.getMonth()+1}-${t.getDate()}`,checkout:`${a.getFullYear()}-${a.getMonth()+1}-${a.getDate()}`,group_adults:s,group_children:i,no_rooms:1},this.navigateToPartnerSite(F.a.stringify(e))}),this.setStartDate=(e=>{this.setState(this.state.endDate-e<q.e?{startDate:e,endDate:new Date(e.getTime()+q.e)}:{startDate:e})}),this.setEndDate=(e=>{this.setState(e<this.state.startDate?{startDate:e,endDate:e}:{endDate:e})}),this.navigateToPartnerSite=((e="")=>{let t=this.isHipmunk?q.f:e&&this.state.searchURL?this.state.searchURL:`${q.a}&`;this.props.navigateToPartnerSite(this.isHipmunk?k:x,{i13nModel:{mKey:this.isHipmunk?Z.e.NAVIGATE_TO_HIPMUNK:Z.e.NAVIGATE_TO_BOOKING,sec:Z.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:Z.d.click}}),this.isHipmunk||(t+=`label=${this.props.isTravelSmartView?q.d:q.c}&`),window.open(t+e)}),this.renderForm=(()=>{const{arrivalDate:e,departureDate:t,arrivalAirportDesc:a}=this.props,n=this.context.getThemeMode(),s=n===U.f.DARK||n===U.f.MEDIUM,i=this.context.getCss(_.a,{isDarkTheme:s}),{formatMessage:r}=this.context.intl;return o.a.createElement("form",{className:i.form,"data-test-id":"hotels-card-form"},o.a.createElement("div",{className:i.formRow},o.a.createElement("div",{className:i.locationSelector,"data-test-id":"destination-field"},o.a.createElement(p.b,{kind:E.b.LOCATION_MARKER,size:E.d.XXS,colorState:E.a.INHERITED}),o.a.createElement(M,{placeholder:a||r(K.destination),classNames:i,suggestions:this.getLocationSuggestions(this.DestinationKeyword),onInputChange:this.onDestinationInputChange,onValueChange:this.setDestinationInfo,getHint:e=>this.isHipmunk?e.display_name:e.label}))),o.a.createElement("div",{className:i.formRow,"data-test-id":"date-field"},o.a.createElement("div",{className:i.formColumnUnderline},o.a.createElement(g.a,{classNames:i,value:t||this.state.startDate,onStartEdit:()=>{},onDoneEdit:()=>{},onChange:e=>this.setStartDate(e)})),o.a.createElement("span",{className:i.arrow},o.a.createElement(p.b,{kind:E.b.ARROW_UP,size:E.d.XS,colorState:E.a.INHERITED})),o.a.createElement("div",{className:i.formColumnUnderline},o.a.createElement(g.a,{classNames:i,value:e||this.state.endDate,onStartEdit:()=>{},onDoneEdit:()=>{},onChange:e=>this.setEndDate(e),popoverAlign:V.a.END}))),o.a.createElement("div",{className:i.formRow},o.a.createElement("div",{className:i.formColumn,"data-test-id":"adults-selector"},o.a.createElement(f,{onChange:e=>this.setState({adults:e}),selected:this.state.adults,classNames:i,options:[1,2,3,4,5,6],label:r(K.adults),arrowDownColor:s&&E.a.INVERTED_LESS_DIM})),o.a.createElement("span",{className:i.divider}),o.a.createElement("div",{className:i.formColumn,"data-test-id":"children-selector"},o.a.createElement(f,{onChange:e=>this.setState({children:e}),selected:this.state.children,classNames:i,options:[0,1,2,3,4,5],label:r(K.children),arrowDownColor:s&&E.a.INVERTED_LESS_DIM}))))}),t}componentWillMount(){this.isHipmunk=this.props.partner===q.h.HIPMUNK}componentDidMount(){this.props.cardRendered(this.isHipmunk?R:P,{i13nModel:{mKey:this.isHipmunk?Z.e.HIPMUNK_CARD_RENDERED:Z.e.BOOKING_CARD_RENDERED,sec:Z.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:Z.d.nav}})}render(){const e=this.context.getCss(_.a),{formatMessage:t}=this.context.intl,a=this.isHipmunk?q.g:q.b;return o.a.createElement(G,{header:t(K.yahoo_travel_deals),title:t(K.hotel),logoUrl:Object(z.a)(a),onSubmit:this.submitToPartnerSite,buttonText:t(K.search_hotels),headerClassName:e.hotelCardHeader,iconKind:E.b.HOTELS,onLogoClick:this.navigateToPartnerSite},this.renderForm())}}X.contextTypes={getCss:s.a.func,intl:d.i.isRequired,store:s.a.object,getThemeMode:s.a.func};var Q=Object(i.b)(e=>{const{getFlightsSelectors:t,getTravelCardListItems:a,getRoute:n,getFeaturesSelectors:s,getLocationSuggestionSelectors:i,getSmartViewTypeFromRoute:r}=Object(l.b)(e),o=n(),d=Object(Y.t)(o),{isEnabled:m}=s(),_=m(c.kb.CONVERSATIONS),u=m(c.kb.HOTELS_CARD_PREFILL),h=Date.now(),p=u?a(d,_,h):"",g=p&&p.length?p[0].id:"",{getFlightCard:E}=t(),{arrivalTime:b,departureTime:C,arrivalAirportDesc:f}=g?E(g):"",v=b?new Date(b):null,I=C?new Date(C):null,y=r(o)===c.td.TRAVEL;return{locationSuggestions:i().getLocationSuggestionsMap(),arrivalDate:v,departureDate:I,arrivalAirportDesc:f,isTravelSmartView:y}},e=>({requestLocationSearchSuggestions:h()((t,a)=>e(Object(D.c)({query:{keyword:t,product:"hotels"},partner:a})),200),navigateToPartnerSite:(t,a)=>e(t(a)),cardRendered:(t,a)=>e(t(a))}))(X),$=a(1224),J=a.n($);a(8);var ee=({iconKind:e,title:t,onClick:a,className:n})=>o.a.createElement("div",{onClick:a,className:n},o.a.createElement(p.b,{kind:e,size:E.d.XS,colorState:E.a.INHERITED}),o.a.createElement("span",null,t));const te={ENTER:13},ae=Object(d.h)({sports:{id:"ticket_card.sports",defaultMessage:"Sports"},concerts:{id:"ticket_card.concert",defaultMessage:"Concerts"},theaters:{id:"ticket_card.theaters",defaultMessage:"Theaters"},searchByCity:{id:"ticket_card.search_by_city",defaultMessage:"Search by city"},browseByCategory:{id:"ticket_card.browse_by_category",defaultMessage:"Browse by category"},ticket:{id:"ticket_card.ticket",defaultMessage:"Ticket"}});class ne extends o.a.Component{constructor(){super(),this.city="",this.handleCityInputChange=h()(this.handleCityInputChange.bind(this),200),this.setCity=this.setCity.bind(this),this.searchByCity=this.searchByCity.bind(this),this.navigateToSeatgeek=this.navigateToSeatgeek.bind(this),this.handleInputKeyDown=this.handleInputKeyDown.bind(this),this.state={citySuggestions:q.k}}handleCityInputChange(e){this.inputValue=e;const t=q.k.filter(t=>-1!==t.name.toLowerCase().indexOf(e.toLowerCase()));this.setState({citySuggestions:t})}handleInputKeyDown(e){e.keyCode!==te.ENTER||0!==this.state.citySuggestions.length&&!this.city?this.city="":this.searchByCity()}setCity(e){this.city=e.value}navigateToSeatgeek(e=q.j,t={}){this.props.navigateToSeatgeek({i13nModel:{mKey:Z.e.NAVIGATE_TO_SEATGEEK,sec:Z.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:Z.d.click,actionData:{url:e,query:t}}}),window.open(`${e}?${F.a.stringify(babelHelpers.extends({},t,{aid:q.i}))}`,"_blank")}searchByCity(){this.city?this.navigateToSeatgeek(q.l+this.city):this.navigateToSeatgeek(q.n,{f:1,search:this.inputValue})}renderSearchBar(e){const{formatMessage:t}=this.context.intl;return o.a.createElement("div",{onKeyDown:this.handleInputKeyDown,className:e.searchBar},o.a.createElement(M,{placeholder:t(ae.searchByCity),classNames:e,suggestions:this.state.citySuggestions,onInputChange:this.handleCityInputChange,onValueChange:this.setCity,getHint:e=>e.name}),o.a.createElement("div",{className:e.searchBarIcon,onClick:this.searchByCity},o.a.createElement(p.b,{kind:E.b.SEARCH,size:E.d.S,colorState:E.a.INVERTED})))}renderForm(e){const{formatMessage:t}=this.context.intl;return o.a.createElement("div",{className:e.form},this.renderSearchBar(e),o.a.createElement("span",{className:e.categorySearchTitle},t(ae.browseByCategory)),o.a.createElement("div",{className:e.buttonGroup},o.a.createElement(ee,{iconKind:E.b.SPORTS,title:t(ae.sports),className:e.ticketCardButton,onClick:()=>this.navigateToSeatgeek(q.o)}),o.a.createElement(ee,{iconKind:E.b.CONCERTS,title:t(ae.concerts),className:e.ticketCardButton,onClick:()=>this.navigateToSeatgeek(q.m)}),o.a.createElement(ee,{iconKind:E.b.THEATERS,title:t(ae.theaters),className:e.ticketCardButton,onClick:()=>this.navigateToSeatgeek(q.p)})))}componentDidMount(){this.props.seatgeekCardRendered({i13nModel:{mKey:Z.e.SEATGEEK_CARD_RENDERED,sec:Z.g.RIGHT_RAIL_TRAVEL_CARD,interactionType:Z.d.nav}})}render(){const e=this.context.getThemeMode(),t=e===U.f.DARK||e===U.f.MEDIUM,a=S()(J.a,{isDarkTheme:t}),{formatMessage:n}=this.context.intl;return o.a.createElement(G,{logoUrl:Object(z.a)("/img/logo_seatgeek.png"),title:n(ae.ticket),headerClassName:a.ticketCardHeader,iconKind:E.b.TICKETS,onLogoClick:()=>this.navigateToSeatgeek()},this.renderForm(a))}}ne.contextTypes={intl:d.i.isRequired,getThemeMode:s.a.func};var se=Object(i.b)(null,e=>({navigateToSeatgeek:t=>e(function({i13nModel:e}){return{type:O.a.NAVIGATE_TO_SEATGEEK,i13nModel:e}}(t)),seatgeekCardRendered:t=>e(function({i13nModel:e}){return{type:O.a.SEATGEEK_CARD_RENDERED,i13nModel:e}}(t))}))(ne);a.d(t,"TravelCardsGroup",function(){return ie});class ie extends o.a.Component{render(){const{hipmunkCard:e,bookingCard:t,seatgeekCard:a}=this.props,n=t?q.h.BOOKING:q.h.HIPMUNK,s=this.context.getCss(B.a);return o.a.createElement("div",{className:s.travelCardsContainer},e||t?o.a.createElement(Q,{key:"HotelsCard",partner:n}):null,a?o.a.createElement(se,{key:"SeatgeekCard"}):null)}}ie.contextTypes={getCss:s.a.func};t.default=Object(i.b)(e=>{const{isFeatureEnabled:t}=Object(l.b)(e);return{hipmunkCard:t(c.kb.HIPMUNK_CARD),bookingCard:t(c.kb.BOOKING_CARD),seatgeekCard:t(c.kb.SEATGEEK_CARD)}})(ie)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(9),c=a(1072),d=a.n(c),m=a(11),_=a.n(m),u=a(7),h=a(0),p=a(1073),g=a.n(p),E=a(4),b=a(901),C=a(1074),f=a.n(C);const v=_()(f.a),I=Object(E.h)({gifItemTooltip:{id:"compose.gif.item.tooltip",defaultMessage:"Click to insert"}});class y extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1,thumbnailLoaded:!1,betterImgFetched:!1},this._onMouseOver=(()=>{const{hovered:e,betterImgFetched:t}=this.state;e||this.setState({hovered:!0},()=>{if(!t){const e=new Image;e.src=this.props.url,e.onload=(()=>this._isMounted&&this.setState({betterImgFetched:!0}))}})}),this._onImageLoaded=(()=>{this._isMounted&&!this.state.thumbnailLoaded&&this.setState({thumbnailLoaded:!0})}),t}componentDidMount(){this._isMounted=!0}componentWillUnmount(){this._isMounted=!1}render(){const{height:e,url:t,width:a,onClick:n,thumbnail:s}=this.props,{thumbnailLoaded:i,betterImgFetched:o,hovered:l}=this.state;return r.a.createElement("span",{onMouseOver:this._onMouseOver,onMouseLeave:()=>this.setState({hovered:!1}),onClick:n,className:v.container,"data-test-id":"tile-image"},r.a.createElement("img",{className:v.img,style:{width:a,height:e},src:i&&o?t:s,onLoad:this._onImageLoaded}),l?r.a.createElement("div",{className:v.overlay,style:{height:e},title:this.context.intl.formatMessage(I.gifItemTooltip),"data-test-id":"gif-overlay"}):null)}}y.contextTypes={intl:E.i.isRequired},y.defaultProps={onClick:()=>{}};var S=y,N=a(1075),T=a.n(N);const A=_()(T.a),M=Object(E.h)({gifLabel:{id:"gif.tile_images.arial_label",defaultMessage:"GIF"}});class D extends r.a.Component{constructor(...e){var t;return t=super(...e),this._mediaTable=(e=>{const{maxHeight:t,layoutWidth:a}=this.props,n=Math.min(a,t),s=Math.floor(n),i=e.map(e=>{let t=e.height,a=e.width,n=e.downloadLink;if(e.source===h.w.TUMBLR){const i=function(e,t){let a=Number.MAX_VALUE,n=-1;return e.forEach(({height:e,width:s},i)=>{const r=Math.abs(t-Math.max(e,s));r<a&&(a=r,n=i)}),e[n]}(e.thumbnails,s);t=i.height,a=i.width,n=i.url}return{id:e.id,width:a,height:t,url:n,thumbnail:e.thumbnail,originalItem:e}});return new b.MediaTable(i,{layoutWidth:a,maxRows:0,maxAspect:a/s*2,maxClippedRows:0,wholeRowsOnly:!1,imgMargin:4,singleImgWidth:Math.round(.7*a),maxSingleImgHeight:s,maxRowHeight:s,idProp:"id"})}),this._onItemClick=(e=>{this.props.onItemClick(e)}),this._renderRow=((e,t)=>e.items.map(e=>{const a=t[e.id],n=Math.floor(a.width),s=Math.floor(a.height);return this._renderItem(e,n,s)})),this._renderItem=((e,t,a)=>{const{originalItem:n,url:s,thumbnail:i}=e,{formatMessage:o}=this.context.intl;return r.a.createElement(S,{"aria-label":o(M.gifLabel),"data-id":e.id,height:a,key:e.id,onClick:this._onItemClick.bind(null,n),role:"Menuitem",tabIndex:"0",url:s,width:t,thumbnail:i})}),this._calcRenderProps=(e=>{const t=[];let a,n,s;for(a=0;a<e.items.length;a++)s=e.getRow((n=e.items[a]).id),t[n.id]=s.getMeta(n.id);return t}),t}render(){const{results:e}=this.props,t=this._mediaTable(e),a=t.rows,n=this._calcRenderProps(t);return r.a.createElement("div",null,a.map((e,t)=>r.a.createElement("div",{key:"row-"+t,className:A.rowContainer},this._renderRow(e,n))))}}D.contextTypes={intl:E.i.isRequired},D.defaultProps={results:[]};var O=D,k=a(1076),R=a.n(k),x=a(196),P=a.n(x),w=a(56);const F=230,L=300,B=_()(R.a);var H=class extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onScroll=(()=>{this._loadMoreWhenAtBottom()}),this._loadMoreWhenAtBottom=(()=>{if(!this._scroller||this.props.isLoading)return;const{clientHeight:e,scrollTop:t,scrollHeight:a}=this._scroller;e+t>=a-F/2&&this.props.onLoadMore()}),t}componentWillMount(){this.onScroll=P()(this.onScroll,L,{leading:!0})}componentDidMount(){this._loadMoreWhenAtBottom()}componentWillReceiveProps(e){this._scroller&&this.props.query&&e.query&&this.props.query.toLowerCase().trim()!==e.query.toLowerCase().trim()&&(this._scroller.scrollTop=0)}render(){return r.a.createElement("div",{className:B.container,ref:e=>this._scroller=e,onScroll:this.onScroll,"data-test-id":"scroller"},this.props.children,this.props.isLoading&&r.a.createElement("div",{className:B.gifLoadingSection},r.a.createElement(w.b,{size:w.a.M})))}};const U=_()(g.a);var j=class extends r.a.Component{componentDidMount(){this.props.status===h.Mc.DOES_NOT_EXIST&&this.props.fetchGIF({query:this.props.query})}componentWillReceiveProps(e){e.width!==this.props.width&&(this.containerWidth=null)}render(){const{gifs:e,onItemClick:t,query:a,width:n,fetchGIF:s,status:i}=this.props;return i===h.Mc.DOES_NOT_EXIST||i===h.Mc.LOADING&&0===e.length?r.a.createElement(w.b,{size:w.a.M}):e.length?r.a.createElement(H,{onLoadMore:()=>s({query:a,fetchMoreItems:!0}),isLoading:i!==h.Mc.LOADED,query:a},r.a.createElement("div",{ref:e=>{!this.containerWidth&&e&&(this.containerWidth=e.clientWidth,this.forceUpdate())}},r.a.createElement(O,{maxHeight:F,layoutWidth:this.containerWidth||n,results:e,onItemClick:t}))):r.a.createElement("p",{className:U.errMsg,"data-test-id":"err-msg"},r.a.createElement(E.c,{id:"gif_not_found",defaultMessage:"GIFs are not found. Please try another search."}))}};var W=Object(o.b)((e,t)=>{const a=t.query.toLowerCase().trim(),{getCurrentListId:n,getListsSelectors:s,getGifItemsSelectors:i,getGifCategoriesSelectors:r}=Object(l.b)(e),{doesListExist:o,getListStatus:c,getItemIdsSelectors:d}=s(),m=Object(u.Q)(n(),{listContentType:h.Db.GIFS,keyword:a,listFilter:h.Eb.GIFS});let _=[],p=h.Mc.DOES_NOT_EXIST;if(r().isGifCategoryQuery(a)){const e=Object(u.Q)(n(),{listContentType:h.Db.GIFS,keyword:a,listFilter:h.Eb.GIFS});o(e)&&(_=d(e).getItemIds(),p=c(e))}o(m)&&(_=_.concat(d(m).getItemIds()),p=c(m));const g=i().getGifItems();return{status:p,gifs:_.map(e=>g[e])}})(j),G=a(1077),Z=a.n(G),V=a(297),q=a(369),z=a(3);const Y=Object(E.h)({searchGif:{id:"gif_search_gif",defaultMessage:"Search GIFs"}}),K=_()(Z.a),X={kind:z.b.SEARCH,size:z.d.XXS,colorState:z.a.NORMAL};class Q extends r.a.Component{render(){const{formatMessage:e}=this.context.intl,{gifCategories:t,handleSearchChange:a,onCategoryClick:n,searchBoxValue:s,selectedCategory:i}=this.props;return r.a.createElement("div",{className:K.searchSection},r.a.createElement(V.a,{fujiIconProps:X,kind:q.a.LEFT_ICON,onChange:a,placeholder:e(Y.searchGif),value:s,isClearable:!0,clearButtonContainerClassName:K.clearButtonContainer,focusOnMount:!0}),r.a.createElement("ul",{className:K.categoryContainer,"data-test-id":"category-container"},t.map(e=>{let t=K.categories,a="";const s=e.categoryName||e.title;return(e.categoryId||e.title)===i&&(t=K.categorySelected,a="category-active"),r.a.createElement("li",{className:`${t} ${K.hiddenBoldCategoryText}`,key:e.categoryId||e.tag,onClick:()=>n(e),"data-test-id":a,title:s},r.a.createElement("div",{className:K.categoryDiv},s))})))}}Q.contextTypes={intl:E.i};var $=Q,J=a(23),ee=a(21);a.d(t,"GifPopUp",function(){return ne}),a.d(t,"mapStateToProps",function(){return se});const te=_()(d.a),ae=Object(E.h)({close:{id:"gif_popup.btn_close",defaultMessage:"Close"},via:{id:"gif_popup.via",defaultMessage:"Via"}});class ne extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={xButtonHovered:!1},this.onGifClick=(e=>{this.props.handleGifClick(e)}),this.handleXButtonHover=(e=>{this.setState({xButtonHovered:e})}),t}componentWillMount(){this.props.fetchGifCategories()}componentDidMount(){window.addEventListener("mousedown",this.handleWindowMouseDown,!1)}render(){const{fetchGIF:e,toggleMenu:t,searchBoxValue:a,selectedCategory:n,handleSearchChange:s,onCategoryClick:i,left:o,bottom:l,width:c,query:d,gifCategories:m,isRTL:_}=this.props,{formatMessage:u}=this.context.intl,h=this.state.xButtonHovered?z.a.NORMAL:z.a.DISABLED;return r.a.createElement("section",{ref:e=>this._gifContainer=e,"data-test-id":"gif-container",className:te.gifFinderContainer,onClick:e=>e.stopPropagation(),style:babelHelpers.extends({width:c+"px",bottom:l+"px"},_&&{right:o+"px"},!_&&{left:o+"px"})},r.a.createElement("div",{className:te.gifPopupTopArea},r.a.createElement("span",{onMouseEnter:this.handleXButtonHover.bind(this,!0),onMouseLeave:this.handleXButtonHover.bind(this,!1)},r.a.createElement(ee.a,{"data-iskeynav":!0,"data-test-id":"gif-close-button",kind:z.b.CLOSE,size:z.d.XXS,onClick:t,title:u(ae.close),colorState:h}))),r.a.createElement("div",{className:te.resultSection},r.a.createElement(W,{query:d,width:c?c-J.HORIZONTAL_PADDING:0,onItemClick:this.onGifClick,fetchGIF:e})),r.a.createElement($,{searchBoxValue:a,selectedCategory:n,handleSearchChange:s,onCategoryClick:i,gifCategories:m}))}}ne.contextTypes={intl:E.i.isRequired,config:s.a.object.isRequired},ne.defaultProps={left:0,width:0,bottom:0};const se=e=>{const{getEnvironmentSelectors:t}=Object(l.b)(e);return{isRTL:"rtl"===t().getPageDirection()}};t.default=Object(o.b)(se)(ne)},function(e,t,a){"use strict";a.r(t);var n=a(9),s=a(1),i=a(0);const r=()=>(e,t,{autoSuggestClient:a})=>{const{getContactCategoriesStatus:r}=Object(n.b)(t()).getContactSelectors();if(r()!==i.Mc.LOADED)return e((()=>({type:s.a.CONTACT_GROUPS_REQUESTED}))()),a.contactsWithGroupName().then(t=>e((e=>({type:s.a.CONTACT_GROUPS_RECEIVED,response:e}))(t))).catch(t=>e((e=>({type:s.a.CONTACT_GROUPS_FAILED,error:e}))(t)))};var o=a(13),l=a(6),c=a.n(l),d=a(2),m=a.n(d),_=a(4),u=a(1064),h=a.n(u),p=a(11),g=a.n(p),E=a(62),b=a(232),C=a(73),f=a(196),v=a.n(f),I=a(254),y=a(56);const S=g()(h.a);var N=class extends m.a.Component{constructor(...e){var t;return t=super(...e),this.handleScroll=(()=>{if(!this.scrollRef)return;const{clientHeight:e,scrollTop:t,scrollHeight:a}=this.scrollRef;t+e>=a-200&&this.props.showMore()}),this.renderResult=(()=>{const{loadingStatus:e,onContactClick:t,results:a,selectedContacts:n,contacts:s}=this.props;return e===i.Mc.ERROR?m.a.createElement("div",{className:S.loadingContainer},m.a.createElement("span",{className:S.noAvailable},m.a.createElement(_.c,{id:"compose.contact_picker.contact_picker_error",defaultMessage:"Unable to load the contacts"}))):e===i.Mc.DOES_NOT_EXIST||e===i.Mc.LOADING?m.a.createElement("div",{className:S.loadingContainer},m.a.createElement(y.b,{size:y.a.M})):a.length?m.a.createElement("div",{className:S.results},m.a.createElement(E.a,null,a.slice(0,this.props.shownItemsCount).map(e=>{const a=s[e],i=n.hasOwnProperty(e);return m.a.createElement("li",{"data-test-id":`contact-picker-row-${i}`,className:i?S.contactSelected:S.contact,key:`${e}`,onClick:()=>t(e)},m.a.createElement("div",{className:S.listItemContainer},m.a.createElement("span",{className:S.avatarContainer},m.a.createElement(C.c,{contact:{id:e,email:e},size:C.b.M})),m.a.createElement("span",{className:S.emailNameContainer},a.name&&m.a.createElement("div",{className:S.peopleName,title:a.name},m.a.createElement(I.a,{haystack:a.name,needle:this.props.query,containerClassNames:S.highlighteredTextContainer,formatter:e=>m.a.createElement("span",{className:S.highlighteredText},e)},a.name)),m.a.createElement("div",{className:S.emailText,title:a.id},a.id)),m.a.createElement("div",{className:S.checkboxWrapper},m.a.createElement(b.a,{isChecked:i,onClick:()=>null}))))}))):m.a.createElement("div",{className:S.loadingContainer},m.a.createElement("span",{className:S.noAvailable},m.a.createElement(_.c,{id:"compose.contact_picker.no_contacts_available",defaultMessage:"No contacts available"})))}),t}componentWillMount(){this.handleScroll=v()(this.handleScroll,400)}render(){return m.a.createElement("div",{ref:e=>this.scrollRef=e,className:S.resultsContainer,onScroll:this.handleScroll,"data-test-id":"contact-picker-result"},this.renderResult())}};var T=Object(o.b)((e,t)=>{const{getContactSelectors:a}=Object(n.b)(e),{getContacts:s,getContactCategoriesStatus:r,filterContactIdsBy:o,getContactIdsByCategoryId:l,doesCategoryIdExist:c}=a(),d=s(),m=r();let _=[];return m===i.Mc.LOADED&&c(t.curCategory)&&(_=l(t.curCategory),_=o({query:t.query,contactIds:_})),{contacts:d,loadingStatus:m,results:_,selectedContacts:t.selectedContacts,shownItemsCount:t.shownItemsCount}})(N),A=a(1065),M=a.n(A),D=a(298),O=a(361),k=a(3),R=a(15),x=a(324);const P=g()(M.a),w=Object(_.h)({searchPlaceholder:{id:"compose.contact_picker.search_placeholder",defaultMessage:"Search for a contact"},allContacts:{id:"compose.contact_picker_category_all_contacts",defaultMessage:"All Contacts"}});class F extends m.a.Component{constructor(...e){var t;return t=super(...e),this.onSelectChange=(e=>{this.props.onCategoryChange(e),this.setFocus()}),this.onSelectClick=(()=>{this.props.toggleBottomGroupState(!0)}),this.onSelectBlur=(()=>{this.props.toggleBottomGroupState(!1)}),this.setFocus=(()=>{this.timer&&clearTimeout(this.timer),this.timer=setTimeout(()=>this.queryInput&&this.queryInput.focus(),0)}),t}componentDidMount(){this.setFocus()}componentWillUnmount(){this.timer&&clearTimeout(this.timer)}render(){const{query:e,onSearchChange:t,contactCategories:a,curCategory:n}=this.props,{formatMessage:s}=this.context.intl;return m.a.createElement("div",{className:P.searchContainer},m.a.createElement("div",{className:P.flexbox},m.a.createElement("div",{className:P.searchFlex},m.a.createElement("input",{type:"text",placeholder:s(w.searchPlaceholder),value:e,className:P.searchInput,onChange:e=>t(e.target.value),ref:e=>this.queryInput=e,"data-test-id":"query-input"}),m.a.createElement("input",{value:this.props.hint,className:P.hintInput,"data-test-id":"hint",readOnly:!0}),m.a.createElement("span",{className:P.inputSearchIcon},m.a.createElement(R.b,{kind:k.b.SEARCH,size:k.d.XS,colorState:k.a.DISABLED,ariaLabel:"Search in contacts"}))),m.a.createElement("div",{className:P.selectFlex},m.a.createElement(O.a,{selected:n,onChange:this.onSelectChange,onClick:this.onSelectClick,onBlur:this.onSelectBlur,classNames:{selectLabel:P.selectLabel},arrowDownColor:k.a.NORMAL},a&&Object.keys(a).map(e=>{const{categoryName:t}=a[e];return m.a.createElement(D.a,{key:e,value:e,isSelected:e===n,hoverStyle:"BOLD"},e===x.a?s(w.allContacts):t)})))))}}F.contextTypes={intl:_.i};var L=F;var B=Object(o.b)((e,t)=>{const{getContactSelectors:a}=Object(n.b)(e),{getContactCategories:s,getContactCategoriesStatus:r,getContactName:o,filterContactIdsBy:l,getContactIdsByCategoryId:c}=a();let d="";if(t.query&&r()===i.Mc.LOADED){const e=t.query.toLocaleLowerCase().trim(),a=l({query:t.query,contactIds:c(t.curCategory)}).find(t=>o(t).toLocaleLowerCase().indexOf(e)>-1);d=a?o(a):d}return{contactCategories:s(),currentCategory:t.curCategory,hint:d}})(L),H=a(16),U=a(30),j=a(1066),W=a.n(j);class G extends m.a.Component{constructor(...e){var t;return t=super(...e),this.state={query:"",curCategory:x.a,selectedContacts:{},count:0,selectDropdownToggled:!1,shownItemsCount:x.b},this.onContactPickerClose=(()=>{this.props.onClose()}),this.addContactsToField=(()=>{const{selectDropdownToggled:e,count:t}=this.state;if(!e&&t>0){const{contacts:e}=this.props,{selectedContacts:t}=this.state,a=Object.keys(t).map(t=>({email:t,id:t,name:e[t].name}));this.props.addContactsToField(a),this.onContactPickerClose()}}),this.onSearchChange=(e=>{this.setState({query:e,shownItemsCount:x.b})}),this.onCategoryChange=(e=>{e!==this.state.curCategory&&this.setState({curCategory:e,shownItemsCount:x.b})}),this.showMore=(()=>{this.setState({shownItemsCount:this.state.shownItemsCount+x.b})}),this.toggleBottomGroupState=(e=>{this.setState({selectDropdownToggled:e})}),this.onContactClick=(e=>{const{selectedContacts:t,count:a}=this.state,{contacts:n}=this.props,s=n[e];if(!t.hasOwnProperty(e)){if(a>=x.c)return;return this.setState({selectedContacts:babelHelpers.extends({},t,{[e]:s}),count:a+1})}const i=babelHelpers.extends({},t);delete i[e],this.setState({selectedContacts:i,count:a-1})}),t}componentWillMount(){this.props.getContactsWithGroup()}render(){const{selectDropdownToggled:e,count:t}=this.state,a=.3*document.body.clientWidth,n=e||!t,s=g()(W.a,{bottomDisabled:n});return m.a.createElement("div",{className:s.contactPickerContainer,style:{width:a},"data-test-id":"contact-picker"},m.a.createElement(B,{toggleBottomGroupState:this.toggleBottomGroupState,curCategory:this.state.curCategory,query:this.state.query,onCategoryChange:this.onCategoryChange,onSearchChange:this.onSearchChange}),m.a.createElement(T,{selectedContacts:this.state.selectedContacts,query:this.state.query,onContactClick:this.onContactClick,curCategory:this.state.curCategory,shownItemsCount:this.state.shownItemsCount,showMore:this.showMore}),m.a.createElement("div",{className:s.bottomSection},m.a.createElement("div",{className:s.buttonGroup},m.a.createElement(H.a,{disabled:n,onClick:this.addContactsToField,overridingClass:s.spacer,"data-test-id":"done"},m.a.createElement(_.c,{defaultMessage:"Done",id:"compose.contact_picker_done"})),m.a.createElement(H.a,{kind:U.a.CHROMELESS,onClick:this.onContactPickerClose,"data-test-id":"cancel",overridingClass:s.buttonWidth},m.a.createElement(_.c,{defaultMessage:"Cancel",id:"compose.contact_picker_cancel"}))),m.a.createElement("div",{className:s.itemCounts},m.a.createElement(_.c,{defaultMessage:"{count, number}/100 selected",values:{count:this.state.count},id:"compose.contact_picker_selected_count"}),this.state.count>=x.c&&m.a.createElement("span",{className:s.limitReached},m.a.createElement(_.c,{defaultMessage:"Limit reached",id:"compose.contact_picker_selected_count_limit"})))))}}G.contextTypes={intl:_.i,executeAction:c.a.func};var Z=G;a.d(t,"mapStateToProps",function(){return V}),a.d(t,"mapDispatchToProps",function(){return q});const V=e=>{const{getContactSelectors:t}=Object(n.b)(e),{getContacts:a}=t();return{contacts:a()}},q=e=>({getContactsWithGroup(){e(r())}});t.default=Object(o.b)(V,q)(Z)},function(e,t,a){"use strict";a.r(t);a(6);var n=a(2),s=a.n(n),i=a(368),r=a.n(i),o=a(900),l=a.n(o),c=a(31),d=a.n(c),m=a(14),_=a(993),u=a(966),h=a(139),p=(a(38),a(10));var g=class extends s.a.Component{render(){const{size:e}=this.props,{cardId:t,cardUrl:a,embedUrl:n,thumbnailUrl:i,hasThumbnail:r,cardType:o,primaryRichInformation:l,secondaryRichInformation:c,cardTitle:d,cardDescription:m,domainStyles:_}=this.props,{domainLogo:g}=_,{maxWidth:E,titleMaxLength:b,descriptionMaxLength:C,thumbnailHeight:f,thumbnailWidth:v,upperSectionHeight:I,domainLogoHeight:y,domainLogoWidth:S,cardBorderRadius:N=0}=u.a[e],T=Object(h.c)(d,b),A=Object(h.c)(m,C),M="rgb(224, 228, 233)";return s.a.createElement("div",{id:t,className:"yahoo-link-enhancr-card "+`${r||e!==u.b.MEDIUM?"":"yahoo-link-enhancr-not-allow-cover "}`+"ymail-preserve-class ymail-preserve-style",style:Object.assign({maxWidth:`${E}px`,fontFamily:p.BASE_FONT_STACK},e===u.b.MINI?{display:"inline-block"}:{},e===u.b.APPEND?{margin:"5px 5px 5px 0",display:"inline-block"}:{}),"data-url":a,"data-embed-url":n,"data-type":o,"data-size":e},s.a.createElement("a",{href:a,style:{textDecoration:"none !important",color:"#000 !important"},className:"yahoo-enhancr-cardlink",target:"_blank",rel:"noreferrer"},e===u.b.MINI||e===u.b.APPEND?s.a.createElement("table",{className:"card yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:E,height:I,style:{borderWidth:"1px",borderStyle:"solid",borderColor:`${M}`,width:`${E}px`,backgroundColor:"#fff",borderRadius:`${N}px`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,r?s.a.createElement("td",{width:`${v}px`,style:{width:`${v}px`,backgroundColor:"#000",borderRadius:`${N}px 0 0 ${N}px`,borderRight:`1px solid ${M}`}},s.a.createElement("img",{src:i,width:v,height:f,style:{width:`${v}px`,verticalAlign:"middle",borderRadius:`${N}px 0 0 ${N}px`}})):null,s.a.createElement("td",{width:"10px",style:{width:"10px"}}),s.a.createElement("td",null,g?s.a.createElement("img",{className:"card-object",src:g,width:S,height:y}):null,s.a.createElement("h2",{className:"card-title",style:{fontSize:"14px",lineHeight:"16px",color:"#26282a",fontFamily:p.BASE_FONT_STACK,textDecoration:"none !important",margin:"4px 0",wordBreak:"break-word"}},T))))):s.a.createElement("table",{className:"card-wrapper yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{maxWidth:`${E}px`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{width:E},s.a.createElement("table",{className:"card yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%",style:{maxWidth:`${E}px`,borderWidth:"1px",borderStyle:"solid",borderColor:`${M}`,borderRadius:`${N}px`}},s.a.createElement("tbody",null,r?s.a.createElement("tr",null,s.a.createElement("td",{className:"card-primary-image-cell",height:`${f}`,style:{backgroundColor:"rgb(0, 0, 0)",backgroundRepeat:"no-repeat",backgroundPosition:"top center",backgroundSize:"cover",height:`${f}px`,position:"relative",borderRadius:`${N}px ${N}px 0 0`}},s.a.createElement("span",{className:"card-primary-image-outlook-replace"}),s.a.createElement("table",{className:"card-overlay-container-table yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{width:"100%"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"card-overlay-cell",style:{backgroundColor:"transparent",height:`${f}px`,borderRadius:`${N}px ${N}px 0 0`}},s.a.createElement("span",{className:"card-overlay-outlook-replace"}),s.a.createElement("table",{className:"yahoo-ignore-table",height:I,style:{width:"100%",height:`${I}px`,minHeight:`${I}px`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"card-richInfo2",style:{textAlign:"left",padding:"15px 0 0 15px",verticalAlign:"top"}},c&&c.currencySymbol&&c.price?s.a.createElement("span",{style:{color:"#fff",fontSize:"16px",fontWeight:"600"}},`${c.currencySymbol}${c.price}`):null),s.a.createElement("td",{className:"card-actions",style:{textAlign:"right",padding:"15px 15px 0 0",verticalAlign:"top"}},s.a.createElement("div",{className:"card-share-container"}))))),s.a.createElement("span",{className:"closing-outlook-replace"}))))))):null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("table",{className:"card-info yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",style:{background:"#fff",position:"relative",zIndex:2,width:"100%",maxWidth:`${E}px`,borderRadius:`0 0 ${N}px ${N}px`,borderTop:`1px solid ${M}`}},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{style:{backgroundColor:"#ffffff",padding:"16px 0 16px 12px",verticalAlign:"top",borderRadius:`0 0 0 ${N}px`}},g?s.a.createElement("img",{className:"card-object-1 yahoo-ignore-inline-image ymail-preserve-class",src:g,height:y,style:{minWidth:`${S}px`,marginTop:"3px"}}):null),s.a.createElement("td",{style:{verticalAlign:"middle",padding:"12px 24px 16px 12px",width:"99%",fontFamily:p.BASE_FONT_STACK,borderRadius:`0 0 ${N}px 0`}},s.a.createElement("h2",{className:"card-title",style:{fontSize:"14px",lineHeight:"19px",margin:"0 0 6px 0",fontFamily:p.BASE_FONT_STACK,wordBreak:"break-word",color:"#26282a"}},T),l?s.a.createElement("p",{className:"card-richinfo-primary",style:{fontSize:"12px",lineHeight:"16px",margin:"0 0 4px 0",color:"#979ba7"}},l):null,s.a.createElement("p",{className:"card-description",style:{fontSize:"12px",lineHeight:"16px",margin:"0",color:"#979ba7",wordBreak:"break-word"}},A)))))))))))))))}},E=a(59),b=a(195),C=a(151);class f{constructor(e){this._processConfig(e)}_processConfig(e){this.size=e.size,this.cardId=e.cardId,this.cardUrl=e.cardUrl,this.embedUrl=e.embedUrl,this.type=e.type,this.primaryRichInformation="article"===this.type?e.author:void 0,this.secondaryRichInformation=e.offer,this.cardType=u.c.YENHANCER,this.linkInfo=e.linkInfo,this._processThumbnailForCard()}_processThumbnailForCard(){const{linkInfo:e}=this;this.thumbnailUrl=this._getThumbnailUrl(e),this.hasThumbnail=!!this.thumbnailUrl,this._checkIfThumbnailLoads()}_checkIfThumbnailLoads(){const e=E.a.feature("link_enhancer_mrs_load"),t=new Image;t.onerror=(()=>{this.hasThumbnail=!1,e.logFailure()}),t.onload=(()=>{this.hasThumbnail=!0,e.logLatency()}),t.src=this.thumbnailUrl}_getThumbnailUrl(e){const{images:t}=e;if(t&&t.thumbnails){const{thumbnails:e}=t,a=e[u.d[this.size]];if(a)return a.url}}updateSize(e){this.size=e,this._processThumbnailForCard()}_fixMarkup(e){return e=this._addDeprecatedMarkup(e)}_addDeprecatedMarkup(e){const{size:t,thumbnailUrl:a}=this;return this.hasThumbnail&&t!==u.b.MINI&&t!==u.b.APPEND&&(e=(e=(e=(e=e.replace(/<td class=\"card-primary-image-cell\"/,`<td class="card-primary-image-cell" background="${Object(b.a)(a)}" bgcolor="#000000" valign="top"`)).replace(/<table class=\"card-overlay-container-table yahoo-ignore-table\"/,'<table class="card-overlay-container-table yahoo-ignore-table" valign="top"')).replace(/<td class=\"card-overlay-cell\"/,'<td class="card-overlay-cell" background="https://s.yimg.com/cv/ae/nq/storm/assets/enhancrV21/1/enhancr_gradient-400x175.png" bgcolor="transparent" valign="top"')).replace(/<table class=\"card-info yahoo-ignore-table\"/,'<table align="center" class="card-info yahoo-ignore-table"'),e=this._addOutlookConditionalComments(e)),e=this._addDeprecatedTableBorder(e)}_addDeprecatedTableBorder(e){return e.replace(/<table/g,'<table border="0"')}_addOutlookConditionalComments(e){const{size:t,thumbnailUrl:a}=this,{maxWidth:n,outlookThumbnailHeight:s}=u.a[t];return e=(e=(e=e.replace(/<span class=\"card-primary-image-outlook-replace\"><\/span>/,'\x3c!--[if gte mso 9]><v:rect fill="true" stroke="false" '+`style="width:${n-4}px;height:${s}px;position:absolute;top:0;left:0;">`+`<v:fill type="frame" color="#000000" src="${Object(b.a)(a)}"/></v:rect><![endif]--\x3e`)).replace(/<span class=\"card-overlay-outlook-replace\"><\/span>/,'\x3c!--[if gte mso 9]><v:rect fill="true" stroke="false" '+`style="width:${n-4}px;height:${s}px;`+'position:absolute;top:-18px;left:0;"><v:fill type="pattern" color="#000000" src="https://s.yimg.com/cv/ae/nq/storm/assets/enhancrV21/1/enhancr_gradient-400x175.png"/><v:textbox inset="0,0,20px,0"><![endif]--\x3e')).replace(/<span class=\"closing-outlook-replace\"><\/span>/,"\x3c!--[if gte mso 9]></v:textbox></v:rect><![endif]--\x3e")}getCardMarkup(){const{size:e,cardId:t,cardUrl:a,embedUrl:n,primaryRichInformation:i,secondaryRichInformation:o,thumbnailUrl:l,hasThumbnail:c,cardType:d,linkInfo:m}=this,{title:_,description:u,domainStyles:h}=m,p=r.a.renderToStaticMarkup(s.a.createElement(g,{cardId:t,size:e,cardUrl:a,embedUrl:n,primaryRichInformation:i,secondaryRichInformation:o,thumbnailUrl:l,hasThumbnail:c,cardType:d,cardTitle:_,cardDescription:u,domainStyles:h}));return Object(C.purifyToHTML)(this._fixMarkup(p))}getPlaceholderMarkup(){const{cardId:e}=this;return`<div class="link-enhancr-placeholder ${e}" />`}}var v=a(4);class I extends s.a.Component{getChildContext(){return{intl:this.props.context.intl}}render(){const e={wrapper:{marginTop:10},header:{fontSize:"14px",fontWeight:400,color:"#454545",fontFamily:p.BASE_FONT_STACK,textShadow:"1px 1px 0 rgb(255, 255, 255)",margin:0,padding:`${2*p.GRID_UNIT}px 0`}};return s.a.createElement("div",{className:"enhancr-link-previews ymail-preserve-class ymail-preserve-style",style:e.wrapper},s.a.createElement("h3",{style:e.header},s.a.createElement(v.c,{id:"compose.link_enhancer.preview_header",defaultMessage:"Links in the message {count}",values:{count:s.a.createElement("span",{className:"link-enhancr-preview-count"},"(1)")}})),this.props.children)}}I.childContextTypes={intl:v.i.isRequired};var y=I,S=a(56),N=a(5),T=a(23),A=a(233);const M=/<iframe[^>]+src=(\\?["'])(https:\/\/(?:[\w\-.~:\/?#[\]@!$&'()*+,;=]|%[a-f0-9]{2})+)\1[^>]*>[^<]*<\/iframe>/im,D=/(enhancr_card_\d+)/,O="loadingSpinnerContainer";var k=a(65);const{GIF_WRAPPER_CLASS:R,INLINE_IMAGE_CLASS:x,IGNORE_CLASS:P}=T.INLINE_IMAGE_PLUGIN_CLASSES,{TINY_IMAGE_WIDTH:w,IMAGE_SMALL_WIDTH:F,IMAGE_BIG_WIDTH:L,IMAGE_BIG_PERCENTAGE:B,IMAGE_SMALL_PERCENTAGE:H}=T.INLINE_IMAGE_PLUGIN_SIZE,U=`img:not([class*="${P}"])`,j='img[src^="data:"]';const W={InlineImagePlugin:class{constructor(e){this._overlay=e._overlay,this._rte=e.rte,this._smallImagesSizeMap={},this._getAttachmentInfo=e.getAttachmentInfo,this._onImagePaste=e.onImagePaste,this._onImageRemove=e.onImageRemove,this._updateImgHoverOverlayProp=e.updateImgHoverOverlayProps,this._mouseoverCallback=this.mouseoverCallback.bind(this)}contentChanged(e){if("sethtml"===e){const e=this._rte.element;[].forEach.call(e.querySelectorAll(U),e=>{this._addEventListenersForInlineImage(e),e.draggable=!1}),[].forEach.call(e.querySelectorAll(`div[class*="${R}"]`),e=>{const t=e.querySelector("img");t&&this._addEventListenersForInlineImage(t),e.setAttribute("contenteditable",!1)}),this.displayLoadingIndicatorForImages()}}_onImageLoaded(e){e.classList.remove(T.IMAGE_STATUS.loading),document.body.contains(e)&&this._addEventListenersForInlineImage(e)}isImageFetched(e,t){e.complete||e.naturalWidth?t(e):setTimeout(()=>this.isImageFetched(e,t),100)}displayLoadingIndicatorForImages(){[].forEach.call(this._rte.element.querySelectorAll(`img:not([class="${T.IMAGE_STATUS.loading}"]):not([class*="${P}"])`),e=>{e.complete||(e.classList.add(T.IMAGE_STATUS.loading),this.isImageFetched(e,this._onImageLoaded.bind(this)))})}setOverylayNode(e){this._overlay=e}resizeHoverImage(e){const t=this._hoverImageEl.getAttribute("data-id");if(Math.round(this._hoverImageEl.clientWidth)<=F){const a=this._smallImagesSizeMap[t];void 0!==a?(Object.assign(this._hoverImageEl.style,{width:`${e===T.CURRENT_IMAGE_SIZE_STATUS.SMALL?H:B}`,maxWidth:`${e===T.CURRENT_IMAGE_SIZE_STATUS.SMALL?a:F}px`}),e===T.CURRENT_IMAGE_SIZE_STATUS.SMALL&&this._hoverImageEl.clientWidth<a&&(this._hoverImageEl.style.width=a+"px")):e===T.CURRENT_IMAGE_SIZE_STATUS.SMALL?Object.assign(this._hoverImageEl.style,{width:H,maxWidth:Math.min(F,this._hoverImageEl.naturalWidth)+"px"}):e===T.CURRENT_IMAGE_SIZE_STATUS.LARGE&&Object.assign(this._hoverImageEl.style,{width:B,maxWidth:Math.min(L,Math.max(this._hoverImageEl.naturalWidth,F))+"px"})}else e===T.CURRENT_IMAGE_SIZE_STATUS.SMALL&&Object.assign(this._hoverImageEl.style,{width:H,maxWidth:`${F}px`});this._rte.contentChanged({type:A.a.isGif(this._hoverImageEl)?T.EDITOR_EVENTS.gif_resized:T.EDITOR_EVENTS.inline_image_resized,eventData:{size:e}}),this._hoverImageEl=null}onContentMutated(e,t,a){t.length&&this.onDOMNodesAdded(t),a.length&&this.onDOMNodesRemoved(a)}onDOMNodesRemoved(e){e.forEach(e=>{const{tagName:t,className:a=""}=e,n=e.getAttribute?e.getAttribute("data-id"):e.dataset&&e.dataset.id;"IMG"===t&&n&&-1!==a.indexOf(x)&&(this._rte.element.querySelector(`img[class*="${x}"][data-id="${n}"]`)||this._onImageRemove(n))})}onDOMNodesAdded(e){e.forEach(e=>{if(!e.querySelector||"BR"===e.tagName||"EM"===e.tagName||"FONT"===e.tagName||"STRONG"===e.tagName)return;const t="IMG"===e.tagName?[e]:e.querySelectorAll(U);[].forEach.call(t,e=>{e.setAttribute("data-inlineimagemanipulating",!0);const t=e.getAttribute("data-id"),a=this._getAttachmentInfo().find(({contentId:e})=>t===e);this._addEventListenersForInlineImage(e),a&&(e.setAttribute("data-id",a.contentId),e.src=a.downloadUrl),e.complete||(e.classList.add(T.IMAGE_STATUS.loading),this.isImageFetched(e,this._onImageLoaded.bind(this)))})})}_addEventListenersAndAdjustSize(e){this._isTinyImage(e)||e.classList.contains(T.IMAGE_STATUS.loading)||(this._autoAdjustImageSize(e),e.addEventListener("mouseover",this._mouseoverCallback))}_addEventListenersForInlineImage(e){e.setAttribute("data-inlineimagemanipulating",!0),e.complete?this._addEventListenersAndAdjustSize(e):e.onload=this._addEventListenersAndAdjustSize.bind(this,e)}_isTinyImage(e){const{clientWidth:t}=e;return t&&t<w}_autoAdjustImageSize(e){if(e.hasAttribute("width")||e.hasAttribute("height")){const t=Math.round(this._rte.element.clientWidth);let a=e.getAttribute("width");return a=a?a>Math.min(t,L)?B:`${a}px`:e.style.width,Object.assign(e.style,{minHeight:"",height:"",width:a,maxWidth:`${Math.min(L,e.naturalWidth,t)}px`}),e.removeAttribute("width"),void e.removeAttribute("height")}const{naturalWidth:t,clientWidth:a}=e;t<F||a<F?(e.hasAttribute("data-id")||e.setAttribute("data-id",Date.now()),this._smallImagesSizeMap[e.getAttribute("data-id")]=Math.min(t,a)):e.style.width&&e.style.maxWidth||Object.assign(e.style,{width:B,maxWidth:Math.min(L,t)+"px",minHeight:"",height:""}),(e.style.height||e.style.minHeight)&&Object.assign(e.style,{minHeight:"",height:""})}mouseoverCallback(e){if(this._hoverImageEl=e.target,A.a.fixOverlayPosition({hoveredElement:this._hoverImageEl,overlay:this._overlay,scrollableContainer:this._scrollableArea,editor:this._rte}),"IMG"===this._hoverImageEl.nodeName){this._hoverImageEl.removeAttribute("data-inlineimagemanipulating");const e=this._hoverImageEl.getAttribute("data-id"),{SMALL:t,LARGE:a}=T.CURRENT_IMAGE_SIZE_STATUS;this._updateImgHoverOverlayProp({imageSize:this._hoverImageEl.style.width===B?a:t,showSendAsAttachmentBtn:this._getAttachmentInfo().some(({contentId:t})=>t===e),hoveredImage:this._hoverImageEl})}}setScrollableArea(e){this._scrollableArea||(this._scrollableArea=e)}onPaste(e){const t=e.pastedFiles||[];[].slice.call(this._rte.element.querySelectorAll(j)).forEach(e=>{const a=Object(k.getFileFromDataURI)(e.src),n=URL.createObjectURL(a);a.downloadLink=n,t.push(a),e.src=n,e.classList.add(x)}),t.length>0&&this._onImagePaste(t)}},StationeryPlugin:a(1030).a,LinkEnhancerPlugin:class{constructor(e){this._rte=e.rte,this._overlay=e.overlay,this.blacklist=e.blacklist||[],this.enhancedLinks=e.enhancedLinks||{},this._scrollableArea=e.scrollableArea,this.onCardHovered=e.onCardHovered,this.context=e.context,this.linkEnhancerFetch=e.linkEnhancerFetch,this.onLinkEnhancerlinkRemoved=e.onLinkEnhancerlinkRemoved,this.onLinkEnhancerlinkMoveToInline=e.onLinkEnhancerlinkMoveToInline,this.onLinkEnhancerlinkAdded=e.onLinkEnhancerlinkAdded,this.onLinkEnhancerlinkResized=e.onLinkEnhancerlinkResized,this.onLinkEnhancerlinkMoveToBottom=e.onLinkEnhancerlinkMoveToBottom,this.enhancerCards={},this.previewCards={},this._findAndEnhanceCards()}handleNewAnchor(e){const t=e.hasAttribute("href")?e.getAttribute("href").trim():"";if(/^https?:/i.test(t)&&!this.enhancerCards[t]){for(const e in this.blacklist)if(RegExp(this.blacklist[e]).test(t))return;this.enhancedLinks[t]?this._renderNewAnchor(t):this._fetchEnhancerCard(t)}}_renderNewAnchor(e){if(this.enhancerCards[e])return;const t=this._generateCardId(),a=this._getEnhancerProps(e,t),n=this._rte.element.querySelector('a[href*="'+Object(_.c)(e)+'"]');if(l()(a))return;const s={cardId:t,linkNode:n,originalLinkText:n.textContent};n.textContent===e&&(n.textContent=a.linkInfo.title),n.classList.add(t);const i=new f(a),r=this._createCardNode(i.getCardMarkup());this.enhancerCards[e]=Object.assign(s,{enhancerCard:i,cardNode:r,cardSize:a.size}),this._insertEnhancerAfterLink({linkNode:n,cardNode:r}),this._rte.contentChanged({type:T.EDITOR_EVENTS.link_enhancer_card_added}),this.onLinkEnhancerlinkAdded({i13nModel:{mKey:N.e.LINK_ENHANCER_ADD_LINK,sec:N.g.COMPOSE_MSG,actionData:{mHref:e}}})}contentChanged(e){e&&"sethtml"===e&&this._findAndEnhanceCards()}hasCards(){return Object.keys(this.enhancerCards).length>0}_renderNewlyFetchedLinks(){const e=Object.keys(this.enhancedLinks),t=this._hoveredCard&&this._hoveredCard.getAttribute("data-url");Array.prototype.forEach.call(e,e=>{const a=this.enhancedLinks[e],n=this._rte.element.querySelector('a[href*="'+Object(_.c)(e)+'"]');a&&n&&!this.enhancerCards[e]&&this._renderNewAnchor(e),a&&n&&t===e&&this.enhancerCards[e]&&(this.enhancerCards[e].resizePending||this.enhancerCards[e].movePending)&&this._doPendingResizeOrMove(e),a||t!==e||this._hideSpinner(this._hoveredCard)})}_doPendingResizeOrMove(e){const t=this._getEnhancerProps(e,this.enhancerCards[e].cardId);l()(t)||(this.enhancerCards[e].enhancerCard=new f(t),this.enhancerCards[e].resizePending?this.handleResizeCard({newSize:this.enhancerCards[e].cardSize}):this.enhancerCards[e].movePending&&this.handleMoveCardToBottom(),this.enhancerCards[e].resizePending=!1,this.enhancerCards[e].movePending=!1)}_findAndEnhanceCards(){const e=this._rte.element,t=e.querySelectorAll(T.LINK_EHANCER_CARD_SELECTOR);Array.prototype.forEach.call(t,t=>{const a=t.getAttribute("data-url");if(t.contentEditable=!1,t.setAttribute("contenteditable",!1),this._attachHoverEvent(t),!this.enhancerCards[a]){const n=t.getAttribute("id"),s=e.querySelector(`a[class~="${n}"]`),i=e.querySelector(`div[class*="link-enhancr-placeholder"][class*="${n}"]`),r=t.getAttribute("data-size");this.enhancerCards[a]={cardId:n,linkNode:s,placeholderNode:i,cardSize:r}}}),this._findPreviewBox()}_getEnhancerProps(e,t){const a=this.enhancedLinks[e];if(!a||!a.title)return{};const n={cardUrl:e,linkInfo:a,cardId:t,size:u.b.MEDIUM};if(a.video&&(a.video.html||a.video.url))if(a.video.html){const e=M.exec(a.video.html);e&&e[2]&&(n.embedUrl=e[2])}else n.embedUrl=a.video.url;return a.author&&(n.author=a.author),a.offers&&a.offers.length&&(n.offer=a.offers[0]),a.type&&(n.type=a.type),n}getCurrentCardSize(){if(this._hoveredCard)return this._hoveredCard.getAttribute("data-size")}_findPreviewBox(){const e=this._rte.element.querySelector('div[class*="enhancr-link-previews"]');if(e){const t=e.querySelectorAll(T.LINK_EHANCER_CARD_SELECTOR);Array.prototype.forEach.call(t,e=>this.previewCards[e.getAttribute("id")]=!0),this.previewBoxNode=e}}_insertEnhancerAfterLink({linkNode:e,cardNode:t}){const a=e.parentNode===this._rte.element?e:e.parentNode;a.insertAdjacentHTML("afterend","<div><br/></div><div><br/></div>"),"function"==typeof a.insertAdjacentElement?a.insertAdjacentElement("afterend",t):a.parentNode.insertBefore(t,a.nextSibling),a.insertAdjacentHTML("afterend","<div><br/></div>")}handleResizeCard({newSize:e}){if(this._hoveredCard){const t=this._hoveredCard,a=t.getAttribute("data-url"),n=this.enhancerCards[a],s=this.getCurrentCardSize();if(n){n.cardSize=e;const{enhancerCard:i}=n;this._hideOverlay(),i?this._resizeCard(t,n,e):(n.resizePending=!0,this._fetchEnhancerCard(a,t)),s===u.b.APPEND?this.onLinkEnhancerlinkMoveToInline({i13nModel:{mKey:N.e.LINK_ENHANCER_MOVE_LINK_INLINE,sec:N.g.COMPOSE_MSG,actionData:{mHref:a}}}):this.onLinkEnhancerlinkResized({i13nModel:{mKey:N.e.LINK_ENHANCER_RESIZE_LINK,sec:N.g.COMPOSE_MSG,actionData:{mHref:a,size:e}}})}}}_fetchEnhancerCard(e){this.enhancedLinks[e]?this._renderNewlyFetchedLinks():(this._hoveredCard&&this._showSpinner(this._hoveredCard),this.linkEnhancerFetch({cardUrl:e}))}_resizeCard(e,t,a){const{enhancerCard:n,cardId:s,linkNode:i,placeholderNode:r}=t;n.updateSize(a);const o=this._createCardNode(n.getCardMarkup());if(this.previewCards.hasOwnProperty(s))if(e.parentNode.removeChild(e),delete this.previewCards[s],this._updatePreviewBoxState(),r&&r.parentNode)r.parentNode.replaceChild(o,r);else if(i&&i.parentNode){let e=i;if(!this._rte.element.contains(i)){const t=i.className.match(D);e=t?this._rte.element.querySelector(`a[class*="${t[0]}"]`):e}this._insertEnhancerAfterLink({linkNode:e,cardNode:o})}else this.previewBoxNode?this.previewBoxNode.insertAdjacentElement("beforebegin",o):this._rte.element.insertAdjacentElement("beforeend",o);else e.parentNode.replaceChild(o,e);this._attachHoverEvent(o),this._rte.contentChanged({type:T.EDITOR_EVENTS.link_enhancer_card_size_changed})}_updatePreviewBoxState(){const e=this._rte.element,t=Object.keys(this.previewCards).length;0===t&&this.previewBoxNode?(this.previewBoxNode.parentNode.removeChild(this.previewBoxNode),this.previewBoxNode=null):t>0&&!this.previewBoxNode&&this._setupPreviewFooter();const a=e.querySelector('span[class*="link-enhancr-preview-count"]');a&&(a.textContent=`(${t})`)}_setupPreviewFooter(){const e=this._rte.element,t=r.a.renderToStaticMarkup(s.a.createElement(y,{context:this.context})),a=document.createElement("div");a.innerHTML=t,this.previewBoxNode=a.firstChild,e.insertAdjacentElement("beforeend",this.previewBoxNode)}handleRemoveCard(){if(this._hoveredCard){const e=this._hoveredCard,t=e.getAttribute("data-url"),a=this.enhancerCards[t];if(a){const{enhancerCard:n,linkNode:s,placeholderNode:i,cardId:r,originalLinkText:o}=a;this._hideOverlay(),n&&delete a.enhancerCard,e.parentNode.removeChild(e),this.previewCards.hasOwnProperty(r)&&(delete this.previewCards[r],this._updatePreviewBoxState()),s&&document.body.contains(s)&&(s.textContent=o||s.href,s.classList.remove(r)),i&&document.body.contains(i)&&i.parentNode.removeChild(i),this._rte.contentChanged({type:T.EDITOR_EVENTS.link_enhancer_card_removed}),this.onLinkEnhancerlinkRemoved({i13nModel:{mKey:N.e.LINK_ENHANCER_REMOVE_LINK,sec:N.g.COMPOSE_MSG,actionData:{mHref:t}}})}}}handleMoveCardToBottom(){if(this._hoveredCard){const e=this._hoveredCard,t=e.getAttribute("data-url"),a=this.enhancerCards[t];a&&(a.enhancerCard?this._moveCardToBottom(e,a):(a.movePending=!0,this._fetchEnhancerCard(t,e))),this.onLinkEnhancerlinkMoveToBottom({i13nModel:{mKey:N.e.LINK_ENHANCER_MOVE_LINK_BOTTOM,sec:N.g.COMPOSE_MSG,actionData:{mHref:t}}})}}_moveCardToBottom(e,t){const{enhancerCard:a,cardId:n}=t;this.previewCards[n]=!0,this._updatePreviewBoxState(),a.updateSize(u.b.APPEND);const s=this._createCardNode(a.getCardMarkup()),i=this._createCardNode(a.getPlaceholderMarkup());t.placeholderNode=i,this.previewBoxNode.insertAdjacentElement("beforeend",s),e.parentNode.replaceChild(i,e),this._rte.contentChanged({type:"link_enhancer_card_moved"})}_showSpinner(e){if(!e.querySelector(`div.${O}`)){"relative"!==e.style.position&&(e.style.position="relative");const t=document.createElement("div");t.classList.add(O),Object.assign(t.style,{position:"absolute",top:"0px",width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",backgroundColor:"rgba(255, 255, 255, 0.3)"}),e.appendChild(t);const a=r.a.renderToStaticMarkup(s.a.createElement(S.b,{size:S.a.M}));t.insertAdjacentHTML("beforeend",a)}}_hideSpinner(e){const t=e.querySelector(`div.${O}`);t&&e.removeChild(t)}setScrollableArea(e){this._scrollableArea=e}setEnhancedLinks(e){d()(e,this.enhancedLinks)||(this.enhancedLinks=e,this._renderNewlyFetchedLinks())}_hideOverlay(){this._overlay&&Object.assign(this._overlay.style,{position:"absolute",top:"-5000px"})}setOverylayNode(e){this._overlay=e}onContentMutated(e,t,a){t.length&&t.filter(e=>"A"===e.tagName).forEach(e=>this.handleNewAnchor(e)),a.length&&this.onDOMNodesRemoved(a)}onDOMNodesRemoved(e){Object.keys(this.enhancerCards).map(e=>this.enhancerCards[e].cardNode).some(t=>e.some(e=>{if("function"==typeof e.contains&&e.contains(t))return this._hideOverlay(),!0}))}_attachHoverEvent(e){e.addEventListener("mouseover",()=>{this._hoveredCard=e,this.onCardHovered({newCardSize:this.getCurrentCardSize(),hoveredCard:this._hoveredCard}),A.a.fixOverlayPosition({hoveredElement:this._hoveredCard,overlay:this._overlay,scrollableContainer:this._scrollableArea,editor:this._rte})})}_createCardNode(e){const t=document.createElement("div");return t.innerHTML=e,t.firstChild.contentEditable=!1,t.firstChild.setAttribute("contenteditable",!1),this._attachHoverEvent(t.firstChild),t.firstChild}_generateCardId(){return`enhancr_card_${Object(m.f)()}`}},TableFormatterPlugin:class{contentChanged(e){e&&"paste"===e.type&&e.newElements&&Array.prototype.filter.call(e.newElements,this._shouldFormatTable).forEach(e=>this._formatTable(e))}_shouldFormatTable(e){return"TABLE"===e.tagName&&-1===e.className.indexOf("yahoo-ignore-table")&&null===e.querySelector("table")}_isStyled(e){return!!(e.hasAttribute("bgcolor")||e.style.getPropertyValue("background")||e.style.getPropertyValue("background-color")||e.style.getPropertyValue("color")||e.style.getPropertyValue("border")||e.style.getPropertyValue("border-width"))}_isTableStyled(e,t,a){return!!(e.hasAttribute("border")&&"0"!==e.getAttribute("border")||this._isStyled(e)||Array.prototype.some.call(t,this._isStyled)||Array.prototype.some.call(a,this._isStyled))}_removeWidth(e){e.removeAttribute("width"),e.style.removeProperty("width"),e.style.removeProperty("min-width")}_formatTable(e){const t=`${.5*p.GRID_UNIT}px ${2*p.GRID_UNIT}px`,a=e.className.indexOf("Mso")>-1,n=e.querySelectorAll("td, th"),s=e.querySelectorAll("tr");this._removeWidth(e),Array.prototype.forEach.call(n,e=>{this._removeWidth(e),e.style.padding||e.style.setProperty("padding",t)}),Array.prototype.forEach.call(e.querySelectorAll("col"),this._removeWidth),a&&Array.prototype.forEach.call(e.querySelectorAll("p"),e=>e.style.setProperty("margin",0)),this._isTableStyled(e,s,n)||Array.prototype.forEach.call(s,(e,t)=>{const a=t%2?"#fff":"#eee";e.setAttribute("bgcolor",a),e.style.setProperty("background-color",a)})}}};t.default=class extends s.a.Component{componentDidMount(){this.props.onLoad(W)}render(){return null}}},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(80),c=a(11),d=a.n(c),m=a(1180),_=a.n(m),u=a(10),h=a(15),p=a(3);const g=d()(_.a);var E=class extends r.a.Component{render(){const{subject:e}=this.props;return r.a.createElement(l.a,{groupTabIndex:u.TabIndices.MESSAGE_GROUP_HEADER},r.a.createElement("header",{"data-test-id":"sponsored-message-header",className:g.groupHeader},r.a.createElement("div",{className:g.subjectRow},r.a.createElement("span",{"data-test-id":"message-group-subject",className:g.subject},e?r.a.createElement("span",{className:g.subjectText},e):r.a.createElement("span",{className:g.noSubject},r.a.createElement(o.c,{id:"message.no_subject",defaultMessage:"No Subject"})),r.a.createElement(h.b,{kind:p.b.SPONSORED,size:p.d.XS,colorState:p.a.INHERITED})))))}},b=a(54),C=a(448),f=a(21),v=a(29);const I=Object(o.h)({forward_sponsored:{id:"sponsored_forward",defaultMessage:"Forward this sponsored message to someone"}});class y extends r.a.Component{render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:a,showLabel:n}=this.props,s=e(I.forward_sponsored),i=this.context.getThemeMode()===v.f.DARK;return r.a.createElement(f.a,{"data-iskeynav":!0,"data-test-id":"toolbar-sponsored-forward","aria-label":s,title:s,kind:p.b.FORWARD,disabled:t,onClick:a,size:p.d.XS,colorState:p.a.INHERITED,isOnDarkBackground:i},n?r.a.createElement(o.c,{id:"sponsored_forward_icon_label",defaultMessage:"Forward"}):null)}}y.defaultProps={showLabel:!0},y.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func};var S=y;const N=Object(o.h)({sponsored_save:{id:"sponsored_save",defaultMessage:"Save this sponsored message to someone"}});class T extends r.a.Component{render(){const{formatMessage:e}=this.context.intl,{disabled:t,onClick:a,showLabel:n}=this.props,s=e(N.sponsored_save),i=this.context.getThemeMode()===v.f.DARK;return r.a.createElement(f.a,{"data-iskeynav":!0,"data-test-id":"toolbar-sponsored-save","aria-label":s,title:s,kind:p.b.MOVE_TO_FOLDER,disabled:t,onClick:a,size:p.d.XS,colorState:p.a.INHERITED,isOnDarkBackground:i},n?r.a.createElement(o.c,{id:"sponsored_save_icon_label",defaultMessage:"Save To Inbox"}):null)}}T.defaultProps={showLabel:!0},T.contextTypes={intl:o.i.isRequired,getThemeMode:s.a.func};var A=T,M=a(32),D=a(144),O=a(104),k=a(110),R=a(14),x=a(5),P=a(91),w=a(373),F=a.n(w),L=a(130),B=a(8),H=a(82);const U=["esc","backspace","del",...L.d];Object(O.b)({group:k.a,keys:Object.assign({},L.c,{escapeToFolder:{key:"ESC",description:r.a.createElement("strong",null,r.a.createElement(o.c,{id:"shortcut.message_group_escape_message",defaultMessage:"Escape to previous view"}))},delete:{key:"BACKSPACE, DEL",description:r.a.createElement("strong",null,r.a.createElement(o.c,{id:"shortcut.message_group_delete",defaultMessage:"Delete"}))}})});class j extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleShortcuts=(e=>{switch(e.preventDefault(),e.stopPropagation(),e.code){case"Escape":case"Backspace":case"Delete":this.handleClose(e);break;case"KeyR":this.handleClose("reply",x.d.shortcut);break;case"KeyF":this.handleClose("forward",x.d.shortcut)}}),this.getClassNames=(()=>this.context.getCss(F.a,{hamSpamDisabled:!0,archiveRestoreDisabled:!0,moveDisabled:!0,deletePermDisabled:!0,groupActionsActive:!1,triageActionsActive:!0,verticalSortView:!1,verticalSelectionControlView:!1,selectionControlDisabled:!0,sponsoredVideoMessage:this.props.isVideoAd})),this.handleSponsoredForward=(e=>{if(e.preventDefault(),this.props.onForward){Object(B.a)(this.props.actionUrls,"SHARE",[]).forEach(e=>Object(H.a)(e,!1)),this.props.onForward()}}),this.handleSponsoredSave=(e=>{if(e.preventDefault(),this.props.onSave){Object(B.a)(this.props.actionUrls,"SAVE",[]).forEach(e=>Object(H.a)(e,!1)),this.props.onSave()}}),this.handleClose=((e,t="")=>{this.props.onClose({i13nModel:{mKey:x.e.TOOLBAR_CLOSE_MSG,sec:x.g.MSG_READ_TOOLBAR,interactionType:t||Object(R.i)(e)}})}),t}componentDidMount(){this.context.bindShortcut(U,this.handleShortcuts)}componentWillUnmount(){this.context.unbindShortcut(U)}render(){const{formatMessage:e}=this.context.intl,t=this.getClassNames();return r.a.createElement(l.a,{axis:l.b.HORIZONTAL,circularNavigation:!1,className:t.container,"data-test-id":"message-toolbar",groupTabIndex:u.TabIndices.MESSAGE_LIST_TOOLBAR,role:"toolbar"},r.a.createElement(D.a,null),r.a.createElement("div",{className:t.mainActionControls},r.a.createElement("ul",{className:t.triageActionList},r.a.createElement(M.a,{name:"forwardSponsored"},r.a.createElement("div",{className:t.sponsoredToolBarForward},r.a.createElement(S,{disabled:!this.props.onForward,onClick:this.handleSponsoredForward,showLabel:!0}))),r.a.createElement(M.a,{name:"saveSponsored"},r.a.createElement("div",{className:t.sponsoredToolBarSave},r.a.createElement(A,{disabled:!this.props.onSave,onClick:this.handleSponsoredSave,showLabel:!0}))),r.a.createElement(M.a,{name:"perm-delete"},r.a.createElement("div",{className:t.sponsoredToolBarClose},r.a.createElement(C.a,{"data-test-id":"delete-sponsored-btn",disabled:!1,onClick:this.handleClose,permanent:!1,showLabel:!0}))))),r.a.createElement(D.a,null),r.a.createElement("span",{"data-test-id":"close-wrapper",className:t.closeWrapper},r.a.createElement(P.a,{"data-iskeynav":!0,"data-test-id":"toolbar-close",disabled:!1,kind:p.b.CLOSE,size:p.d.XS,onClick:this.handleClose,title:e(b.a.close),"aria-label":e(b.a.close),colorStates:{normal:p.a.DISABLED,hovered:p.a.SELECTED}})),r.a.createElement("hr",{className:t.bottomLine}))}}j.contextTypes={intl:o.i.isRequired,config:s.a.object.isRequired,getCss:s.a.func,bindShortcut:s.a.func,unbindShortcut:s.a.func},j.defaultProps={showLabels:!0};var W=j,G=a(225),Z=a.n(G),V=a(206),q=a.n(V),z=a(970),Y=a(58),K=a.n(Y),X=a(26),Q=a(137),$=a(16),J=a(30),ee=a(1181),te=a.n(ee),ae=a(0);const ne=Object(o.h)({close:{id:"confirm.close",defaultMessage:"Close"},defaultAcceptLabel:{id:"confirm.accept",defaultMessage:"OK"},defaultCancelLabel:{id:"confirm.cancel",defaultMessage:"Cancel"}}),se=d()(te.a),ie={marginLeft:0,marginRight:`${2*u.GRID_UNIT}px`};class re extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleKeyDown=(e=>{const{onAbort:t}=this.props;if(e.stopPropagation(),e.key===ae.zb.ESCAPE)return e.preventDefault(),e.stopPropagation(),void(t&&this.props.onAbort(e))}),this.renderAbortButton=(()=>{const{onAbort:e}=this.props,{formatMessage:t}=this.context.intl;if(e)return r.a.createElement("div",{className:se.close},r.a.createElement(P.a,{onClick:e,kind:p.b.CLOSE,size:p.d.XS,title:t(ne.close),"aria-label":t(ne.close),"data-test-id":"confirm-button-close",colorStates:{normal:p.a.DISABLED,hovered:p.a.SELECTED}}))}),this.renderCancelButton=(()=>{const{onCancel:e}=this.props,{formatMessage:t}=this.context.intl,a=t(this.props.cancelLabel);if(e)return r.a.createElement($.a,{onClick:e,kind:J.a.SECONDARY,style:ie,title:t(this.props.cancelLabel),"aria-label":t(this.props.cancelLabel),"data-test-id":"confirm-button-cancel"},a)}),this.onConfirm=(e=>{this.props.disableConfirm||this.props.onConfirm(e)}),this._onAbort=(()=>{const{onAbort:e}=this.props;e&&e()}),t}render(){const{formatMessage:e}=this.context.intl,{title:t}=this.props;let{message:a}=this.props;const n=e(this.props.acceptLabel);return a||(a=this.props.children),r.a.createElement(Q.a,{onClose:this._onAbort,onKeyDown:this.handleKeyDown},r.a.createElement("div",{className:se.container,"data-test-id":"confirm-dialog"},r.a.createElement("div",{className:se.header},r.a.createElement("div",{className:se.title,"data-test-id":"confirm-title"},t),this.renderAbortButton()),r.a.createElement("div",{className:se.message,"data-test-id":"confirm-message"},a),r.a.createElement("div",{className:se.controls},r.a.createElement($.a,{onClick:this.onConfirm,style:ie,title:e(this.props.acceptLabel),"aria-label":e(this.props.acceptLabel),"data-test-id":"confirm-button-ok"},n),this.renderCancelButton())))}}re.contextTypes={intl:o.i.isRequired},re.defaultProps={acceptLabel:ne.defaultAcceptLabel,cancelLabel:ne.defaultCancelLabel,disableConfirm:!1};var oe=re;const le=Object(o.h)({brandName:{id:"yahoo_brand_name",defaultMessage:"Yahoo"},warningMessage:{id:"ad.sponsored_submit_warning",defaultMessage:"By submitting this form you agree to send your info to the advertiser who agrees to use it according to their privacy policy."},warningTitle:{id:"ad.sponsored_submit_title",defaultMessage:"Warning"}});class ce extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onConfirm=(()=>{this.props.submitForm(),this.props.hide()}),t}render(){const{formatMessage:e}=this.context.intl;return r.a.createElement(oe,{title:e(le.warningTitle),onConfirm:this.onConfirm,onAbort:this.props.hide,onCancel:this.props.hide,message:e(le.warningMessage)})}}ce.contextTypes={intl:o.i.isRequired};var de=ce,me=a(22);a.d(t,"logger",function(){return _e});const _e=K.a.create("norrin/gemini_sponsored_video"),ue=d()(q.a);class he extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showSubmitWarning:!1},this.videoPlayerCallbacks=["onAdPlaybackStart","onAdPlaybackEnd","onPlaybackStart","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce((e,t)=>(e[t]=((e={})=>{let a=e;if("object"==typeof e){const{adBreakId:t,videoId:n,adBreakItemId:s}=e;a={adBreakId:t,videoId:n,adBreakItemId:s}}_e.info("Empty folder video "+t,{payload:a})}),e),{}),this.initializeForm=(()=>{if(this.form=Object(X.findDOMNode)(this).querySelector("form"),this.form){const{emailAddress:e,accountName:t}=this.props;[].slice.call(this.form.elements).forEach(a=>{const n=a.name.toLowerCase();"fullname"===n&&t?a.value=t:"email"===n&&e&&(a.value=e)})}}),this._createMarkup=(()=>({__html:this.props.asset})),this.handleAdClicked=(e=>{Object(B.a)(this.props.actionUrls,"CLICK_INTERNAL",[]).forEach(function(e){const t=e.replace("$(click_label)","msm_click");return Object(H.a)(t,!1)}),this.form&&"submit"===e.target.type&&(e.preventDefault(),this.setState({showSubmitWarning:!0}))}),this.hideSubmitWarning=(()=>{this.setState({showSubmitWarning:!1})}),this.getFormParams=(e=>{if(e){return[].slice.call(e.elements).reduce((e,t)=>(t.name&&e.push(`${t.name}=${t.value}`),e),[]).join("&")}return""}),this.submitForm=(()=>{if(this.form){const e=this.form.method||me.a.GET,t=this.form.action||"",[a,n]=t.split("#$embeddedLandingUrl_");if(this.embeddedLandingUrl=Object(B.a)(this.props.embeddedLandingUrls,`${n}.url`,this.embeddedLandingUrl),!this.embeddedLandingUrl)return void this.form.submit();switch(e.toUpperCase()){case me.a.GET:{const e=window.encodeURIComponent(this.getFormParams(this.form));return void window.open(this.embeddedLandingUrl.replace("$(AD_FORMPARAMS)",e),"_blank")}case me.a.POST:return Object(H.a)(this.embeddedLandingUrl,!1),this.form.action=a,void this.form.submit()}}}),this.renderSponsoredMessageBody=(()=>{const e=this.context.getCss(Z.a);if(this.props.videoConfig){const t=Object(B.a)(this.props.videoConfig,"YVAP.standaloneAd.gemini.landingUrl"),a=Object(B.a)(this.props.videoConfig,"YVAP.standaloneAd.gemini.mediaInfo.0.contentType"),n=Object(B.a)(this.props.videoConfig,"playlist.mediaItems.0.images.thumbnail");return r.a.createElement("div",{className:e.sponsoredVideoBodyContainer},r.a.createElement("a",{rel:"noreferrer",role:"presentation",tabIndex:"-1",href:t,target:"_blank"},r.a.createElement("div",{className:e.sponsoredMessageSource},this.props.source),r.a.createElement("div",{className:e.sponsoredMessageDescription},this.props.description)),"video/mp4"===a||"application/vnd.apple.mpegurl"===a?r.a.createElement("div",{"data-test-id":"video-container"},r.a.createElement(z.a,babelHelpers.extends({},this.videoPlayerCallbacks,{width:"640px",height:"360px",playerConfig:this.props.videoConfig,key:"sponsoredGemini",showVideoCoverInitially:!1,play:!0}))):r.a.createElement("img",{src:n,className:e.videoAdThumbnail}),r.a.createElement("a",{rel:"noreferrer",role:"presentation",tabIndex:"-1",href:t,target:"_blank",className:e.sponsoredMessageButton,title:this.props.action},this.props.action))}return r.a.createElement("div",{className:"msg-body sponsored "+ue.bodyContainer,onClick:this.handleAdClicked,dangerouslySetInnerHTML:this._createMarkup(),"data-test-id":"sponsored-message-read"})}),t}componentDidUpdate(e){this.props.asset&&e.asset!==this.props.asset&&this.initializeForm()}componentDidMount(){this.props.asset&&this.initializeForm()}render(){const e=this.context.getCss(Z.a);return r.a.createElement("div",{className:e.container},r.a.createElement(W,{listId:this.props.listId,actionUrls:this.props.actionUrls,onForward:this.props.forwardCreative,onSave:this.props.saveSponsoredMessage,onClose:this.props.onClose,isVideoAd:!!this.props.videoConfig}),r.a.createElement("div",{className:e.scrollView},r.a.createElement(E,{subject:this.props.subject}),r.a.createElement("div",{className:ue.sponsoredMessageContainer},this.renderSponsoredMessageBody())),this.state.showSubmitWarning?r.a.createElement(de,{hide:this.hideSubmitWarning,submitForm:this.submitForm}):null)}}he.contextTypes={getCss:s.a.func},he.defaultProps={asset:"",listId:"",subject:"",actionUrls:{},source:"",description:"",action:"",embeddedLandingUrls:{}};t.default=he},,function(e,t,a){"use strict";a.r(t);var n=a(58),s=a.n(n),i=a(6),r=a.n(i),o=a(2),l=a.n(o),c=a(26),d=a.n(c),m=a(4),_=a(13),u=a(105),h=a(150),p=a(0),g=a(7),E=a(8),b=a(9),C=a(11),f=a.n(C),v=a(3),I=a(21),y=(a(38),a(44)),S=a(255),N=a(341),T=a(299),A=a(1005),M=a.n(A);const D=Object(m.h)({untitled:{id:"attachment_item.untitled_filename",defaultMessage:"Untitled"}}),O=f()(M.a);class k extends l.a.Component{render(){const{filename:e,type:t,subtype:a,size:n}=this.props.attachment,{formatMessage:s}=this.context.intl,i=N.b(e),r=e?N.a(e,i):s(D.untitled),o=Object(T.prettyPrintBytes)(n,1);return l.a.createElement("li",{className:O.itemContainer},l.a.createElement(S.a,{type:t,subtype:a}),l.a.createElement("div",{className:O.itemInfo},l.a.createElement("span",null,r),l.a.createElement("span",null,i),l.a.createElement("div",{className:O.itemSize},o)))}}k.contextTypes={intl:m.i.isRequired};var R=k,x=a(427);var P=class extends l.a.Component{render(){const e=Object(y.f)(this.props.attachments),t=f()(M.a);return e&&e.length>0?l.a.createElement("div",null,l.a.createElement(x.a,null),l.a.createElement("ul",{className:t.listContainer,"data-test-id":"print-attachments"},e.map((e,t)=>l.a.createElement(R,{attachment:e,key:t})))):null}},w=a(267),F=a(1006),L=a.n(F);const B=Object(m.h)({message_from:{id:"message_from",defaultMessage:"From:"},message_to:{id:"message_to",defaultMessage:"To:"},message_cc:{id:"message_cc",defaultMessage:"Cc:"},message_bcc:{id:"message_bcc",defaultMessage:"Bcc:"},message_subject:{id:"message_subject",defaultMessage:"Subject:"},message_date:{id:"message_date",defaultMessage:"Date:"},message_no_subject:{id:"no_subject",defaultMessage:"No Subject"}}),H={weekday:"long",year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",timeZoneName:"short"};class U extends l.a.Component{constructor(...e){var t;return t=super(...e),this.buildAddressList=(e=>{const t=[];return e.map(function(e){t.push(e.email||e.name)}),t.join("; ")}),t}render(){const{formatMessage:e,formatDate:t}=this.context.intl,{message:a}=this.props,{from:n,to:s,cc:i,bcc:r,date:o,subject:c}=a.headers,{name:d,email:m}=n[0]||{},_=d?`${d} (${m})`:m,u=f()(L.a),h=t(new Date(1e3*o),H);return l.a.createElement("header",{className:`print-header ${u.header}`},l.a.createElement("div",{className:u.subjectHeaderRow},l.a.createElement("span",{"data-test-id":"message-subject",className:u.subjectBody},c||`(${e(B.message_no_subject)})`)),l.a.createElement("div",{className:u.headerTable},l.a.createElement("div",{className:u.headerRow},l.a.createElement("span",{className:u.label},e(B.message_from)),l.a.createElement("span",{"data-test-id":"message-from",className:u.fieldBody},_)),s.length>0?l.a.createElement("div",{className:u.headerRow},l.a.createElement("span",{className:u.label},e(B.message_to)),l.a.createElement("span",{"data-test-id":"message-to",className:u.fieldBody},this.buildAddressList(s))):null,i.length>0?l.a.createElement("div",{className:u.headerRow},l.a.createElement("span",{className:u.label},e(B.message_cc)),l.a.createElement("span",{"data-test-id":"message-cc",className:u.fieldBody},this.buildAddressList(i))):null,r.length>0?l.a.createElement("div",{className:u.headerRow},l.a.createElement("span",{className:u.label},e(B.message_bcc)),l.a.createElement("span",{"data-test-id":"message-bcc",className:u.fieldBody},this.buildAddressList(r,u))):null,l.a.createElement("div",{className:u.headerRow,"data-test-id":"message-date"},l.a.createElement("span",{className:u.label},e(B.message_date)),l.a.createElement("span",{className:u.fieldBody},h))))}}U.contextTypes={intl:m.i.isRequired};var j=U,W=a(960),G=a(957),Z=a(1034),V=a.n(Z);class q extends l.a.Component{render(){const{offerDescription:e,brandName:t,imageUrl:a,dateDiff:n,offerValue:s,type:i}=this.props,r=f()(V.a);return l.a.createElement("div",{"data-test-id":"offer-list-item",className:r.container},l.a.createElement("div",{className:r.svgStyle},l.a.createElement("img",{className:r.icon,src:a,onError:e=>Object(W.a)(e,p.Fc)})),l.a.createElement("div",{className:r.cardDetails},l.a.createElement("div",{className:r.cardTitle},t),l.a.createElement("div",{className:r.cardDescription},e),s&&l.a.createElement("div",{className:r.boldGray},l.a.createElement(m.c,{id:"offer_list_item.offerValue",defaultMessage:"{offerValue} off",values:{offerValue:s}})),l.a.createElement("div",{className:r.boldGray},l.a.createElement(G.a,{type:i,daysUntilExpiry:n}))))}}const z=Object(m.h)({print_message:{id:"print_message",defaultMessage:"Print"},close_window:{id:"close_window",defaultMessage:"Close Window"},print_offer_header:{id:"print_offer_header",defaultMessage:"Your {retailerName} shopping list"}});class Y extends l.a.Component{render(){const{formatMessage:e}=this.context.intl,t=e(z.print_message),a=e(z.close_window),{closeWindow:n,message:s,offers:i,printWindow:r,retailerName:o}=this.props,c=f()(L.a);return l.a.createElement("div",null,l.a.createElement("div",{className:c.buttonContainer+" hide-on-print","data-test-id":"print-buttons-container"},l.a.createElement(I.a,{"data-test-id":"close-button","aria-label":a,title:a,kind:v.b.CLOSE,size:v.d.XS,onClick:n,className:c.button}),l.a.createElement(I.a,{"data-test-id":"print-button","aria-label":t,title:t,kind:v.b.PRINTER,size:v.d.XS,onClick:r,className:c.button})),s&&l.a.createElement("div",{"data-test-id":"print-message-view",className:c.printView,"data-test-expanded":!0,tabIndex:-1,"data-iskeynav":!0},l.a.createElement(j,{message:s}),l.a.createElement("div",null,l.a.createElement(w.a,{messageId:s.id,folderId:s.folder.id,quoteExpanded:!0,removeCollapseButton:!0,printView:!0}),l.a.createElement(P,{attachments:s.attachments}))),i&&l.a.createElement("div",null,l.a.createElement("p",{className:c.offerHeader},e(z.print_offer_header,{retailerName:o})),i.map(({brandName:e,dateDiff:t,description:a,imageUrl:n,offerId:s,offerValue:i})=>l.a.createElement(q,{brandName:e,dateDiff:t,imageUrl:n,key:s,offerDescription:a,offerValue:i}))))}}Y.contextTypes={intl:m.i.isRequired},a.d(t,"Print",function(){return Q}),a.d(t,"mapStateToProps",function(){return $}),a.d(t,"mapDispatchToProps",function(){return J});const K=s.a.create("norrin/info"),X=Object(m.h)({print_no_subject:{id:"print.no_subject",defaultMessage:"No Subject"},print_text:{id:"print.title",defaultMessage:"Unable to print"},print_blocked_warning:{id:"print.blocked.warning",defaultMessage:"You may be using an extension that blocks popups. To print, please click OK to enable popups for the current session"}});class Q extends l.a.Component{constructor(...e){var t;return t=super(...e),this.state={showPrintAlert:!1},this.onAcceptHandler=(()=>{this.setState({showPrintAlert:!1}),this.openPopup()}),this.onPrintCancel=(()=>{const{printId:e}=this.props;this.props.printMessageCancel({printId:e})}),this.openPopup=(()=>{this.popupHandle=window.open("","","resizable=yes, scrollbars=yes, width=600, height=600"),this.popupHandle?this.executePrint():this.state.showPrintAlert||this.setState({showPrintAlert:!0})}),this.executePrint=(()=>{const{mailBrandNameString:e}=this.context,{formatMessage:t}=this.context.intl,{direction:a,externalCss:n,hasFullBody:s,message:i,offers:r,printId:o}=this.props,c=Object(E.a)(i,"headers.subject")||`(${t(X.print_no_subject)})`,u=Date.now();if(!this.popupHandle)return;let h;if(n){const e=Array.from(document.getElementsByTagName("link")).find(function(e){return"mail-css"===e.id});h=e&&e.outerHTML||""}else h=`<style>${document.getElementsByTagName("style")[0].innerHTML}</style>`;this.popupHandle.document.write(`<html><head>\n                ${h}\n                </head>\n                <body id="Atom" dir="${a}" style=overflow:visible;min-width:auto><div id="printContainer"/></body></html>`),this.popupHandle.document.title=`${e} - ${c}`,this.popupHandle.document.close(),this.popupHandle.focus(),this.popupHandle.addEventListener("beforeunload",e=>{if(this.popupHandle&&!this.popupHandle._isRenderComplete)return e.preventDefault(),e.returnValue="",this.popupHandle.leaving=!0,void K.error("print window: beforeunload",{timeInMs:Date.now()-u});d.a.unmountComponentAtNode(this.popupHandle.document.getElementById("printContainer")),this.popupHandle=void 0}),this.popupHandle.addEventListener("unload",()=>{this.popupHandle&&this.popupHandle.leaving&&(d.a.unmountComponentAtNode(this.popupHandle.document.getElementById("printContainer")),this.popupHandle=void 0),clearTimeout(this.timer),this.props.printMessageClosed({printId:o})});const p=function(){this.popupHandle&&this.popupHandle.print()};(i||r)&&(d.a.render(l.a.createElement(m.f,window.AppIntl,l.a.createElement(_.a,{store:this.context.store},l.a.createElement(Y,babelHelpers.extends({},this.props,{closeWindow:function(){this.popupHandle.close()}.bind(this),printWindow:p.bind(this)})))),this.popupHandle.document.getElementById("printContainer"),()=>{this.popupHandle._isRenderComplete=!0}),s&&(clearTimeout(this.timer),this.timer=setTimeout(()=>{this.props.printMessageSuccess({printId:o}),p.call(this)},0)))}),t}componentWillReceiveProps(e){if(!this.props.printId&&e.printId&&this.popupHandle&&(this.popupHandle.close(),this.popupHandle=void 0),this.props.printId!==e.printId&&this.setState({showPrintAlert:!1}),!this.props.hasFullBody&&e.hasFullBody){const e=this.popupHandle;clearTimeout(this.timer),this.timer=setTimeout(()=>{e&&e.print()},500)}}componentDidUpdate(){const{printId:e,hasFullBody:t}=this.props;void 0!==e&&!this.popupHandle&&t&&this.openPopup()}render(){const{formatMessage:e}=this.context.intl;return this.state.showPrintAlert?l.a.createElement(h.a,{title:e(X.print_text),message:e(X.print_blocked_warning),onAccept:this.onAcceptHandler,onClose:this.onPrintCancel,hideClose:!1}):null}}Q.contextTypes={intl:m.i.isRequired,mailBrandNameString:r.a.string,store:r.a.object};const $=e=>{const{__patchV2MessageId__:t,doesMessageIdExist:a,getActivatedOffersSelectors:n,getCurrentListId:s,getEnvironmentSelectors:i,getFeaturesSelectors:r,getItemToPrint:o,getListsSelectors:l,getMessageBodiesSelectors:c,getRetailersSelectors:d}=Object(b.b)(e),m=o()||{},{isEnabled:_}=r(),u=_(p.kb.EXTERNAL_CSS),h=c().hasFullBody(m.messageId),E=s();let C=void 0,f="";if("ACTIVATED_OFFER_CARDS"===Object(g.r)(E)){const{getItemIdsSelectors:e}=l(),{getItemIds:t}=e(E),a=t(),{getActivatedOfferItemFromOfferId:s}=n(),i=Object(g.p)(E)||"",{getDisplayNameFromRetailerId:r}=d();C=a.map(e=>s(e)),f=r(i)}return{direction:i().getPageDirection(),externalCss:u,hasFullBody:h,message:a(m.messageId)?t(m.messageId,E):void 0,offers:C,printId:m.printId,retailerName:f}},J=e=>({printMessageCancel:t=>e(Object(u.h)(t)),printMessageClosed:t=>e(Object(u.i)(t)),printMessageSuccess:t=>e(Object(u.j)(t))});t.default=Object(_.b)($,J)(Q)},function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"injectCardButtons",function(){return G}),a.d(n,"enhanceCardsInTree",function(){return Z}),a.d(n,"getInjectionWrapper",function(){return V}),a.d(n,"shareCard",function(){return q}),a.d(n,"playEmbeddedMedia",function(){return z});a(6);var s=a(2),i=a.n(s),r=a(26),o=a.n(r),l=a(4),c=a(45),d=a.n(c);const m={default:{autoplay:1},"yahoo.com":{},"yimg.com":{},"youtube.com":{autoplay:1,fs:0,showinfo:0,modestbranding:1,playsinline:1},"youtu.be":{},"vimeo.com":{autoplay:1,badge:0,byline:0,title:0,portrait:0},"flickr.com":{},"tumblr.com":{},"reverbnation.com":{},"scribd.com":{},"linkedin.com":{},"viddler.com":{},"slideshare.net":{},"soundcloud.com":{auto_play:1}};m["s.yimg.com"]=m["yimg.com"],m["player.vimeo.com"]=m["vimeo.com"],m["w.soundcloud.com"]=m["soundcloud.com"];const _=/^https:\/\/(?:www\.)?((?:[\w~-]+\.)*[a-zA-Z0-9]+\.[a-zA-Z]+)/;function u(e){const t=_.exec(e);return t?t[1]:void 0}var h=a(1089),p=a.n(h),g=a(11),E=a.n(g);const b="https://s.yimg.com/nq/s/assets/html/yframe-min_2_2705.html",C=Object(l.h)({errorMessage:{id:"embeddedMediaPlayer.errorMessage",defaultMessage:"Cannot play media from this URL. The website is not supported."}});class f extends i.a.Component{constructor(...e){var t;return t=super(...e),this.generateUrl=(()=>{const{width:e,height:t,mediaUrl:a}=this.props,n=function(e){const t=u(e);return!!m[t]&&(Object.keys(m[t]).length?m[t]:m.default)}(a);if(!n)return!1;const s=d.a.stringify(n),i=`${a}${-1===a.indexOf("?")?"?":"&"}${s}`;return`${b}?src=${encodeURIComponent(i)}&width=${e}&height=${t}`}),t}componentWillMount(){this.setState({beforeAnimation:!!this.props.animate})}componentDidMount(){this.state.beforeAnimation&&(this.animationTimeout=setTimeout(()=>{this.animationTimeout=!1,this.setState({beforeAnimation:!1})},17))}componentWillUnmount(){this.animationTimeout&&clearTimeout(this.animationTimeout)}render(){const{width:e,height:t,animate:a}=this.props,{formatMessage:n}=this.context.intl,s=this.generateUrl(),{embeddedMediaPlayer:r,errorContainer:o}=E()(p.a,{animate:a,beforeAnimation:this.state.beforeAnimation});let l;return s?(this.state.beforeAnimation||(l={width:e,height:t}),i.a.createElement("iframe",babelHelpers.extends({src:s,className:r},l,{"data-test-id":"embedded-media-player"}))):i.a.createElement("div",{className:o,"data-test-id":"embedded-media-player-error"},n(C.errorMessage))}}f.contextTypes={intl:l.i.isRequired},f.defaultProps={width:400,height:200,animate:!1};var v=f,I=a(92),y=a(12),S=a(62),N=a(32),T=a(86),A=a(21),M=a(15),D=a(3),O=a(1090),k=a.n(O);const R=E()(k.a),x=Object(l.h)({shareButton:{id:"shareButton.button",defaultMessage:"Share"},mail:{id:"shareButton.mail",defaultMessage:"Mail"},facebook:{id:"shareButton.facebook",defaultMessage:"Facebook"},twitter:{id:"shareButton.twitter",defaultMessage:"Twitter"},tumblr:{id:"shareButton.tumblr",defaultMessage:"Tumblr"},mailLI:{id:"shareButton.mailLI",defaultMessage:"Share in Email"},facebookLI:{id:"shareButton.facebookLI",defaultMessage:"Share to Facebook"},twitterLI:{id:"shareButton.twitterLI",defaultMessage:"Share to Twitter"},tumblrLI:{id:"shareButton.tumblrLI",defaultMessage:"Share to Tumblr"}}),P=function({url:e,shareCard:t,onShareCardLinkClick:a},{intl:{formatMessage:n}}){const s=encodeURIComponent(e);return i.a.createElement("div",{className:R.anchorContainer,style:{zIndex:3}},i.a.createElement(I.c,{triggerOn:I.b.HOVER,triggerOff:I.a.HOVER_OUT|I.a.CLICK,align:y.a.START,isArrowVisible:!1},i.a.createElement("div",{"data-test-id":"shareButtonAnchor",tabIndex:"-1",className:R.menuButton},i.a.createElement(A.a,{kind:D.b.SHARE_SOCIAL,size:D.d.XXS,paddingLess:!0,title:n(x.shareButton)})),i.a.createElement("div",{className:R.shareMenuContainer},i.a.createElement(S.a,{kind:T.a.MENU},i.a.createElement(N.a,{ariaLabel:n(x.mailLI)},i.a.createElement("a",{href:"#",className:R.shareLink,onClick:n=>{a(n,e),t(n)},"data-test-id":"share-to-mail"},i.a.createElement(M.b,{kind:D.b.INBOX,size:D.d.XXS,colorState:D.a.YBADGE,style:{padding:"2px"}}),i.a.createElement("span",{className:R.shareLinkText},n(x.mail)))),i.a.createElement(N.a,{ariaLabel:n(x.facebookLI)},i.a.createElement("a",{href:`https://www.facebook.com/dialog/share?app_id=90376669494&display=popup&href=${s}`,target:"_blank",className:R.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-facebook",rel:"noopener"},i.a.createElement(M.b,{kind:D.b.FACEBOOK,size:D.d.XS,colorState:D.a.FACEBOOK_ENABLED}),i.a.createElement("span",{className:R.shareLinkText},n(x.facebook)))),i.a.createElement(N.a,{ariaLabel:n(x.twitterLI)},i.a.createElement("a",{href:`https://twitter.com/intent/tweet?url=${s}`,target:"_blank",className:R.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-twitter",rel:"noopener"},i.a.createElement(M.b,{kind:D.b.TWITTER,size:D.d.XS,colorState:D.a.TWITTER_ENABLED}),i.a.createElement("span",{className:R.shareLinkText},n(x.twitter)))),i.a.createElement(N.a,{ariaLabel:n(x.tumblrLI)},i.a.createElement("a",{href:`https://www.tumblr.com/widgets/share/tool/preview?_format=html&canonicalUrl=${s}`,target:"_blank",className:R.shareLink,onClick:t=>{a(t,e)},"data-test-id":"share-to-tumblr",rel:"noopener"},i.a.createElement(M.b,{kind:D.b.TUMBLR,size:D.d.XS}),i.a.createElement("span",{className:R.shareLinkText},n(x.tumblr))))))))};P.contextTypes={intl:l.i.isRequired};var w=P,F=a(231),L=a(128),B=a(966),H=a(1091),U=a.n(H);const j=E()(U.a),W=Object(l.h)({play:{id:"mediaCard.playButtonAltText",defaultMessage:"Play"},close:{id:"mediaCard.closeButtonTitle",defaultMessage:"Close"}});function G(e,t,a,n,s,r){const l=V(e),c=e.getAttribute("data-size").toUpperCase(),d=e.getBoundingClientRect(),m=E()(U.a,{cardSize:c});let _,u,h=72,p=null;if(c!==B.b.MINI&&c!==B.b.APPEND){c===B.b.COVER&&(h=90);const s=h;if(B.b[c]){const{thumbnailWidth:e,thumbnailHeight:t,maxWidth:a}=B.a[c];_=((e||a)-h-20)/2,u=(t-s-20)/2}(!B.b[c]||d.height<B.a[c].thumbnailHeight)&&(_=(d.width-h-20)/2,u=(d.height-s-20)/2),p=i.a.createElement("div",{onClick:z.bind(null,e,t,a,n,r),style:{top:`${u}px`,left:`${_}px`,height:`${s}px`},className:m.playButtonContainer,tabIndex:"0",title:r(W.play),"aria-label":r(W.play),role:"button"},i.a.createElement(F.a,{kind:L.a.PLAY_VIDEO,width:h,height:s,altText:r(W.play)}))}o.a.unstable_renderSubtreeIntoContainer(a,i.a.createElement("div",null,p,i.a.createElement("div",{className:m.shareButtonContainer},i.a.createElement(w,{url:e.getAttribute("data-url"),shareCard:q.bind(null,e,t,n),onShareCardLinkClick:s}))),l)}function Z(e,t,a,n,s){const r=e.querySelectorAll('div[class*="yahoo-link-enhancr-card"]');Array.prototype.forEach.call(r,r=>{if(!r.getElementsByClassName("card-controls-injection-wrapper").length){const l=r.getAttribute("data-embed-url"),c=r.getAttribute("data-url"),d=r.getAttribute("data-size");if(!c||!d)return;const _=document.createElement("div"),h=d.toUpperCase(),p=E()(U.a,{cardSize:h});r.style.position="relative",_.classList.add("card-controls-injection-wrapper"),Object.assign(_.style,{position:"absolute",top:"0px",width:"100%",height:"0",zIndex:"3"}),r.appendChild(_),l&&function(e){return!!m[u(e)]}(l)?G(r,e,t,a,n,s):o.a.unstable_renderSubtreeIntoContainer(t,i.a.createElement("div",{className:p.shareButtonContainer},i.a.createElement(w,{url:c,shareCard:q.bind(null,r,e,a),onShareCardLinkClick:n})),_)}})}function V(e){return e.getElementsByClassName("card-controls-injection-wrapper")[0]}function q(e,t,a,n){n.preventDefault();const s=e.getAttribute("id"),i=e.getAttribute("data-url"),r=e.querySelector('[class*="card-title"]'),o=r?r.textContent:i,l=e.cloneNode(!0),c=V(l);let d=t.querySelector(`a[class~="${s}"]`);d||((d=document.createElement("a")).setAttribute("href",i),s&&d.classList.add(s),d.textContent=o),c&&l.removeChild(c),l.style.removeProperty("position"),a(o,`<div>${d.outerHTML}<br/></div><div><br/></div>${l.outerHTML}<div><br/></div><div><br/></div>`)}function z(e,t,a,n,s){const r=e.getAttribute("data-embed-url"),l=V(e),c=e.getBoundingClientRect(),d=i.a.createElement("div",{className:j.closeButtonContainer},i.a.createElement("div",{className:j.closeButtonPositioner},i.a.createElement(A.a,{onClick:G.bind(null,e,t,a,n,null,s),kind:D.b.CLOSE_MINI,title:s(W.close),ariaLabel:s(W.close),role:"button","data-test-id":"embedded-media-player-close-button"}))),m=i.a.createElement(v,{mediaUrl:r,width:c.width,height:c.height,animate:!0});o.a.unstable_renderSubtreeIntoContainer(a,i.a.createElement("div",null,d,m),l)}t.default=class extends i.a.Component{componentDidMount(){this.props.onLoad(n)}render(){return null}}},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(1182),c=a.n(l),d=a(60),m=a(970),_=a(11),u=a.n(_),h=a(128),p=a(231),g=a(1183),E=a.n(g);const b=Object(o.h)({playVideo:{id:"videoPlayerPlayButton",defaultMessage:"Play video"},reload:{id:"videoPlayerReloadButton",defaultMessage:"Reload"}});class C extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showError:this.props.loadError},this.renderPlayButton=(()=>{const{playButtonSize:e,handleClick:t}=this.props,{formatMessage:a}=this.context.intl,{showError:n}=this.state,s=u()(E.a,{showError:n});return r.a.createElement("div",{className:s.playButton,"data-test-id":"player-play-button",tabIndex:"0","aria-label":a(b.playVideo),title:a(b.playVideo),role:"button",onClick:t},r.a.createElement(p.a,{kind:h.a.PLAY_VIDEO,width:e,height:e}))}),this.renderError=(()=>{const{formatMessage:e}=this.context.intl,{showError:t}=this.state,a=u()(E.a,{showError:t});return r.a.createElement("div",{className:a.errorContainer,"data-test-id":"player-error"},r.a.createElement("div",{className:a.errorMessage},r.a.createElement(o.c,{id:"tutorial.load_error",defaultMessage:"Sorry, an error has occurred while streaming this video. We apologize for any inconvenience."})),r.a.createElement("button",{className:a.reloadButton,onClick:this.props.handleClick,tabIndex:-1,title:e(b.reload),"data-test-id":"player-reload-button"},r.a.createElement(o.c,b.reload)))}),t}componentWillReceiveProps(e){this.props.loadError!==e.loadError&&this.setState({showError:e.loadError})}render(){const{width:e,height:t}=this.props,{showError:a}=this.state,n=u()(E.a,{showError:a});return r.a.createElement("div",{className:n.container,style:{width:e,height:t},tabIndex:"-1"},this.props.coverImage?r.a.createElement("img",{className:n.coverImage,"data-test-id":"player-cover-image",src:this.props.coverImage,"aria-hidden":!0}):null,a?this.renderError():this.renderPlayButton())}}C.contextTypes={intl:o.i},C.defaultProps={width:"480px",height:"270px",playButtonSize:48,loadError:!1};var f=C,v=a(5),I=a(1);function y(e,t){e.dispatch(I.a.TUTORIAL_VIDEO_PLAYED,t)}var S=a(1184),N=a.n(S),T=a(1185),A=a.n(T);const M=Object(o.h)({playingText:{id:"video_item_playing_text",defaultMessage:"Playing now"}});class D extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1},this.handleSelect=(()=>{const{videoIndex:e}=this.props;this.props.handleSelect(e)}),this.handleHovered=(e=>{this.setState({isHovered:e})}),this.renderPlayButton=(()=>{const{isPlaying:e}=this.props,{isHovered:t}=this.state;return!e&&t}),t}render(){const{formatMessage:e}=this.context.intl,{mailBrandNameString:t}=this.context,{isPlaying:a,video:n}=this.props,{isHovered:s}=this.state,i=this.context.getCss(A.a,{isPlaying:a,isHovered:s});return r.a.createElement("div",{className:i.itemContainer,onClick:this.handleSelect,onMouseEnter:()=>this.handleHovered(!0),onMouseLeave:()=>this.handleHovered(!1)},r.a.createElement("img",{className:i.thumbnail,src:n.thumbnail,"aria-hidden":!0}),this.renderPlayButton()?r.a.createElement("div",{className:i.playButton},r.a.createElement(p.a,{kind:h.a.PLAY_VIDEO,width:48,height:48})):null,a?r.a.createElement("span",{className:i.playingText},e(M.playingText)):null,r.a.createElement("div",{className:i.videoTitle},e(n.title,{mailBrandNameString:t})))}}D.contextTypes={intl:o.i,getCss:s.a.func,mailBrandNameString:s.a.string};var O=D;const k=u()(N.a);var R=class extends r.a.Component{render(){const{videos:e,selectedVideoId:t,handleSelect:a}=this.props;return r.a.createElement("div",{className:k.galleryContainer},e.map((e,n)=>r.a.createElement(O,{key:n,handleSelect:a,video:e,isPlaying:t===e.id,videoIndex:n})))}};const x="502px",P="282px",w=Object(o.h)({video_title:{id:"tutorial.video_title",defaultMessage:"Introducing the new {mailBrandNameString}"},video_subsubtitle:{id:"tutorial.video_subsubtitle",defaultMessage:"With a cleaner design and streamlined features, you can now keep your inbox more organized than ever."},smarter_search_video_title:{id:"tutorial.smarter_search_video_title",defaultMessage:"Tips for Smarter Search"},smarter_search_video_subtitle:{id:"tutorial.smarter_search_video_subtitle",defaultMessage:"Three easy ways to search for emails, photos and documents in your inbox."},personalize_inbox_video_title:{id:"tutorial.personalize_inbox_video_title",defaultMessage:"Personalize your inbox"},personalize_inbox_video_subtitle:{id:"tutorial.personalize_inbox_video_subtitle",defaultMessage:"Set up your email just the way you like it"},email_organize_video_title:{id:"tutorial.email_organize_video_title",defaultMessage:"Email organization"},email_organize_video_subtitle:{id:"tutorial.email_organize_video_subtitle",defaultMessage:"Explore new ways to view and organize your emails"},compose_video_title:{id:"tutorial.compose_video_title",defaultMessage:"Send with style"},compose_video_subtitle:{id:"tutorial.compose_video_subtitle",defaultMessage:"Make your emails stand out with emojis, animated GIFs, stationery and more."}}),F=[{thumbnail:Object(d.a)("/img/mail_onboarding.jpg"),title:w.video_title,subTitle:w.video_subsubtitle},{thumbnail:Object(d.a)("/img/search_onboarding.jpg"),title:w.smarter_search_video_title,subTitle:w.smarter_search_video_subtitle},{thumbnail:Object(d.a)("/img/personalize_inbox.jpg"),title:w.personalize_inbox_video_title,subTitle:w.personalize_inbox_video_subtitle},{thumbnail:Object(d.a)("/img/email_organize.jpg"),title:w.email_organize_video_title,subTitle:w.email_organize_video_subtitle},{thumbnail:Object(d.a)("/img/compose_thumbnail.png"),title:w.compose_video_title,subTitle:w.compose_video_subtitle}];class L extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={selectedVideoIndex:-1,isInitialState:!0},this.renderHeader=(e=>{const{mailBrandNameString:t}=this.context;return r.a.createElement("div",{className:e.headerSection},r.a.createElement("div",{className:e.viewHeader},r.a.createElement(o.c,{id:"tutorial.view_title",defaultMessage:"Explore More"})),r.a.createElement("div",{className:e.viewDescription},r.a.createElement(o.c,{id:"tutorial.view_description",defaultMessage:"See how easy it is to use {mailBrandNameString}'s new powerful features",values:{mailBrandNameString:t}})))}),this.handlePlaybackStart=(()=>{const{selectedVideoIndex:e}=this.state;this.context.executeAction(y,{i13nModel:{mKey:v.e.TUTORIAL_VIDEO,sec:v.g.TUTORIALS,interactionType:v.d.click,actionData:{videoId:e>=0?F[e].id:F[0].id}}})}),this.handleVideoClick=(()=>{const{selectedVideoIndex:e}=this.state;e<0&&this.handleVideoSelect(0)}),this.getMediaItems=(()=>{const{selectedVideoIndex:e}=this.state;if(e>=0){let t=[F[e]];return(t=t.concat(F.filter((t,a)=>a!==e))).map(e=>({id:e.id}))}return F.map(e=>({id:e.id}))}),this.renderPlayer=(e=>{const t={width:x},{isInitialState:a,selectedVideoIndex:n}=this.state,{mailBrandNameString:s}=this.context,i=n>=0?F[n].id:"",l=n>=0?F[n]:F[0],c={playlist:{mediaItems:this.getMediaItems()},replayonlyendscreen:!0,autoplay:!0};return r.a.createElement("div",{className:e.playerContainer},r.a.createElement("div",{className:e.videoContainer},r.a.createElement(m.a,{playerConfig:c,width:x,height:P,playerPositionId:i,onPlaybackStart:this.handlePlaybackStart,handleVideoClick:this.handleVideoClick},a?r.a.createElement(f,{playButtonSize:88,coverImage:l.thumbnail,width:x,height:P,handleClick:()=>{}}):null)),r.a.createElement("div",{className:e.msgContainer,style:t},r.a.createElement("div",{className:e.videoTitle},r.a.createElement(o.c,babelHelpers.extends({},l.title,{values:{mailBrandNameString:s}}))),r.a.createElement("div",{className:e.videoSubtitle},r.a.createElement(o.c,l.subTitle))))}),this.handleVideoSelect=(e=>{const{selectedVideoIndex:t}=this.state;e!==t&&this.setState({selectedVideoIndex:e,isInitialState:!1})}),t}render(){const{selectedVideoIndex:e}=this.state,t=e>=0?F[e].id:"",a=this.context.getCss(c.a),n=this.props.newMailVideoId;return F[0].id=n.onboarding,F[1].id=n.searchOnboarding,F[2].id=n.personalizeInbox,F[3].id=n.emailOrganization,F[4].id=n.compose,r.a.createElement("div",{"data-test-id":"tutorial-view",className:a.container},this.renderHeader(a),this.renderPlayer(a),r.a.createElement(R,{handleSelect:this.handleVideoSelect,videos:F,selectedVideoId:t}))}}L.contextTypes={executeAction:s.a.func.isRequired,getCss:s.a.func,config:s.a.object,mailBrandNameString:s.a.string};t.default=L},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(1225),l=a.n(o),c=a(9),d=a(13),m=a(4),_=a(1226),u=a.n(_),h=a(1227),p=a.n(h),g=a(453);class E extends r.a.Component{render(){const{adItem:e}=this.props,t=this.context.getCss(p.a),a=e.dealPrice?e.dealPrice:e.originalPrice;return r.a.createElement("div",{"data-test-id":"pla-ad-description",className:t.plaAdDescription},r.a.createElement("p",{className:t.adTitle},e.title),r.a.createElement("div",{className:t.adPricePanel},a.indexOf(".")>-1?r.a.createElement("p",{className:t.itemPrice},a.split(".")[0],".",r.a.createElement("span",{className:t.subscriptText},a.split(".")[1])):r.a.createElement("p",{className:t.itemPrice},a),e.dealPrice&&r.a.createElement("p",{className:t.itemOriginalPrice},e.originalPrice)),e&&e.productRating?r.a.createElement("div",{className:t.ratingPanel},r.a.createElement("div",{className:t.starPanel},r.a.createElement(g.a,{value:parseInt(e.productRating.rating,10)/2})),r.a.createElement("p",{className:t.productText},e.productRating.rating/2," ","(",e.productRating.numberOfReviews,")")):r.a.createElement("div",{className:t.sellerInfo},r.a.createElement("p",{className:t.productText},e.sellerName)))}}E.contextTypes={intl:m.i.isRequired,getCss:s.a.func};class b extends r.a.Component{render(){const{adItem:e,adPanelClicked:t}=this.props,a=this.context.getCss(u.a);return r.a.createElement("a",{rel:"noreferrer",href:e.url,target:"_blank","aria-hidden":!0,onClick:()=>t(e)},r.a.createElement("div",{"data-test-id":"pla-ad-panel",className:a.plaAdsPanel},r.a.createElement("div",{"data-test-id":"pla-image-panel",className:a.plaImagePanel},r.a.createElement("div",{"data-test-id":"ad-image",className:a.adImage,style:{backgroundImage:`url(${e.image})`}})),r.a.createElement(E,{adItem:e})))}}b.contextTypes={intl:m.i.isRequired,getCss:s.a.func};var C=a(1228),f=a.n(C),v=a(168),I=a(16),y=a(10),S=a(21),N=a(3),T=a(8),A=a(29);const M=Object(T.c)(["NEXT","PREV"]);class D extends r.a.Component{constructor(){super(),this.renderItems=((e,t)=>{const{gptItemClicked:a}=this.props;return e.map((e,n)=>r.a.createElement("div",{key:`gptItem-${n}`,ref:`gptItem-${n}`},r.a.createElement(I.a,{"data-iskeynav":!0,tabIndex:y.TabIndices.SEGMENTED_CONTROL_FILTERS,"aria-label":e,title:e,onClick:a.bind(null,e),className:t.filterItem},r.a.createElement("span",{className:t.filterItemText},e))))}),this.state={offset:0,offsetItemIndex:0,gptContainerActualWidth:0,gptContainerFixedWidth:0,gptListNavButtonWidth:0,gptItemsWidth:{}}}handleNavigate(e){const{offset:t,offsetItemIndex:a,gptItemsWidth:n,gptContainerActualWidth:s,gptListNavButtonWidth:i}=this.state;let r=t,o=0,l=0,c=a;const d=this.gptContainer.getBoundingClientRect().width;if(e===M.NEXT){const e=s-(o=n[`gptItem-${a}`])-t;c++,l=0===t?d>e?-(s-(d+t)+1):-o:d+i>e?-(s-(d+t+i)+1):-o}else if(c--,s-t<=d){let e=c,a=0;for(;e<Object.keys(n).length;)a+=n[`gptItem-${e}`],e++;l=0===c?t:a-d+1}else o=n[`gptItem-${c}`],l=0===c?t:o;0!==l&&this.setState({offset:r=t-l,offsetItemIndex:c})}componentDidMount(){const e={},t=this.refs;Object.keys(t).forEach(a=>{a.indexOf("gptItem-")>-1&&(e[a]=t[a].getBoundingClientRect().width+1)}),this.setState({gptContainerActualWidth:this.gptSubContainer.getBoundingClientRect().width,gptContainerFixedWidth:this.gptContainer.getBoundingClientRect().width,gptListNavButtonWidth:this.gptListNavButton.getBoundingClientRect().width,gptItemsWidth:e})}render(){const{gptList:e,currentGptItem:t}=this.props,{offset:a,gptContainerActualWidth:n,gptContainerFixedWidth:s}=this.state,i=this.context.getCss(f.a),o=e.indexOf(t),l=0===a,c=n&&this.gptContainer&&s+a>=n,d=this.context.getThemeMode()!==A.f.LIGHT,m=l&&c?{position:"relative"}:{left:-a};return r.a.createElement("div",{className:i.gptSegmentedControlRoot},!l&&r.a.createElement("div",{className:i.backButtonContainer},r.a.createElement(S.a,{"data-iskeynav":!0,"data-test-id":"gpt-list-back-button",kind:N.b.ARROW_RIGHT_DOC,rotate:N.c.D180,size:N.d.XXS,onClick:this.handleNavigate.bind(this,M.PREV),colorState:N.a.INHERITED,title:"Back","aria-label":"Back",className:i.navButton})),r.a.createElement("div",{className:i.gptSegmentedControlPanel,ref:e=>{this.gptContainer=e}},r.a.createElement("div",{className:i.gptSegmentedControlSubPanel,ref:e=>{this.gptSubContainer=e},style:m},r.a.createElement(v.a,{activeIndex:o,isOnDarkBackground:d},this.renderItems(e,i)))),!c&&r.a.createElement("div",{className:i.nextButtonContainer,ref:e=>{this.gptListNavButton=e}},r.a.createElement(S.a,{"data-iskeynav":!0,"data-test-id":"gpt-list-next-button",kind:N.b.ARROW_RIGHT_DOC,size:N.d.XXS,onClick:this.handleNavigate.bind(this,M.NEXT),colorState:N.a.INHERITED,title:"Next","aria-label":"Next",className:i.navButton})))}}D.contextTypes={intl:m.i.isRequired,getCss:s.a.func,getThemeMode:s.a.func};var O=a(1229),k=a.n(O),R=a(62),x=a(32),P=a(30),w=a(15),F=a(63),L=a(57),B=a(40),H=a(12);const U=({gptList:e,currentGptItem:t,gptItemClicked:a},{getCss:n})=>{const s=n(k.a),i=e.map(e=>r.a.createElement(x.a,{key:e,name:e},r.a.createElement(I.a,{"data-test-id":e,kind:P.a.MENUITEM,onClick:a.bind(null,e),title:e,"aria-label":e},e===t?r.a.createElement("span",{className:s.gptItemIcon},r.a.createElement(w.b,{kind:N.b.CHECKMARK,size:N.d.XS,colorState:N.a.NORMAL})):null,r.a.createElement("span",{className:s.gptItemLabel},e))));return r.a.createElement("div",null,r.a.createElement(F.a,null,r.a.createElement(L.a,null,r.a.createElement("div",{className:s.gptDropdownHeaderContainer},r.a.createElement("p",{className:s.gptHeaderText},t||e[0]),r.a.createElement(S.a,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"show-list-button",kind:N.b.CHEVRON_UP,colorState:N.a.INHERITED,size:N.d.S,rotate:N.c.D180,className:s.displayGptItemListButton}))),r.a.createElement(B.b,{triggerOn:H.h.CLICK,isArrowVisible:!1,offset:12},r.a.createElement("div",null,r.a.createElement(R.a,{focusOnMount:!0,"data-test-id":"gpt-list-menu"},i)))))};U.contextTypes={getCss:s.a.func};var j=U,W=a(7),G=a(336),Z=a(5),V=a(0),q=a(56),z=a(231),Y=a(128);a.d(t,"PlaAdsPanelRoot",function(){return X}),a.d(t,"mapStateToProps",function(){return Q}),a.d(t,"mapDispatchToProps",function(){return $});const K=Object(m.h)({headerTitle:{id:"pla.header.title",defaultMessage:"Deals from the web"},noAdsText:{id:"no.ads.text",defaultMessage:"Nothing to see here!"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class X extends r.a.Component{onAdPanelClicked(e){const{onPlaAdClicked:t,searchKeyword:a,currentGptItem:n,plaAdsOnCouponMessageRead:s,plaAdsOnRecommendationEmailRead:i}=this.props;t({i13nModel:{mKey:Z.e.SEARCH_PLA_AD_ITEM_CLICKED,sec:Z.g.RIGHT_RAIL_PLA_CARD,interactionType:Z.d.click,actionData:{adTitle:e.title,keyword:s||i?n:a}}})}gptItemClicked(e){const{onGptMenuItemClicked:t,currentGptItem:a}=this.props;e!==a&&t({i13nModel:{mKey:Z.e.PLA_GPT_CATEGORY_CLICKED,sec:Z.g.RIGHT_RAIL_PLA_CARD,interactionType:Z.d.click,actionData:{keyword:e}},keyword:e})}getPlaContainerData(e){const{plaAdsData:t,plaAdsIsLoading:a,plaAdsOnCouponMessageRead:n,plaAdsOnRecommendationEmailRead:s}=this.props,{formatMessage:i}=this.context.intl;return a?r.a.createElement("div",{className:e.loadingContainer},r.a.createElement(q.b,{size:q.a.M})):!n&&!s||!a&&t&&t.length>0?r.a.createElement("div",{className:e.plaAdsContainer,ref:e=>{this.plaAdsContainer=e}},r.a.createElement("div",null,t.map((e,t)=>r.a.createElement(b,{key:t,adItem:e,adPanelClicked:this.onAdPanelClicked.bind(this)})))):r.a.createElement("div",{className:e.noAdsContainer,"data-test-id":"no-ads-container"},r.a.createElement("p",{className:e.noAdsText},i(K.noAdsText)),r.a.createElement("div",{className:e.emptyAdsImage},r.a.createElement(z.a,{kind:Y.a.EMPTY_FOLDER,width:80,height:80,altText:i(K.noAdsText)})))}componentDidUpdate(){this.plaAdsContainer&&(this.plaAdsContainer.scrollTop=0)}render(){const{aboutAdsUrl:e,gptList:t,plaAdsOnMessageReadBucketId:a,currentGptItem:n,plaAdsOnCouponMessageRead:s,plaAdsOnRecommendationEmailRead:i,recommendedItems:o,groupId:c}=this.props,{formatMessage:d}=this.context.intl,m=this.context.getCss(l.a),_=s&&t.length>0&&-1!==[V.yc.bucket_1,V.yc.bucket_3].indexOf(a),u=s&&t.length>0&&-1!==[V.yc.bucket_2,V.yc.bucket_4].indexOf(a),h=i&&o.length&&a===V.yc.bucket_5,p=i&&o.length&&a===V.yc.bucket_6;return r.a.createElement("div",{className:m.plaAdsPanelRoot,"data-test-id":"pla-ads-panel-root"},r.a.createElement("div",{className:m.plaAdsSubPanelRoot,"data-test-id":"pla-ads-sub-panel-root"},r.a.createElement("div",{className:m.headerTitlePanel},r.a.createElement("a",{rel:"noreferrer",href:e,target:"_blank",className:m.sponsoredIcon},r.a.createElement(w.b,{kind:N.b.SPONSORED,size:N.d.S,colorState:N.a.INHERITED})),r.a.createElement("p",{className:m.headerTitle},d(K.headerTitle)),r.a.createElement("a",{rel:"noreferrer",href:e,target:"_blank",className:m.sponsored},d(K.ad_text))),(_||h)&&r.a.createElement(D,{gptList:s?t:o,gptItemClicked:this.gptItemClicked.bind(this),currentGptItem:n,key:c}),(u||p)&&r.a.createElement(j,{gptList:s?t:o,gptItemClicked:this.gptItemClicked.bind(this),currentGptItem:n,key:c}),this.getPlaContainerData(m)))}}X.contextTypes={intl:m.i.isRequired,getCss:s.a.func};const Q=e=>{const{getRoute:t,isFeatureEnabled:a,getSetting:n,getCouponsSelectors:s,getUnsyncedDataToSync:i,getRecommendedItemCardSelectors:r,getPlaAdsSelectors:o,getGroupId:l}=Object(c.b)(e),d=t(),m=Object(W.t)(d),_=l(),u=Object(W.p)(m),{gptCategoryList:h}=s().getCouponsGPTData(),p=r().getRecommendedItemList(),g=n(V.id.ABOUT_AD_URL),E=n(V.id.PLA_ADS_ON_MESSAGE_READ_CONFIGURATION).bucketId,b=a(V.kb.PLA_ADS_ON_COUPON_MESSAGE_READ),C=a(V.kb.PLA_ADS_ON_RECOMMENDATION_EMAIL_READ),{plaAdsData:f,currentGptItem:v}=o().getPlaAdsData(),I=i(Date.now()).some(e=>e.type===V.Td.PLA_ADS_TO_FETCH&&e.hash===v);return{plaAdsData:f,searchKeyword:u,gptList:h,plaAdsOnMessageReadBucketId:E,plaAdsOnCouponMessageRead:b,plaAdsOnRecommendationEmailRead:C,aboutAdsUrl:g,currentGptItem:v,plaAdsIsLoading:I,recommendedItems:p,groupId:_}},$=e=>({onPlaAdClicked:t=>e(Object(G.b)(t)),onGptMenuItemClicked:t=>e(Object(G.a)(t))});t.default=Object(d.b)(Q,$)(X)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(58),l=a.n(o).a.create("norrin/empty_folder_video"),c=a(4),d=a(13),m=a(9),_=a(970),u=a(1036),h=a.n(u),p=a(11),g=a.n(p),E=a(144),b=a(91),C=a(3),f=a(15),v=a(16),I=a(21),y=a(62),S=a(63),N=a(57),T=a(40),A=a(12),M=a(32),D=a(30);const O=Object(c.h)({hide:{id:"efv_hide",defaultMessage:"Hide"},featured:{id:"efv_featured_channel",defaultMessage:"Featured"},news:{id:"efv_news_channel",defaultMessage:"News"},finance:{id:"efv_finance_channel",defaultMessage:"Finance"},sports:{id:"efv_sports_channel",defaultMessage:"Sports"},lifestyles:{id:"efv_lifestyles_channel",defaultMessage:"Lifestyles"},entertainment:{id:"efv_entertainment_channel",defaultMessage:"Entertainment"}});class k extends r.a.Component{constructor(...e){var t;return t=super(...e),this.closePlayer=(e=>{e.preventDefault(),this.props.handleCloseVideoPlayer()}),this.changeChannel=((e,t)=>{t.preventDefault(),this.props.changeChannel(e)}),this.renderChannels=(()=>{const{currentChannel:e,channels:t,channelData:a}=this.props;return Object.keys(t).map(t=>{const n=t===e,s=g()(h.a,{active:n}),i=a[t]?a[t].channelName:"";return r.a.createElement(M.a,{key:t,name:t},r.a.createElement(v.a,{kind:D.a.MENUITEM,onClick:this.changeChannel.bind(this,t),title:i,"aria-label":i},n?r.a.createElement("span",{className:s.checkMark},r.a.createElement(f.b,{kind:C.b.CHECKMARK,size:C.d.XS,colorState:C.a.NORMAL})):null,r.a.createElement("span",{className:s.channelTab},i)))})}),t}render(){const e=g()(h.a),{formatMessage:t}=this.context.intl,{currentChannel:a,channelData:n}=this.props,s=n[a]?n[a].channelName:"";return r.a.createElement("div",{"data-test-id":"efv-toolbar",className:e.container},!this.props.aolVideoPlayer&&r.a.createElement(S.a,null,r.a.createElement(N.a,null,r.a.createElement("div",{"data-test-id":"efv-channel-list",className:e.categoryFilterContainer},s&&r.a.createElement("p",{className:e.categoryFilterHeader},s),r.a.createElement(I.a,{"data-iskeynav":!0,paddingLess:!0,"aria-label":"show list",title:"show list","data-test-id":"show-list-button",kind:C.b.CHEVRON_UP,colorState:C.a.INHERITED,size:C.d.S,rotate:C.c.D180}))),r.a.createElement(T.b,{triggerOn:A.h.CLICK,isArrowVisible:!1,offset:12},r.a.createElement("div",null,r.a.createElement(y.a,{focusOnMount:!0,"data-test-id":"gpt-list-menu"},this.renderChannels())))),r.a.createElement(E.a,null),r.a.createElement("span",{className:e.closeWrapper},r.a.createElement(b.a,{"data-test-id":"efv-toolbar-close",kind:C.b.CLOSE,size:C.d.XS,onClick:this.closePlayer,title:t(O.hide),colorStates:{normal:C.a.NORMAL,hovered:C.a.SELECTED}})))}}k.contextTypes={intl:c.i};var R=k,x=a(121),P=a(1037),w=a.n(P),F=a(226),L=a(7),B=a(0);const H={WIDTH:"640px",HEIGHT:"360px"},U={mute:!0,playlistUI:{show:!0,position:"bottom"},YVAP:{accountId:"1097",timeout:20,vpaidTimeout:20},site:"Mail",html5:!1,expName:"mailemptyfolderHTML5"};var j=a(10),W=a(8),G=a(185);var Z=Object(d.b)(e=>{const{getSetting:t}=Object(m.b)(e);return{videoPlayerUrl:t(B.id.AOL_VIDEO_PLAYER_URL),videoPlayerIframeSrc:t(B.id.AOL_VIDEO_PLAYER_IFRAME_SRC)}})(class extends r.a.Component{constructor(){super(),this.handleIframeLoaded=this.handleIframeLoaded.bind(this)}componentWillReceiveProps(e){this.playerApi&&this.props.play!==e.play&&(e.play?this.playerApi.play():this.playerApi.pause())}handleIframeLoaded(e){this.playerApi||G.a.loadScript(this.props.videoPlayerUrl).then(()=>{window.oath&&window.oath.player&&window.oath.player.loadIframeApi(e,e=>{this.playerApi=e,this.props.play||this.playerApi.pause()})})}render(){const{width:e,height:t,videoPlayerIframeSrc:a}=this.props;return r.a.createElement("iframe",{"data-test-id":"aol-video-player",ref:this.handleIframeLoaded,src:a,sandbox:"allow-same-origin allow-scripts",allow:"autoplay",allowFullScreen:!0,width:e,height:t,frameBorder:"0"})}}),V=a(47);a.d(t,"EmptyFolderVideo",function(){return z}),a.d(t,"mapStateToProps",function(){return Y}),a.d(t,"mapDispatchToProps",function(){return K});const q=Object(c.h)({sub_header:{id:"efv_sub_header",defaultMessage:"Catch up on the most popular videos on {yahooBrandNameString}"},inbox:{id:"efv_inbox",defaultMessage:"Inbox"},unread:{id:"efv_unread",defaultMessage:"Unread"},starred:{id:"efv_starred",defaultMessage:"Starred"},draft:{id:"efv_drafts",defaultMessage:"Drafts"},sent:{id:"efv_sent",defaultMessage:"Sent"},archive:{id:"efv_archive",defaultMessage:"Archive"},spam:{id:"efv_spam",defaultMessage:"Spam"},trash:{id:"efv_trash",defaultMessage:"Trash"}});class z extends r.a.Component{constructor(...e){var t;return t=super(...e),this.videoPlayerCallbacks=["onAdPlaybackStart","onAdPlaybackEnd","onPlaybackStart","onPlaybackComplete","onPlaybackError","onAdError","onPlayerError","onLoadError"].reduce((e,t)=>(e[t]=((e={})=>{let a=e;if("object"==typeof e){const{adBreakId:t,videoId:n,adBreakItemId:s}=e;a={adBreakId:t,videoId:n,adBreakItemId:s}}l.info("Empty folder video "+t,{payload:a})}),e),{}),this.constructPlayerConfig=(()=>{const{channelData:e,currentChannel:t,spaceId:a,channels:n,autoplay:s}=this.props,{region:i}=this.context;let r={};for(const a in e)if(a===t){r=e[a];break}if(!Object(W.a)(r,"channelVideos.length",null))return null;const o={mediaItems:[{id:r.channelVideos[0].playlistId}],id:n[t.toLowerCase()]};return Object.assign({pageSpaceId:a,region:i,playlist:o,autoplay:s},U)}),this.openPlayer=(e=>{e.preventDefault(),this.props.handleOpenVideoPlayer()}),this.onUIInteract=(e=>{const{srcElement:t}=e,{handleVideoPlay:a,handleVideoPause:n}=this.props;switch(t){case"ctrl-play-btn":return a();case"ctrl-pause-btn":return n();case"ui_pl_thmb_clk":l.info("Playlist UI clicked")}}),this.handleMuteToggled=(e=>{this.mute=e}),this.renderHeader=(()=>{const{yahooBrandNameString:e}=this.context,{showVideoPlayer:t,folderName:a,isSystemFolder:n,isAccountSyncing:s}=this.props,i=g()(w.a,{videoHidden:s||!t||!this._playerConfig});return s?r.a.createElement("div",{"data-test-id":"efv-header",className:i.header},r.a.createElement(c.c,{id:"sync_folder_header",defaultMessage:"Syncing... Your mailbox will be ready momentarily"})):r.a.createElement("div",{"data-test-id":"efv-header",className:i.header},r.a.createElement(c.c,{id:"efv_header",defaultMessage:'Your "{folder_name}" folder is empty',values:{folder_name:r.a.createElement("span",{"data-test-id":"efv-folder-name",className:i.folderName},n&&q[a.toLowerCase()]?r.a.createElement(c.c,q[a.toLowerCase()]):a)}}),this._playerConfig?r.a.createElement("div",{"data-test-id":"efv-subheader",className:i.subHeader,onClick:t?null:this.openPlayer},r.a.createElement(c.c,babelHelpers.extends({},q.sub_header,{values:{yahooBrandNameString:e}}))):null)}),this.renderVideoPlayerContent=(()=>{const{isPaused:e,currentChannel:t,showEmptyFolderVideo:a,aolVideoPlayer:n}=this.props,s=g()(w.a,{aolVideoPlayer:n});return r.a.createElement("div",{"data-test-id":a?"efv-container-visible":"efv-container-hidden",className:s.container},r.a.createElement(R,this.props),r.a.createElement("div",{className:s.contentContainer},this.renderHeader(),r.a.createElement("div",{"data-test-id":"video-container",className:s.videoContainer},n?r.a.createElement(Z,{play:a,width:H.WIDTH,height:H.HEIGHT}):r.a.createElement(_.a,babelHelpers.extends({playerConfig:this._playerConfig,width:"100%",height:"100%",play:a&&!e,mute:this.mute,showVideoCoverInitially:!a},this.videoPlayerCallbacks,{onMute:this.handleMuteToggled,key:t})))))}),t}componentWillMount(){this._playerConfig=this.props.playerConfig||this._playerConfig}render(){const{showVideoPlayer:e,showEmptyFolderVideo:t,aolVideoPlayer:a}=this.props,n={width:"100%",height:"100%",backgroundColor:j.WHITE,zIndex:50};return n.display=t?"block":"none",this._playerConfig=a?this._playerConfig||t:this.constructPlayerConfig(),r.a.createElement(x.a,{top:"0px",left:"0px",position:"absolute",visibility:"visible",rootId:"mail-app-component",styles:n},e&&this._playerConfig?this.renderVideoPlayerContent():this.renderHeader())}}z.contextTypes={region:s.a.string,yahooBrandNameString:s.a.string};const Y=e=>{const{getVideoPlayerSelectors:t,getVideoChannelsMetaData:a,getFeaturesSelectors:n,getFoldersSelectors:s,getRoute:i,getCurrentSpaceId:r,getAccountById:o,getSelectedAccountId:l,couldShowEmptyFolderVideo:c,getSmartViewTypeFromListId:d}=Object(m.b)(e),{getSetting:_,isEnabled:u}=n(),{getFolderName:h,isSystemFolder:p,doesFolderIdExist:g}=s(),{getCurrentChannel:E,getShowVideoPlayer:b,getIsPaused:C}=t(),f=i(),v=Object(L.t)(f),I=Object(L.E)(v),y=E(),S=a(),N=C(),T=_(B.id.EMPTY_FOLDER_VIDEO_CHANNELS),A=u(B.kb.AUTOPLAY_EMPTY_FOLDER_VIDEO),M=u(B.kb.AOL_VIDEO_PLAYER),D=Object(L.m)(v),O=g(D),k=!O||p(D),R=c(),x=r(),P=O?h(D):"",w=o(l()),F=Object(V.a)(w);let H;return{currentChannel:y,showVideoPlayer:b()&&!F,channelData:S,isPaused:N,showEmptyFolderVideo:R,channels:T,autoplay:A,folderName:H=!P&&I?d(v).toLowerCase():"string"==typeof P?P.split("/").pop():P,isSystemFolder:k,listId:v,spaceId:x,isAccountSyncing:F,aolVideoPlayer:M}},K=e=>({handleOpenVideoPlayer(){e(Object(F.g)())},handleCloseVideoPlayer(){e(Object(F.f)())},changeChannel(t){e(Object(F.a)({channelAlias:t}))},handleVideoPlay(){e(Object(F.i)())},handleVideoPause(){e(Object(F.h)())}});t.default=Object(d.b)(Y,K)(z)},function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=(a(6),a(13)),r=a(11),o=a.n(r),l=a(4),c=a(9),d=a(1085),m=a.n(d),_=a(0),u=a(15),h=a(3),p=a(1),g=a(5),E=a(1031),b=a(16),C=a(108),f=a(137),v=a(982),I=a(1014),y=a.n(I);const S=()=>{},N=Object(l.h)({description:{id:"coupon_self_extraction_card.description",defaultMessage:"Save this deal to the Deals View"},save:{id:"coupon_self_extraction_card.save",defaultMessage:"Save deal"}});class T extends s.a.Component{constructor(...e){var t;return t=super(...e),this.state={showModal:!1},this.handleSave=(()=>{this.setState({showModal:!0})}),this.hideModal=(()=>{this.setState({showModal:!1})}),this.renderModal=(()=>{const{subject:e,parentMessageId:t}=this.props;return s.a.createElement(f.a,{onOuterClick:S,onClose:this.hideModal,"data-test-id":"self-extraction-modal"},s.a.createElement(v.a,{description:e,onClose:this.hideModal,parentMessageId:t}))}),t}render(){const{fullWidth:e,theme:t}=this.props,{formatMessage:a}=this.context.intl,n=o()(y.a,{theme:t,fullWidth:e});return s.a.createElement("div",{"data-test-id":"coupon-self-extraction-card",className:n.container},s.a.createElement("div",{"data-test-id":"coupon-self-extraction-card-info",className:n.cardInfo},s.a.createElement("div",{className:n.cardDetails},s.a.createElement("div",{className:n.cardDescription},a(N.description))),s.a.createElement("div",{"data-test-id":"coupon-self-extraction-card-button",className:n.buttonContainer},s.a.createElement(b.a,{className:n.buttonUnclipped,onClick:this.handleSave,"data-test-id":"save-coupon-btn"},s.a.createElement(u.b,{kind:h.b.ADD,size:h.d.M,colorState:h.a.SUCCESS}),s.a.createElement("span",{className:n.buttonTextUnclipped},a(N.save))))),this.state.showModal?this.renderModal():null)}}T.contextTypes={intl:l.i.isRequired};var A=Object(i.b)((e,{parentMessageId:t})=>{const{getFeaturesSelectors:a,getSubjectAndSnippetSelectors:n}=Object(c.b)(e),s=a(),{getSubject:i}=n();return{theme:s.getSetting(_.id.THEME),subject:i(t)}},e=>({save:({messageId:t,description:a,expiryDate:n,i13nModel:s={}})=>e(Object(C.l)({messageId:t,description:a,expiryDate:n,i13nModel:s}))}))(T),M=a(20),D=a(367),O=a(191),k=a(1087),R=a.n(k),x=a(334),P=a(273);const w=o()(R.a),F=Object(l.h)({updateLocation:{id:"store_locator.update_location",defaultMessage:"Update location"},locationNearYou:{id:"store_locator.location_near_you",defaultMessage:"Location near you"},hoursToday:{id:"store_locator.hours_today",defaultMessage:"Hours today"},where:{id:"store_locator.where",defaultMessage:"Where"},callStore:{id:"store_locator.call_store",defaultMessage:"Call store"},distance:{id:"store_locator.distance",defaultMessage:"Distance"},distanceInMiles:{id:"store_locator.distance_in_miles",defaultMessage:"{distance} miles"}});class L extends n.Component{constructor(e){super(e),this._renderExpanded=this._renderExpanded.bind(this),this._toggleCollapsed=this._toggleCollapsed.bind(this)}_renderExpanded(){const{name:e,collapsed:t,hoursToday:a,phone:n,streetAddress:i,city:r,distance:o,mapsImageLink:l,updateLocationAction:c,isGeoLocationEnabled:d}=this.props;if(t)return null;const{formatMessage:m}=this.context.intl;return s.a.createElement("div",{className:w.locatorContent,"data-test-id":"store_locator_content"},s.a.createElement("div",{className:w.mapContainer},s.a.createElement("img",{className:w.mapImage,src:l})),s.a.createElement("div",{className:w.details},s.a.createElement("div",{className:w.nameAndUpdateLocation},e?s.a.createElement("span",{className:w.name,"data-test-id":"store_locator_name"},e):null,d?s.a.createElement("span",{className:w.updateLocation,onClick:c,"data-test-id":"store_locator_update_location"},m(F.updateLocation)):null),s.a.createElement("div",{className:w.storeDetails},s.a.createElement("div",{className:w.hoursAndPhone},a?s.a.createElement("div",{className:w.content},s.a.createElement("div",{className:w.hoursIcon},s.a.createElement(u.b,{kind:h.b.CLOCK,size:h.d.XS,colorState:h.a.SECOND_LEVEL_GRAY})),s.a.createElement("div",{className:w.hoursDetails},s.a.createElement("div",{className:w.label},m(F.hoursToday)),s.a.createElement("div",{className:w.text,"data-test-id":"store_locator_hours"},a))):null,n?s.a.createElement("div",{className:w.content},s.a.createElement("div",{className:w.callIcon},s.a.createElement(u.b,{kind:h.b.DEVICE_PHONE,size:h.d.XS,colorState:h.a.SECOND_LEVEL_GRAY})),s.a.createElement("div",{className:w.callDetails},s.a.createElement("div",{className:w.label},m(F.callStore)),s.a.createElement("div",{className:w.text,"data-test-id":"store_locator_phone"},n))):null),s.a.createElement("div",{className:w.locationAndDistance},i?s.a.createElement("div",{className:w.content},s.a.createElement("div",{className:w.locationIcon},s.a.createElement(u.b,{kind:h.b.LOCATION_MARKER,size:h.d.XS,colorState:h.a.SECOND_LEVEL_GRAY})),s.a.createElement("div",{className:w.locationDetails},s.a.createElement("div",{className:w.label},m(F.where)),s.a.createElement("div",{className:w.textLink,"data-test-id":"store_locator_address"},`${i}, ${r}`))):null,o?s.a.createElement("div",{className:w.content},s.a.createElement("div",{className:w.distanceIcon},s.a.createElement(u.b,{kind:h.b.CAR,size:h.d.XS,colorState:h.a.SECOND_LEVEL_GRAY})),s.a.createElement("div",{className:w.distanceDetails},s.a.createElement("div",{className:w.label},m(F.distance)),s.a.createElement("div",{className:w.text,"data-test-id":"store_locator_distance"},m(F.distanceInMiles,{distance:o})))):null))))}_toggleCollapsed(e){e.stopPropagation(),e.preventDefault();const{updateCouponStoreCollapsedTo:t,collapsed:a}=this.props;t(!a)}componentDidMount(){const{storeLocatorShownAction:e,email:t,hasStore:a}=this.props;a&&e(t)}render(){const{formatMessage:e}=this.context.intl,{hasStore:t,collapsed:a}=this.props,n=a?h.c.D180:h.c.D0;return t?s.a.createElement("div",null,s.a.createElement("div",{className:w.container,"data-test-id":"store_locator_container"},s.a.createElement("div",{className:w.header},s.a.createElement("div",{className:w.locationNearYou},e(F.locationNearYou)),s.a.createElement("div",{className:w.expandButton,"data-test-id":"store_locator_collapse_expand",onClick:this._toggleCollapsed},s.a.createElement(u.b,{kind:h.b.CHEVRON_UP,size:h.d.S,colorState:h.a.SECOND_LEVEL_GRAY,rotate:n}))),this._renderExpanded()),s.a.createElement("div",{className:w.separator})):null}}L.contextTypes={intl:l.i.isRequired};var B=Object(i.b)(function(e,{email:t}){const{isFeatureEnabled:a,getSetting:n,getBusinessListingForUserTimezone:s}=Object(c.b)(e),i=s(t),r=n(_.id.YAHOO_MAPS_URL),{latlong:o=""}=i;return babelHelpers.extends({mapsImageLink:`${r}${o}`,collapsed:n(_.id.COUPON_STORE_LOCATOR_COLLAPSED)},i,{hasStore:Object.keys(i).length>0&&""!==o,isGeoLocationEnabled:a(_.kb.GEO_LOCATION)})},function(e,t){const{email:a=""}=t||{};return{updateCouponStoreCollapsedTo:t=>e(Object(x.d)(t)),storeLocatorShownAction:()=>e(Object(x.a)(a)),updateLocationAction:()=>e(Object(P.b)({i13nModel:{mKey:g.e.COUPON_STORE_UPDATE_LOCATION,sec:g.g.CPN_STORE_LOCATOR},email:a}))}})(L),H=a(27),U=a(1088),j=a.n(U),W=a(454);const G=Object(l.h)({RECOMMENDATION:{id:"shopping_cart_ad.recommendation",defaultMessage:"Recommended item"},ADD_TO_CART:{id:"shopping_cart_ad.add_to_cart",defaultMessage:"Item from your shopping cart"},VIEW:{id:"shopping_cart_ad.view",defaultMessage:"Pick up where you left off"}}),Z=(e,{intl:t})=>{const{fullWidth:a,shoppingCartSectionId:n,pencilAd:i}=e,{clickUrl:r,origImg:l,productAdActivity:c,productAdActivityMessage:d,salePrice:m,fullPrice:_,adHeadline:u}=i,h=o()(j.a,{fullWidth:a}),{formatMessage:p}=t;return s.a.createElement(W.a,{className:h.container,rootNode:null,pencilAdData:i,sectionId:n},s.a.createElement("a",{className:h.anchor,href:r,rel:"noreferrer",target:"_blank"},l?s.a.createElement("img",{className:h.image,src:l}):null,s.a.createElement("div",{className:h.detail},s.a.createElement("div",{className:h.priceContainer},s.a.createElement("div",{className:h.price},m||_),m?s.a.createElement("div",{className:h.originalPrice},_):null),s.a.createElement("div",{className:h.infoContainer},s.a.createElement("div",{className:h.sauce,title:u},u),s.a.createElement("div",{className:h.message},G[c]?p(G[c]):d)))))};Z.contextTypes={intl:l.i.isRequired};var V=Z,q=a(8),z=a(363);const Y=["showEarnyConnectCard","showMsgReadQuotientCard","showShopRunnerCard","showEarnyCCCard","showEarnyPaymentCard","showMsgReadQuotientLinkedCard","shopRunnerPostSignUp"];a.d(t,"CardGroup",function(){return X}),a.d(t,"mapStateToProps",function(){return Q}),a.d(t,"mapDispatchToProps",function(){return $});const K=Object(l.h)({barTitle:{id:"card_group.header",defaultMessage:"Deals from this message"},shoppingCartTitle:{id:"card_group.shopping_cart_header",defaultMessage:"Go shopping at {sender}"},viewLess:{id:"card_group.view_less",defaultMessage:"View less"},autoClipTogglePrompt:{id:"card_group.auto_clip_coupons",defaultMessage:"Always save deals from"},viewMoreCards:{id:"card_group.view_more_cards",defaultMessage:"View more"},viewMore:{id:"card_group.view_more",defaultMessage:"View {numCoupons} more {numCoupons, plural, one {coupon} other {coupons}}"},ad_text:{id:"ad.text",defaultMessage:"AD"}});class X extends s.a.Component{constructor(...e){var t;return t=super(...e),this.state={isExpanded:!1},this._isCouponCardsExpandable=(()=>this.props.sortedCards.length>this._getInitialViewCount()),this._isShoppingCartAdExpandable=(()=>{const e=this._hasItemInCouponSection()?2:4;return this.props.shoppingCartAd.length>e}),this._couponClipperBeacon=(()=>{const{couponClipperShown:e,sortedCards:t,selfExtractCoupon:a}=this.props,n=t.length>1,s=t.map(e=>e.cmid);(a||t.length>0)&&e(n,a,{cmids:s,fromEmail:t.length?t[0].email:""})}),this._getInitialViewCount=((e=this.props)=>{const t=e.sortedCards.filter(e=>e.clipped);return e.isCompactView||e.shoppingCartAd.length?1:0===t.length?2:t.length%2==0?t.length:t.length+1}),this._isSafeTo=(e=>e&&!this.props.isCompactView),this._toggleExpandState=(()=>{const{isExpanded:e}=this.state,t=!e,{couponClipperToggled:a}=this.props;e&&this.props.onViewLess(),a(t),this.setState({isExpanded:t})}),this._renderSelfExtractionCard=(()=>{const{parentMessageId:e,shoppingCartAd:t,isCompactView:a}=this.props;return s.a.createElement(A,{fullWidth:a||!!t.length,parentMessageId:e})}),this._renderCards=(()=>{const{sortedCards:e,showCouponClipperCue:t,parentMessageId:n,contactLink:i,shoppingCartAd:r,isCompactView:o}=this.props,l=e.slice(),c=this._isSafeTo(t);if(this._isCouponCardsExpandable()&&!this.state.isExpanded){const e=this._isSafeTo(t)?1:0;l.splice(this._getInitialViewCount()-e)}return c&&l.splice(1,0,{id:"cue"}),l.map(({id:e,schemaId:t,description:l,clipped:d,cmid:m,expirationTime:u,dealLink:h})=>"cue"===e&&c?s.a.createElement(M.a,{key:e,import:"./atoms/coupon_clipper_cue",cueName:_.kb.COUPON_CLIPPER_CUE,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1242))},_moduleResolver:function(){return 1242}}):s.a.createElement(E.a,{key:m,schemaId:t,cmid:m,description:l,clipped:d,expirationTime:u,fullWidth:o||!!r.length,dealLink:h,contactLink:i,parentMessageId:n}))}),this._renderShopRunnerPostSignUp=(()=>{const{shopRunnerRetailer:e,shopRunnerMerchantUrl:t}=this.props;return s.a.createElement(M.a,{import:"../shop_runner_post_sign_up",cardName:_.kb.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD,shopRunnerRetailer:e,shopRunnerMerchantUrl:t,useCueInMessageRead:!0,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1235))},_moduleResolver:function(){return 1235}})}),this._renderShopRunnerCue=(()=>{const{showShopRunnerCard:e,shopRunnerRetailer:t,showShopRunnerOrdMsg:n}=this.props;return e&&_.kb.MSG_READ_SHOPRUNNER_CARD?s.a.createElement(M.a,{import:"../shop_runner_cue",cardName:_.kb.MSG_READ_SHOPRUNNER_CARD,shopRunnerRetailer:t,showShopRunnerOrdMsg:n,useCueInMessageRead:!0,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1237))},_moduleResolver:function(){return 1237}}):null}),this._renderExpandContainer=((e=!0)=>{const t=o()(m.a),{showCouponClipperCue:a}=this.props,{formatMessage:n}=this.context.intl,i=this.state.isExpanded?h.c.D0:h.c.D180,r=this._isSafeTo(a)?1:0,l=this.props.sortedCards.length-this._getInitialViewCount()+r;return s.a.createElement("div",{"data-test-id":"coupon_expand_container",className:t.expandContainer},s.a.createElement("span",{className:t.expandSpacing}),s.a.createElement("span",{className:t.expandButton,onClick:this._toggleExpandState},s.a.createElement("span",{className:t.expandButtonText},this.state.isExpanded?s.a.createElement("span",{"data-test-id":"coupon_view_less"},n(K.viewLess)):s.a.createElement("span",{"data-test-id":"coupon_view_more"},e?n(K.viewMore,{numCoupons:l}):n(K.viewMoreCards))),s.a.createElement(u.b,{kind:h.b.CHEVRON_UP,size:h.d.XXS,colorState:h.a.SELECTED,rotate:i})))}),this._renderMsgReadEarnyCue=(()=>{const{showEarnyCCCard:e,showEarnyPaymentCard:t}=this.props;let n=_.db.CONNECT;return e?n=_.db.CREDIT:t&&(n=_.db.PAYMENT),s.a.createElement(M.a,{import:"./atoms/earny_cue",cardName:`msgReadEarny${n.charAt(0).toUpperCase()+n.slice(1)}`,fromName:this.props.sender,cardType:n,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1238))},_moduleResolver:function(){return 1238}})}),this._renderMsgReadQuotientCue=(()=>{const{isCompactView:e,parentMessageId:t,domain:n,fromEmail:i}=this.props;return s.a.createElement(M.a,{import:"./atoms/quotient_cue",cardName:_.kb.QTNT_VIEW_MSG_READ_CARD,usePreviewPaneStyles:e,parentMessageId:t,senderDomain:n,senderEmail:i,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1003))},_moduleResolver:function(){return 1003}})}),this._renderMsgReadQuotientLinkedCard=(()=>{const{retailerId:e,isCompactView:t,parentMessageId:n,domain:i,fromEmail:r}=this.props;return s.a.createElement(M.a,{import:"./atoms/quotient_linked_card",retailerId:e,usePreviewPaneStyles:t,parentMessageId:n,senderDomain:i,senderEmail:r,_moduleLoader:function(){return Promise.resolve().then(a.bind(null,1240))},_moduleResolver:function(){return 1240}})}),this._renderShoppingCartAd=(e=>{const{formatMessage:t}=this.context.intl,{shoppingCartAd:a,shoppingCartSectionId:n,aboutAdsUrl:i,sender:r}=this.props,o=this._hasItemInCouponSection()?2:4;if(!a.length)return null;const l=this._isShoppingCartAdExpandable()&&!this.state.isExpanded?a.slice(0,o):a;return s.a.createElement("div",{className:e.cardGroupContainer},s.a.createElement("div",{className:e.header},t(K.shoppingCartTitle,{sender:r}),s.a.createElement("a",{className:e.sponsoredContainer,href:i,rel:"noreferrer",target:"_blank"},s.a.createElement("span",{className:e.sponsoredIcon},s.a.createElement(u.b,{kind:h.b.SPONSORED,size:h.d.XS,colorState:h.a.INHERITED})),s.a.createElement("span",{className:e.sponsored},t(K.ad_text)))),s.a.createElement("div",{"data-test-id":"shopping_cart_ad_container",className:e.cardContainer},l.map(({pencilAd:e={}})=>s.a.createElement(V,{key:e.clickUrl,fullWidth:!this._hasItemInCouponSection(),pencilAd:e,shoppingCartSectionId:n}))),this._isShoppingCartAdExpandable()?this._renderExpandContainer(!1):null)}),this._hasItemInCouponSection=(()=>{const{sortedCards:e,selfExtractCoupon:t,showEarnyConnectCard:a,showEarnyCCCard:n,showEarnyPaymentCard:s,showMsgReadQuotientCard:i,showMsgReadQuotientLinkedCard:r,shopRunnerPostSignUp:o,showShopRunnerCard:l}=this.props;return e&&e.length>0||t||l||a||n||s||i||r||o}),t}componentDidMount(){this._couponClipperBeacon()}componentDidUpdate(e){this.props.sortedCards.length!==e.sortedCards.length&&this._couponClipperBeacon()}_renderCouponCards(e){const{sortedCards:t,autoClipToggled:a,isAutoClipped:n,autoClipEnabled:i,selfExtractCoupon:r,showEarnyConnectCard:o,showEarnyCCCard:l,showEarnyPaymentCard:c,showMsgReadQuotientCard:d,showMsgReadQuotientLinkedCard:m,isNarrowScreen:_,showShopRunnerCard:u,shopRunnerPostSignUp:h}=this.props,{formatMessage:p}=this.context.intl,g=t&&t.length>0||r;return u?s.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},s.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},s.a.createElement("div",{className:e.whiteSpaceBar}),this._renderShopRunnerCue())):o||l||c?s.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},s.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},s.a.createElement("div",{className:e.whiteSpaceBar}),this._renderMsgReadEarnyCue())):d?s.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},s.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},s.a.createElement("div",{className:e.whiteSpaceBar}),this._renderMsgReadQuotientCue())):g?s.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},s.a.createElement("div",{className:e.header},s.a.createElement("span",null,p(K.barTitle)),_&&s.a.createElement("span",{className:e.partnerAttributionIcon},s.a.createElement(z.a,null)),i&&1===t.length&&t[0]&&t[0].savedSearchQuery?s.a.createElement("div",{className:e.autoClipToggle,"data-test-id":"cpn_auto_clip"},s.a.createElement(D.a,{isEnabled:n,onClick:()=>a(t,n),"data-test-id":"cpn_auto_clip_toggle_button"}),s.a.createElement("span",{className:e.autoClipMessage,"data-test-id":"cpn_auto_clip_toggle_message"},`${p(K.autoClipTogglePrompt)} ${t[0]&&t[0].domain}`)):null),s.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},r?this._renderSelfExtractionCard():this._renderCards()),this._isCouponCardsExpandable()?this._renderExpandContainer():null):m?s.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},s.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},s.a.createElement("div",{className:e.whiteSpaceBar}),this._renderMsgReadQuotientLinkedCard())):h?s.a.createElement("div",{"data-test-id":"card_group",className:e.cardGroupContainer},s.a.createElement("div",{"data-test-id":"coupon_card_container",className:e.cardContainer},s.a.createElement("div",{className:e.whiteSpaceBar}),this._renderShopRunnerPostSignUp())):null}render(){const{fromEmail:e,sortedCards:t,selfExtractCoupon:a,couponStoreLocatorEnabled:n,shoppingCartAd:i}=this.props,r=t&&t.length>0||a,l=!!i.length&&this._hasItemInCouponSection(),c=o()(m.a,{shareSpace:l});return i.length||this._hasItemInCouponSection()?s.a.createElement("div",null,s.a.createElement("div",{className:c.container},this._renderShoppingCartAd(c),this._renderCouponCards(c)),s.a.createElement("div",{className:c.separator}),r&&n&&e?s.a.createElement(B,{email:e}):null):null}}X.contextTypes={intl:l.i.isRequired};const Q=(e,{parentMessageId:t="",couponCards:a=[]})=>{const{isMessageRoute:n,getSavedSearchesSelectors:s,getAccountIdByFolderId:i,getMessageFolderId:r,getMessagesSelectors:o,doesContactIdExist:l,getContactById:d,getContentProviders:m,getRetailersSelectors:u,isFeatureEnabled:h,getSetting:p,getAdsSelectors:g,isNarrowScreen:E,getSRRetailersSelectors:b}=Object(c.b)(e),{getSavedSearchesByQuery:C}=s(),{getFromAddresses:f,getDecos:v}=o(),{getShoppingCartAd:I}=g(),{doesContentProviderExist:y,isContentProviderConnected:S,isCreditCardConnectedWithEarny:N,isPaymentConnectedWithEarny:T}=m(),[{email:A="",name:M=""}={}]=f(t),[,D]=A.split("@"),O=h(_.kb.COUPONS_AUTO_CLIP),k=h(_.kb.COUPON_STORE_LOCATOR),R=l(A)?d(A):void 0,x=R&&R.website,P=v(t),{isLinkedRetailer:w,getRetailerIdFromEmail:F,isSupportedQuotientRetailer:L}=u(),B=F(A),U=L(A),j=b().domainInShopRunnerWhitelist(D),W=(!y(_.M.SHOPRUNNER)||!S(_.M.SHOPRUNNER))&&h(_.kb.MSG_READ_SHOPRUNNER_CARD)&&j,G=j&&j.name,Z=j&&j.homepage,V=y(_.M.SHOPRUNNER)&&S(_.M.SHOPRUNNER)&&j&&h(_.kb.MSG_READ_SHOPRUNNER_POST_SIGN_UP_CARD),z=I().sort((e,t)=>{const a={ADD_TO_CART:0,VIEW:1,RECOMMENDATION:2};return a[Object(q.a)(e,"pencilAd.productAdActivity")]-a[Object(q.a)(t,"pencilAd.productAdActivity")]}),K=p(_.id.GEMINI_SECTION_IDS)[_.tb.SHOPPING_CART];let X;if(O&&a.length){const e=i(r(t));X=C(a[0]&&`acctId:${e} AND ${a[0].savedSearchQuery}`)}const Q=a.slice().sort((e,t)=>e.clipped===t.clipped?e.expirationTime.timestamp-t.expirationTime.timestamp:e.clipped?-1:1),$=h(_.kb.QTNT_VIEW_MSG_READ_CARD)&&U&&!w(B)&&Q.length<2,J=h(_.kb.QUOTIENT)&&U&&w(B)&&Q.length<2,ee=h(_.kb.MSG_READ_EARNY_CARD)&&(Object(H.l)(P,_.Zb.ORD)||Object(H.l)(P,_.Zb.POE))&&Q.length<2,te=W&&Object(H.l)(P,_.Zb.ORD),ae=y(_.M.EARNY)&&S(_.M.EARNY),ne=ee&&!ae;let se,ie;ee&&ae&&(se=!N(_.M.EARNY),ie=!T(_.M.EARNY));const re={shopRunnerPostSignUp:V,showShopRunnerCard:W,showMsgReadQuotientCard:$,showMsgReadQuotientLinkedCard:J,showEarnyConnectCard:ne,showEarnyCCCard:se,showEarnyPaymentCard:ie},oe=(e=>{for(const t of Y)if(e.indexOf(t)>-1)return t;return""})(Object.keys(re).filter(e=>re[e]));for(const e in re)re[e]=!1;return oe&&(re[oe]=!0),babelHelpers.extends({fromEmail:A,domain:D,sortedCards:Q,showCouponClipperCue:h(_.kb.COUPON_CLIPPER_CUE),isCompactView:p(_.id.PREVIEW_PANE)===_.Bc.RIGHT&&!n(),isAutoClipped:!!X&&!!X.length,autoClipEnabled:O,couponStoreLocatorEnabled:k,contactLink:x,sender:M,shopRunnerRetailer:G,showShopRunnerOrdMsg:te,showShopRunnerCard:W,shopRunnerMerchantUrl:Z,shopRunnerPostSignUp:V,retailerId:B,shoppingCartAd:z,shoppingCartSectionId:K,isNarrowScreen:E(),aboutAdsUrl:p(_.id.ABOUT_AD_URL)},re)},$=e=>({couponClipperShown:(t,a,n)=>{let s=g.e.SINGLE_COUPON_CLIPPER_SHOWN;t&&(s=g.e.MULTI_COUPON_CLIPPER_SHOWN),a&&(s=g.e.SELF_EXTRACTION_COUPON_CLIPPER_SHOWN),e({type:p.a.EXPIRING_COUPON_CLIPPER_SHOWN,i13nModel:{mKey:s,sec:g.g.MSG_BODY,actionData:n}})},couponClipperToggled:t=>{e({type:p.a.EXPIRING_COUPON_EXPAND_STATE_CHANGED,i13nModel:{mKey:t?g.e.COUPON_CLIPPER_EXPANDED:g.e.COUPON_CLIPPER_SHRUNK,sec:g.g.MSG_BODY}})},autoClipToggled:([{savedSearchQuery:t,email:a,parentMessageId:n}],s)=>{const i={mKey:s?g.e.COUPON_AUTO_CLIP_TURNED_OFF:g.e.COUPON_AUTO_CLIP_TURNED_ON,sec:g.g.MSG_BODY};e(s?Object(O.d)({query:t,parentMessageId:n,i13nModel:i}):Object(O.a)({name:a,query:t,decorations:[{id:"TAG",type:"NORMAL"}],priority:1,parentMessageId:n,i13nModel:i}))}});t.default=Object(i.b)(Q,$)(X)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(9),c=a(31),d=a.n(c),m=a(1007),_=a(4),u=a(404),h=a.n(u),p=a(30),g=a(16),E=a(10),b=a(1008),C=a.n(b),f=a(11),v=a.n(f);const I=Object(_.h)({header:{id:"confirmation_dialog.header",defaultMessage:"Ready to unsubscribe?"},linkButton:{id:"confirmation_dialog.linkBtn",defaultMessage:"Go to site"},mailtoButton:{id:"confirmation_dialog.mailtoBtn",defaultMessage:"Send request"},cancel:{id:"confirmation_dialog.cancelBtn",defaultMessage:"Cancel"},link:{id:"confirmation_dialog.linkBody",defaultMessage:"We'll open a new browser window where you can finish unsubscribing from {senderName} emails."},mailto:{id:"confirmation_dialog.mailtoBody",defaultMessage:"A request will be sent to {senderName}. They may take a few days to remove you from their list"}});class y extends r.a.Component{render(){const e=v()(C.a),t={top:this.props.alignTo.getBoundingClientRect().top,zIndex:E.ZIndices.MODAL},a="link"===this.props.unsubType?I.linkButton:I.mailtoButton,n=this.props.currentUnsubItem;return r.a.createElement("div",{className:e.confirmationContainer,style:t,"data-test-id":"unsub-confirmation-dialog"},r.a.createElement("div",{className:e.header},r.a.createElement(_.c,I.header)),r.a.createElement("div",{className:e.body},"link"===this.props.unsubType&&r.a.createElement(_.c,babelHelpers.extends({},I.link,{values:{senderName:n}})),"mailto"===this.props.unsubType&&r.a.createElement(_.c,babelHelpers.extends({},I.mailto,{values:{senderName:n}}))),r.a.createElement("div",{className:e.actionContainer},r.a.createElement(g.a,{onClick:this.props.onSuccess,"data-test-id":"confirmation-dialog-unsub-btn",kind:p.a.PRIMARY},r.a.createElement(_.c,a)),r.a.createElement(g.a,{onClick:this.props.onCancel,"data-test-id":"confirmation-dialog-cancel-btn",kind:p.a.SECONDARY},r.a.createElement(_.c,I.cancel))))}}y.contextTypes={intl:_.i.isRequired};var S=y,N=a(5),T=a(15),A=a(3),M=a(56),D=a(173),O=a(0),k=a(1039),R=a.n(k),x=a(60),P=a(69);const w=v()(R.a),F=Object(_.h)({heading:{id:"subscription_list.heading",defaultMessage:"Feel like starting something new?"},subheading:{id:"subscription_list.subheading",defaultMessage:"We recommend subscribing to this newsletter:"},subscriptionSucceeded:{id:"subscription_list.subscriptionSucceeded",defaultMessage:"You've subscribed to the {name} mailing list."},subscriptionFailed:{id:"subscription_list.subscriptionFailed",defaultMessage:"Subscribe failed"},termsConditions:{id:"subscription_list.termsConditions",defaultMessage:"Terms"},privacyPolicy:{id:"subscription_list.privacyPolicy",defaultMessage:"Privacy policy"},subscriptionRequested:{id:"subscription_list.subscriptionRequested",defaultMessage:"Subscribing..."},subscribe:{id:"subscription_list.subscribe",defaultMessage:"Subscribe"},resubscribe:{id:"subscription_list.resubscribe",defaultMessage:"Try Again"},tcText:{id:"subscription_list.tcText",defaultMessage:"By subscribing, {mailBrandNameString} will share your email with the sender. {tcMsg} and {privacyPolicy}"}});class L extends r.a.Component{generateI13NModel(e,t){return{mKey:t,sec:N.g.UNSUB_PANE,actionData:{sender:{name:e.name,email:e.email,key:e.id},num_avail:this.props.subscriptions.length}}}componentDidMount(){this.props.subscriptions.forEach(e=>{P.b.sendI13nModel({i13nModel:this.generateI13NModel(e,N.e.SUBSCRIPTION_SHOWN)})})}renderSubscriptionItem(e){const{formatMessage:t}=this.context.intl;return r.a.createElement("div",{key:e.id,className:w.item},(()=>r.a.createElement("div",{className:w.itemIconContainer},e.status===D.c.SUCCESS?r.a.createElement("div",{className:w.itemIconCheck},r.a.createElement(T.b,{kind:A.b.CHECKMARK,colorState:A.a.INVERTED,size:A.d.XS})):r.a.createElement("div",{className:w.itemIcon,style:{backgroundImage:`url(${Object(x.a)(`/img/${e.icon}`)})`}})))(),(()=>e.status===D.c.SUCCESS?r.a.createElement("div",{className:w.itemDetails},t(F.subscriptionSucceeded,{name:e.name})):r.a.createElement("div",{className:w.itemDetails},r.a.createElement("span",{className:w.itemName},e.name," "),r.a.createElement("span",{className:w.itemEmail},e.email),r.a.createElement("div",{className:w.itemDescription},r.a.createElement(_.c,e.description))))(),(()=>{const t=()=>this.props.subscribe({id:e.id,provider:e.provider,options:e.subscribeOptions,i13nModel:this.generateI13NModel(e,N.e.SUBSCRIPTION_SELECTED)});return e.status===D.c.READY?r.a.createElement(g.a,{onClick:t,kind:p.a.CHROMELESS},r.a.createElement("span",{className:w.itemSubscribeLink},r.a.createElement(_.c,F.subscribe))):e.status===D.c.FAILURE?r.a.createElement("div",{className:w.itemSubscribeFailedContainer},r.a.createElement(g.a,{onClick:t,kind:p.a.CHROMELESS},r.a.createElement("span",{className:w.itemSubscribeLink},r.a.createElement(_.c,F.resubscribe))),r.a.createElement("div",{className:w.itemSubscribeFailedText},r.a.createElement("span",{className:w.itemSubscribeFailedIcon},r.a.createElement(T.b,{kind:A.b.EXCLAMATION_ALT,colorState:A.a.WARNING_GRAD_RED,size:A.d.XS})),r.a.createElement(_.c,F.subscriptionFailed))):e.status===D.c.PENDING?r.a.createElement("div",{className:w.itemSubscribeContainer},r.a.createElement(M.b,null),r.a.createElement("span",{className:w.itemSubscribeLink},r.a.createElement(_.c,F.subscriptionRequested))):void 0})())}render(){const{subscriptions:e}=this.props,{mailBrandNameString:t}=this.context;return e&&e.length?r.a.createElement("div",{className:w.container},r.a.createElement("div",{className:w.heading},r.a.createElement(_.c,F.heading)),r.a.createElement("div",{className:w.subheading},r.a.createElement(_.c,F.subheading)),e.map(e=>this.renderSubscriptionItem(e)),r.a.createElement("div",null,r.a.createElement("div",{className:w.tcText},r.a.createElement(_.c,babelHelpers.extends({},F.tcText,{values:{tcMsg:r.a.createElement("a",{href:O.Fd,target:"_blank",className:w.tcItemSubscribeLink},r.a.createElement(_.c,F.termsConditions)),privacyPolicy:r.a.createElement("a",{href:O.vc,target:"_blank",className:w.tcItemSubscribeLink},r.a.createElement(_.c,F.privacyPolicy)),mailBrandNameString:t}}))))):null}}L.contextTypes={intl:_.i.isRequired,mailBrandNameString:s.a.string};var B=a(121),H=a(276),U=a(1),j=a(61);function W(e,t){return e.mailAPIClient.request("settings.get").then(t=>{e.dispatch(U.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED,t)}).then(()=>{const{getFeaturesSelectors:a}=Object(l.b)(e.store.getState()),n=a().getSetting(O.id.MESSAGE_FILTERS);n.push(t.newFilter),n[n.length-1].index=n.length,e.store.dispatch(Object(j.d)(n))})}function G(e,t){return e.mailAPIClient.request("settings.get").then(t=>{e.dispatch(U.a.SETTINGS_MAILBOX_ATTRIBUTES_RECEIVED,t)}).then(()=>{const{getFeaturesSelectors:a}=Object(l.b)(e.store.getState()),n=a().getSetting(O.id.MESSAGE_FILTERS),s="Hide "+t.name+" ("+t.email+")";let i=0;for(const e in n)n[e].name===s&&(n.splice(e,1),i++),i>0&&e<n.length&&(n[e].index=n[e].index-i);e.store.dispatch(Object(j.d)(n))})}function Z(e,{numCleaned:t,i13nModel:a}){e.dispatch(t<=0?U.a.UNSUBSCRIBE_DIALOG_CLOSED:t<=2?U.a.UNSUBSCRIBE_SINGLE_LIST_CLEANED:U.a.UNSUBSCRIBE_MULTIPLE_LISTS_CLEANED,{i13nModel:a})}var V=a(372),q=a(91),z=a(322);const Y=Object(_.h)({header:{id:"unsubscribe_dialog.header",defaultMessage:"Tired of deleting mail you don't use?"},unsubscribe:{id:"unsubscribe_dialog.unsubscribe",defaultMessage:"Unsubscribe"},hide:{id:"unsubscribe_dialog.hide",defaultMessage:"Hide"},hideTooltip:{id:"unsubscribe_dialog.hideTooltip",defaultMessage:"Hide in Archive"},close:{id:"unsubscribe_dialog.btn_close",defaultMessage:"Close"},doneButton:{id:"unsubscribe_dialog.doneButton",defaultMessage:"Done"}});class K extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showConfirmationDialog:!1,currentUnsubItem:{name:null,email:null,senderKey:null,unsubType:null,unsubTarget:null},cleanedLists:{},numListsCleaned:this.props.numListsPreviouslyCleaned},this._undo=(()=>{this.props.onClose(Object.keys(this.state.cleanedLists).length,this.state.numListsCleaned,"undo")}),this._undoArchive=((e,t,a)=>{this.context.executeAction(G,{name:e,email:t,i13nModel:{mKey:N.e.UNSUB_UNDO,sec:N.g.UNSUB_PANE,actionData:{sender:{name:e,email:t}}}});const n=h()(this.state.cleanedLists);delete n[a],this.setState({cleanedLists:n,numListsCleaned:this.state.numListsCleaned-1})}),this._unsubscribe=((e,t,a,n,s)=>{const i=Object.keys(this.props.unsubList),r=i.indexOf(e);this.props.openConfirmationDialog({i13nModel:{mKey:N.e.UNSUB_UNSUB_CLICKED,sec:N.g.UNSUB_PANE,actionData:{sender:{name:t,email:a},num_avail:i.length,rank_position:r}}}),this.setState({showConfirmationDialog:!0,currentUnsubItem:{name:t,email:a,senderKey:e,unsubType:n,unsubTarget:s}})}),this._handleMailtoUnsubscribe=(()=>{const e=V.a(this.state.currentUnsubItem.unsubTarget.trim()),t=h()(this.state.cleanedLists),a=e.to.map(function(e){return{email:e}});this.props.sendUnsubscribeMail({toAddresses:a,subject:e.subject||"Unsubscribe",body:e.body||"Please unsubscribe and remove me from this email list immediately.",i13nModel:{mKey:N.e.UNSUB_MAILTO_SEND,sec:N.g.UNSUB_PANE,actionData:{sender:{name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email}}}}),t[this.state.currentUnsubItem.senderKey]={name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email,status:"unsubscribed"},this.setState({cleanedLists:t,numListsCleaned:this.state.numListsCleaned+1}),this._handleConfirmationDialogClose()}),this._handleLinkUnsubscribe=(()=>{const e=h()(this.state.cleanedLists);window.open(this.state.currentUnsubItem.unsubTarget,"_blank"),e[this.state.currentUnsubItem.senderKey]={name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email,status:"unsubscribed"},this.setState({cleanedLists:e,numListsCleaned:this.state.numListsCleaned+1}),this.props.unsubLinkVisited({i13nModel:{mKey:N.e.UNSUB_TAB_GO,sec:N.g.UNSUB_PANE,actionData:{sender:{name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email}}}}),this._handleConfirmationDialogClose()}),this._handleConfirmationDialogClose=(()=>{this.setState({showConfirmationDialog:!1})}),this._cancelUnsubscribe=(e=>{let t;"mailto"===e?t=N.e.UNSUB_MAILTO_CANCEL:"link"===e&&(t=N.e.UNSUB_TAB_CANCEL),this.props.closeConfirmationDialog({i13nModel:{mKey:t,sec:N.g.UNSUB_PANE,actionData:{sender:{name:this.state.currentUnsubItem.name,email:this.state.currentUnsubItem.email}}}}),this._handleConfirmationDialogClose()}),this._handleArchive=((e,t,a)=>{const n=h()(this.state.cleanedLists),s={actions:[{type:"MOVETOFOLDER",value:{folderActionValueBean:{folder:{name:"Archive"}}}}],criterions:[{field:"SENDER",matchCase:!1,operator:"CONTAINS",value:t}],index:-1,matchType:"ALL",name:"Hide "+e+" ("+t+")"},i=Object.keys(this.props.unsubList),r=i.indexOf(a);this.context.executeAction(W,{newFilter:s,i13nModel:{mKey:N.e.UNSUB_HIDE,sec:N.g.UNSUB_PANE,actionData:{sender:{name:e,email:t},num_avail:i.length,rank_position:r}}}),n[a]={name:e,email:t,status:"archived"},this.setState({cleanedLists:n,numListsCleaned:this.state.numListsCleaned+1})}),this._renderConfirmationDialog=(()=>{const e=this.state.currentUnsubItem.unsubType,{left:t,top:a,width:n,height:s}=this.unsubscribeDialog.getBoundingClientRect(),i={left:t,top:a,width:n,height:s,zIndex:E.ZIndices.OVERLAY,backgroundColor:"white",opacity:.3,position:"absolute"};return r.a.createElement("div",null,r.a.createElement(B.a,null,r.a.createElement(S,{alignTo:this.unsubscribeDialog,onSuccess:"mailto"===e?this._handleMailtoUnsubscribe:this._handleLinkUnsubscribe,onCancel:()=>this._cancelUnsubscribe(this.state.currentUnsubItem.unsubType),unsubType:e,currentUnsubItem:this.state.currentUnsubItem.name}),r.a.createElement("div",{style:i})))}),this._renderSubscribedSenders=(()=>{const e=v()(C.a),{formatMessage:t}=this.context.intl;return Object.keys(this.props.unsubList).map(a=>{let n;const s=this.props.unsubList[a],{name:i,email:o}=s,l=s.mailto?"mailto":"link",c=s.mailto||s.unsubLink,d=a in this.state.cleanedLists&&this.state.cleanedLists[a].name===i;return d&&(n=r.a.createElement(_.c,"unsubscribed"===this.state.cleanedLists[a].status?{id:"unsubscribe_dialog.unsubSuccess",defaultMessage:"Unsubscribed from {name} mailing list.",values:{name:r.a.createElement("b",null,i)}}:{id:"unsubscribe_dialog.hideSuccess",defaultMessage:"{name} mailing list will go to your Archive folder.",values:{name:r.a.createElement("b",null,i)}})),d?r.a.createElement("div",{className:e.unsubscribeContainer,key:a,ref:o,"data-test-id":"unsubscribe-unsub-item"},r.a.createElement(T.b,{kind:A.b.CAL_ACCEPT,size:A.d.XS,colorState:A.a.SUCCESS,"data-test-id":"cleaned-list-icon"}),r.a.createElement("div",{className:e.senders},r.a.createElement("span",{className:e.cleanedList},n)),"archived"===this.state.cleanedLists[a].status&&r.a.createElement(g.a,{kind:p.a.CHROMELESS,onClick:()=>this._undoArchive(i,o,a),"data-test-id":"archive-undo-btn"},r.a.createElement("span",{className:e.undo},r.a.createElement(_.c,{id:"unsubscribe_dialog.undo",defaultMessage:"Undo"})))):r.a.createElement("div",{className:e.unsubscribeContainer,key:a,ref:o,"data-test-id":"unsubscribe-unsub-item"},r.a.createElement("div",{className:e.senders},r.a.createElement("span",{className:e.senderName},i),r.a.createElement("span",{className:e.senderEmail},o)),r.a.createElement(g.a,{kind:p.a.CHROMELESS,onClick:()=>this._unsubscribe(a,i,o,l,c),"data-test-id":"unsubscribe-unsub-link"},r.a.createElement("span",{className:e.unsubscribeLink},r.a.createElement(_.c,Y.unsubscribe))),r.a.createElement(g.a,{kind:p.a.CHROMELESS,onClick:()=>this._handleArchive(i,o,a),"data-test-id":"unsubscribe-hide-link",title:t(Y.hideTooltip)},r.a.createElement("span",{className:e.hideLink},r.a.createElement(_.c,Y.hide))))})}),this.forceFocus=(()=>{this.unsubscribeDialog.focus()}),this.handleKeyDown=(e=>{e.stopPropagation(),"Escape"===e.key&&(e.preventDefault(),this.props.onClose(Object.keys(this.state.cleanedLists).length,this.state.numListsCleaned,"icon"))}),this.handleBlurCapture=(e=>{this.unsubscribeDialog&&!this.unsubscribeDialog.contains(e.relatedTarget||e.nativeEvent.explicitOriginalTarget||e.nativeEvent.srcElement)&&setTimeout(this.forceFocus,0)}),t}componentDidMount(){let e=0;for(const t in this.props.unsubList)this.props.displayUnsubList({i13nModel:{mKey:N.e.UNSUB_DISPLAYED,sec:N.g.UNSUB_PANE,actionData:{sender:{name:this.props.unsubList[t].name,email:this.props.unsubList[t].email,key:t,r:++e,s:this.props.unsubList[t].score},num_avail:Object.keys(this.props.unsubList).length}}});this.forceFocus(),window.addEventListener("focus",this.forceFocus)}componentWillUnmount(){window.removeEventListener("focus",this.forceFocus)}render(){const e=v()(C.a),{formatMessage:t}=this.context.intl,{subscriptions:a,subscribe:n,deleteItemCount:s,undoAction:i}=this.props,{numListsCleaned:o}=this.state;return r.a.createElement("div",{className:e.container,ref:e=>this.unsubscribeDialog=e,"data-test-id":"unsubscribe-dialog",onKeyDown:this.handleKeyDown,tabIndex:0,onBlurCapture:this.handleBlurCapture},r.a.createElement("div",{className:e.header},r.a.createElement(_.c,Y.header)),r.a.createElement("div",{className:e.body},r.a.createElement(_.c,{id:"unsubscribe_dialog.deleteMsg",defaultMessage:"{count} emails deleted ({undoMsg}). We can help you unsubscribe from mailing lists or automatically filter them to the Archive folder. Here are today's recommendations:",values:{count:s,undoMsg:r.a.createElement(H.a,{undoAction:i,onClose:this._undo})}})),r.a.createElement("div",{"data-test-id":"unsubscribe-unsub-list"},this._renderSubscribedSenders()),this.state.showConfirmationDialog&&this._renderConfirmationDialog(),r.a.createElement("div",{className:e.actionContainer},r.a.createElement(g.a,{onClick:()=>this.props.onClose(Object.keys(this.state.cleanedLists).length,o,"btn"),title:t(Y.doneButton),"data-test-id":"unsubscribe-done-button",marginLess:!0,kind:p.a.PRIMARY,"aria-label":t(Y.doneButton)},r.a.createElement(_.c,Y.doneButton)),r.a.createElement("span",{className:e.counter},o>0?r.a.createElement(_.c,{id:"unsubscribe_dialog.listCleaned",defaultMessage:"{count} mailing {count, plural, one {list} other {lists}} cleaned",values:{count:o}}):null)),a&&r.a.createElement(L,{subscriptions:a,subscribe:n}),r.a.createElement("span",{className:e.closeWrapper},r.a.createElement(q.a,{"data-iskeynav":!0,"data-test-id":"cue-close",kind:A.b.CLOSE,size:A.d.XS,onClick:()=>this.props.onClose(Object.keys(this.state.cleanedLists).length,o,"icon"),title:t(Y.close),colorStates:{normal:A.a.DISABLED,hovered:A.a.SELECTED}})))}}K.contextTypes={executeAction:s.a.func,intl:_.i.isRequired};var X=Object(o.b)(null,e=>({sendUnsubscribeMail:t=>e(Object(z.g)(t)),displayUnsubList:t=>e(Object(z.e)(t)),openConfirmationDialog:t=>e(Object(z.f)(t)),closeConfirmationDialog:t=>e(Object(z.d)(t)),unsubLinkVisited:t=>e(Object(z.h)(t))}))(K),Q=a(339);a.d(t,"UnsubscribeControllerView",function(){return $}),a.d(t,"mapStateToProps",function(){return J});class $ extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showUnsubscribeDialog:!1},this.handleClose=((e,t,a)=>{let n;"btn"===a?n=N.e.UNSUB_DONE:"icon"===a?n=N.e.UNSUB_DISMISS:"undo"===a&&(n=N.e.UNSUB_UNDO_BATCH_DELETE),this.setState({showUnsubscribeDialog:!1}),this.context.executeAction(Z,{numCleaned:e,i13nModel:{mKey:n,sec:N.g.UNSUB_PANE,actionData:{num_avail:Object.keys(this.props.unsubList).length}}}),t!==this.props.numListsPreviouslyCleaned&&this.props.changeSettings({name:O.id.NUM_UNSUBSCRIBED_ITEMS,value:t})}),t}componentWillReceiveProps(e){e.displayEarnyDialogOnDelete?this.setState({showUnsubscribeDialog:!1}):e.unsubList&&Object.keys(e.unsubList).length>0&&!d()(e.unsubList,this.props.unsubList)&&(this.setState({showUnsubscribeDialog:!0}),this.props.changeSettings({name:O.id.UNSUBSCRIBE_TIMESTAMP,value:Date.now()}))}render(){return this.state.showUnsubscribeDialog&&!this.props.displayEarnyDialogOnDelete?r.a.createElement(m.a,{isModalStyle:!0},r.a.createElement(X,{undoAction:this.props.undoAction,onClose:this.handleClose,unsubList:this.props.unsubList,deleteItemCount:this.props.deleteItemCount,numListsPreviouslyCleaned:this.props.numListsPreviouslyCleaned,subscribe:this.props.subscribe,subscriptions:this.props.subscriptions})):null}}$.contextTypes={executeAction:s.a.func,config:s.a.object};const J=e=>{const{getSubscriptionSelectors:t,getAccountSelectors:a,getUnSubscribeListSelectors:n,getFeaturesSelectors:s,getSelectedAccountId:i}=Object(l.b)(e),r=a(),o=s(),c=t(),d=r.getAccountEmailByAccountId(i()),m=o.getSetting(O.id.EMAIL_SUBSCRIPTIONS),_=o.isEnabled(O.kb.SUBSCRIPTION_RECOMMENDATIONS),u=c.getSubscriptions(d),h=o.isEnabled(O.kb.DISPLAY_EARNY_DIALOG),p=u.filter(e=>-1===m.indexOf(e.id)||e.status!==D.c.READY);return{subscriptions:_?p:null,unsubList:n().getUnSubscribeList().unsubscribeItems,undoAction:n().getUnSubscribeList().undoAction,deleteItemCount:n().getUnSubscribeList().deleteItemCount,numListsPreviouslyCleaned:n().getUnSubscribeList().numListsPreviouslyCleaned,displayEarnyDialogOnDelete:h}};t.default=Object(o.b)(J,e=>({subscribe:(...t)=>e(Object(Q.a)(...t)),changeSettings:t=>e(Object(j.a)(t))}))($)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(26),c=a(375),d=a(1128),m=a.n(d),_=a(11),u=a.n(_);const h=u()(m.a);function p({rowIndex:e,items:t,onKeyDown:a,renderItemInRow:n}){return r.a.createElement("div",{tabIndex:-1,className:h.row,onKeyDown:a},t.map((t,a)=>n(t,e,a)))}var g=class extends r.a.Component{shouldComponentUpdate(e){const{tabIndex:t,rowIndex:a,columnIndex:n}=this.props;return t!==e.tabIndex||a!==e.rowIndex||n!==e.columnIndex}componentDidMount(){const{rowIndex:e,columnIndex:t}=this.props;this.props.registerItemInGrid(this,e,t)}componentDidUpdate(){const{rowIndex:e,columnIndex:t}=this.props;this.props.registerItemInGrid(this,e,t)}render(){const{item:e,tabIndex:t}=this.props;return this.props.renderItemInRow(e,t)}},E=a(10),b=a(0);const C={ArrowLeft:b.O.LEFT,ArrowUp:b.O.UP,ArrowRight:b.O.RIGHT,ArrowDown:b.O.DOWN},f={[b.O.LEFT]:-1,[b.O.RIGHT]:1,[b.O.UP]:-1/0,[b.O.DOWN]:1/0};class v extends r.a.Component{constructor(e){super(e),this.getNumItemsPerRow=(()=>{const e=Object(l.findDOMNode)(this).getBoundingClientRect().width,t=Math.floor(e/this.props.itemWidth);t!==this.state.numItemsPerRow&&this.setState({numItemsPerRow:t})}),this.groupItemListByRow=((e=[])=>{const{numItemsPerRow:t}=this.state,a=[];let n=0,s=0;return e.forEach(e=>{e.listSeparator?(n>0&&a[n]&&n++,this.registerItemInGrid(null,n,0),a[n]=e,a[++n]=[],s=0):(a[n]||(a[n]=[]),a[n].push(e),++s%t==0&&(n++,s=0))}),a}),this.getGroupedItemList=((e=[])=>(this._groupedItemList&&this._savedItemList===e||(this._groupedItemList=this.groupItemListByRow(e),this._savedItemList=e),this._groupedItemList)),this.getItemListSize=((e=[])=>this.getGroupedItemList(e).length),this.getItemsForIndex=((e=[],t)=>this.getGroupedItemList(e)[t]),this.translateCursorIndex=((e,t=[])=>{const a=this.getGroupedItemList(t);let n=0,s=0;for(;n<e;)n+=a[s].listSeparator?1:a[s].length,s++;return n===e?s:s-1}),this.getCursorInGrid=(()=>{const{cursorIndex:e}=this.props,t=this.getGroupedItemList(this._savedItemList);let a=0,n=0,s=0;if(e<0)return{cursorRow:t[a].listSeparator?a+1:a,cursorColumn:n};for(;s<e;)t[a].listSeparator||(s+=t[a].length),a++;return s>e?n=e-(s-t[a-=1].length):s===e&&(a=t[a].listSeparator?a+1:a,n=0),{cursorRow:a,cursorColumn:n}}),this.getRowIndexChange=((e,t,a)=>{const n=a+f[e];return n>=this.getGroupedItemList(this._savedItemList)[t].length?1:n<0?-1:0}),this.getNextCursorIndex=((e,t)=>{const a=this.getGroupedItemList(this._savedItemList);let n=0,s=0;for(;s<e;)a[s].listSeparator||(n+=a[s].length),s++;return n+=t}),this.getCursorMoveUnitBetweenRows=(e=>{const{hasTimeChunking:t}=this.props,a=this.getGroupedItemList(this._savedItemList);if(!t)return this.state.numItemsPerRow;const{cursorRow:n,cursorColumn:s}=this.getCursorInGrid();let i=n+this.getRowIndexChange(e,n,s);if(a[i]&&a[i].listSeparator&&(i=e===b.O.UP?i-1:i+1),i<0)return 0;if(i>=a.length)return a[n].length-s;const r=Math.min(s,a[i].length-1),o=this.getNextCursorIndex(i,r);return Math.abs(this.props.cursorIndex-o)}),this.getCursorMoveUnit=(e=>e===b.O.LEFT||e===b.O.RIGHT?1:this.getCursorMoveUnitBetweenRows(e)),this.handleKeyNavigation=(e=>{const t=C[e.key];if(t!==b.O.LEFT&&t!==b.O.RIGHT)return;const{actions:a,listId:n}=this.props,s=this.getCursorMoveUnit(t);e.stopPropagation(),this.context.executeAction(a.moveCursor,{listId:n,movement:t,unit:s})}),this.registerItemInGrid=((e,t,a)=>{const n=this._registeredNodeInGrid;if(null===e)return void(n[t]={listSeparator:!0});const s=this.getGroupedItemList(this._savedItemList)[t];Array.isArray(n[t])?s&&n[t].length>s.length&&(n[t]=n[t].slice(0,s.length)):n[t]=[],n[t][a]=Object(l.findDOMNode)(e)}),this.renderItemInRow=((e,t,a)=>{const{id:n}=e.attachment,{cursorIndex:s,items:i}=this.props,o=i[Math.max(s,0)]?i[Math.max(s,0)].attachment.id:i[0].attachment.id;return r.a.createElement(g,{key:n,item:e,rowIndex:t,columnIndex:a,tabIndex:o===n?E.TabIndices.MESSAGE_LIST_MAIN:-1,registerItemInGrid:this.registerItemInGrid,renderItemInRow:this.props.renderItemInRow})}),this.renderRow=((e,t)=>r.a.createElement(p,{items:e,rowIndex:t,onKeyDown:this.handleKeyNavigation,renderItemInRow:this.renderItemInRow})),this._registeredNodeInGrid=[],this._groupedItemList=[],this._savedItemList=[],this.state={numItemsPerRow:4}}componentWillReceiveProps(e){this.props.windowDimensions.innerWidth!==e.windowDimensions.innerWidth&&this.getNumItemsPerRow()}componentDidMount(){this.getNumItemsPerRow()}componentDidUpdate(e){if(this.props.cursorIndex!==e.cursorIndex){const{cursorRow:e,cursorColumn:t}=this.getCursorInGrid(),a=this._registeredNodeInGrid[e]&&this._registeredNodeInGrid[e][t];a&&a.focus()}}render(){return r.a.createElement(c.a,babelHelpers.extends({key:`${this.state.numItemsPerRow} in ${this.props.listId}`,translateCursorIndex:this.translateCursorIndex,getItemListSize:this.getItemListSize,getItemsForIndex:this.getItemsForIndex,getCursorMoveUnit:this.getCursorMoveUnit,renderItem:this.renderRow},this.props))}}v.contextTypes={executeAction:s.a.func};var I=v,y=a(975),S=a(140),N=a(230),T=a(5),A=a(14),M=a(17),D=a(976),O=a.n(D),k=a(13),R=a(1033),x=a(164),P=a(38),w=a(9);a.d(t,"PhotoList",function(){return B}),a.d(t,"mapStateToProps",function(){return H}),a.d(t,"mapDispatchToProps",function(){return U});const F=u()(O.a),L=50;class B extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={showDeleteConfirm:!1},this.renderDeletePreview=(({messageId:e,messageGroupId:t})=>{Object(x.a)(r.a.createElement(R.a,{listId:this.props.listId,messageId:e,groupId:t}),this.context)}),this.forwardAttachmentByEmail=((e,{i13nModel:t})=>{const a=Object(A.f)();this.context.navigateTo({route:Object(M.e)(a),attachments:e?[e]:[],i13nModel:Object.assign({mKey:T.e.PHOTO_SHARE,mKeyGroup:T.f.compose,sec:T.g.PHOTO_LIST},t)})}),this.handleCursorOpen=(e=>{const{items:t,cursorIndex:a}=this.props;e.stopPropagation(),this.handlePreview(t[Math.max(a,0)].attachment,{i13nModel:{interactionType:T.d.nav}})}),this.handlePreview=((e,{i13nModel:t})=>{if(t=Object.assign({mKey:T.e.PHOTO_OPEN,sec:T.g.PHOTO_LIST},t),e.isExternal)return this.context.executeAction(N.d,{i13nModel:t}),void window.open(e.downloadUrl,"_blank");const a=this.props.isConversationsMode?e.conversationId:this.props.getMessageIdForAttachmentId(e.id);this.context.navigateTo(a&&"undefined"!==a?{route:Object(M.c)(this.props.listId,a,e.id,{fullscreen:"1"}),itemId:e.id,i13nModel:t}:{route:Object(M.p)(this.props.listId,e.id,{fullscreen:"1"}),itemId:e.id,i13nModel:babelHelpers.extends({},t,{mKey:T.e.PENSIEVE_PHOTO_OPEN})})}),this.handleMessageOpen=((e,{i13nModel:t})=>{const a=this.props.getMessageIdForAttachmentId(e);this.context.navigateTo({route:this.props.messageGroupRoutes[e],hashParams:{messageId:a},itemId:e,i13nModel:Object.assign({mKey:T.e.PHOTO_READ_MSG,mKeyGroup:T.f.open_msg,sec:T.g.PHOTO_LIST},t)})}),this.handleAttachmentDownload=((e,t)=>{this.props.handleDownload({attachment:e,i13nModel:Object.assign({mKey:T.e.PHOTO_DOWNLOAD,sec:T.g.PHOTO_LIST,mKeyGroup:T.f.dwnld_attmnt},t)})}),this.handleDelete=(e=>{const{getCurrentListId:t}=Object(w.b)(this.context.store.getState());this.props.deletePensieve({attachment:e,listId:t()})}),this.handleDeleteMessage=(({attachmentId:e,i13nModel:t})=>{const{listId:a,getMessageIdForAttachmentId:n,getConversationId:s,isConversationsMode:i}=this.props,r=n(e),o=i?s(e):r;this.props.handleDeleteMessage({messageId:r,messageGroupId:o,listId:a,i13nModel:t}),this.renderDeletePreview({messageId:r,messageGroupId:o})}),this.handleDeleteConfirmClose=(()=>{this.setState({showDeleteConfirm:!1,messageId:null})}),this.renderItemInRow=((e,t)=>{const{id:a,conversationId:n}=e.attachment;return r.a.createElement(y.a,{key:a,item:e,tabIndex:t,route:this.props.messageGroupRoutes[a],onMessageOpen:this.handleMessageOpen,onDeletePreview:this.handleDeleteMessage,onClick:this.handlePreview,onForward:this.forwardAttachmentByEmail,onDownload:this.handleAttachmentDownload,onDelete:this.handleDelete,isDeleteEnabled:this.props.deleteFromPhotosView&&!!n,isPensieveEnabled:this.props.isPensieveEnabled})}),t}render(){const e=Object.assign({},this.props,{hasAds:!1});return r.a.createElement("div",{className:F.container,"data-test-id":"photo-list"},r.a.createElement(I,babelHelpers.extends({renderItemInRow:this.renderItemInRow,onOpen:this.handleCursorOpen,getTimeStampFromItem:e=>e.attachment.creationDate,getHeightForIndex:()=>E.PHOTO_SIZE_PLUS_PADDING,itemWidth:E.PHOTO_SIZE_PLUS_PADDING,itemsToFetch:L},e)))}}B.contextTypes={executeAction:s.a.func,navigateTo:s.a.func.isRequired,config:s.a.object,getStore:s.a.func.isRequired,intl:o.i.isRequired,store:s.a.object.isRequired,timezone:P.e.isRequired,getTheme:s.a.func.isRequired,getCss:s.a.func.isRequired};const H=(e,t)=>{const{getMessageIdForAttachmentId:a,getAttachmentsSelectors:n,getFeaturesSelectors:s,doesListExist:i,doesListHasMoreItems:r}=Object(w.b)(e),{getConversationId:o}=n(),l=s().isEnabled(b.kb.CONVERSATIONS),c=s().isEnabled(b.kb.DELETE_FROM_PHOTOS_VIEW),d=s().isEnabled(b.kb.PENSIEVE);return{hasMoreItems:!!i(t.listId)&&r(t.listId),getMessageIdForAttachmentId:a,getConversationId:o,isConversationsMode:l,deleteFromPhotosView:c,isPensieveEnabled:d}},U=e=>({handleDownload({attachment:t,i13nModel:a}){e(Object(N.b)({attachment:t,i13nModel:a}))},handleDeleteMessage(t){e(Object(S.h)(t))},deletePensieve(t){e(Object(S.d)(t))}});t.default=Object(k.b)(H,U)(B)},function(e,t,a){"use strict";a.r(t);a(6);var n=a(2),s=a.n(n),i=a(13),r=a(0);var o=class extends s.a.Component{componentDidMount(){const{downloadId:e,onDownloadCompleted:t}=this.props;this.timeout=setTimeout(()=>{t({downloadId:e})},r.V)}componentWillUnmount(){clearTimeout(this.timeout),this.timeout=null}render(){const{downloadUrl:e}=this.props;return s.a.createElement("iframe",{src:e,width:"0",height:"0",style:{display:"none"}})}},l=a(9),c=a(59),d=a(1),m=a(58);const _=a.n(m).a.create("norrin/downloader");a.d(t,"ERROR_FRAME_PATH",function(){return u}),a.d(t,"Downloader",function(){return p}),a.d(t,"mapStateToProps",function(){return g}),a.d(t,"mapDispatchToProps",function(){return E});const u=`${r.Xd}/iframemsg`;function h(){return window.location.hostname+(window.location.port?`:${window.location.port}`:"")}class p extends s.a.Component{constructor(...e){var t;return t=super(...e),this._handlePostMessage=(e=>{const{origin:t,source:a}=e;if(t!==`https://${h()}`||a.location.pathname!==u)return;let n={};try{n=JSON.parse(e.data)}catch(t){return void c.a.error(`Unable to parse JSON data from ${u}.`,e.data)}const{error:s={}}=n,i=this.props.downloadItems.find(e=>e.downloadId===n.id)||{},{downloadId:r,downloadUrl:o,filename:l,fileCount:d}=i;this.props.handleDownloadFailed(babelHelpers.extends({downloadId:r,downloadUrl:o,filename:l,fileCount:d},s))}),this._buildDownloadUrl=((e,t)=>{if(-1===h().indexOf("mail.yahoo.com")||-1!==t.indexOf("ct.yimg.com"))return t;return`${t}&error=${encodeURIComponent(`${function(){return`https://${h()}${u}`}()}?id=${e}`)}`}),t}componentDidMount(){window.addEventListener("message",this._handlePostMessage)}componentWillUnmount(){window.removeEventListener("message",this._handlePostMessage)}render(){const{downloadItems:e,handleDownloadCompleted:t}=this.props,a=e.map(e=>s.a.createElement(o,{key:e.downloadId,downloadId:e.downloadId,downloadUrl:this._buildDownloadUrl(e.downloadId,e.downloadUrl),onDownloadCompleted:t}));return a.length?s.a.createElement("div",{"data-test-id":"downloader-wrapper"},a):null}}function g(e){const{getDownloadsSelectors:t}=Object(l.b)(e);return{downloadItems:t().getDownloads()}}function E(e){return{handleDownloadCompleted({downloadId:t}){e(function({downloadId:e,downloadUrl:t}){return _.info("download completed",{downloadId:e,downloadUrl:t}),{type:d.a.DOWNLOAD_COMPLETED,downloadId:e}}({downloadId:t}))},handleDownloadFailed({downloadId:t,downloadUrl:a,filename:n,fileCount:s,error:i}){e(function({downloadId:e,downloadUrl:t,fileCount:a,filename:n,error:s={}}){return _.error("download failed",{downloadId:e,downloadUrl:t,error:s}),{type:d.a.DOWNLOAD_FAILED,downloadId:e,downloadUrl:t,fileCount:a,filename:n,error:s}}({downloadId:t,downloadUrl:a,filename:n,fileCount:s,error:i}))}}}t.default=Object(i.b)(g,E)(p)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(961),c=a(956),d=a(11),m=a.n(d),_=a(1012),u=a.n(_),h=a(30),p=a(21),g=a(3),E=a(362),b=a(14),C=a(9),f=a(13),v=a(60),I=a(16),y=a(8);var S=e=>{const{heading:t,subHeading:a,buttonKind:n,onClick:s,buttonMessage:i,hasMargin:o,linkTo:l,isCompact:c}=e,d=m()(u.a,{isCompact:c,nonCompact:!c});return r.a.createElement("div",{className:d.adblockOption},t?r.a.createElement("div",{className:d.optionHeading},t,r.a.createElement("span",{className:d.optionSubHeading},a)):null,r.a.createElement("a",{href:l,rel:"noreferrer",target:"_blank",className:d.optionButtonContainer},r.a.createElement(I.a,{"data-test-id":"navigate-to-link",onClick:s,kind:n,marginLess:o},r.a.createElement("span",{className:d.optionButton},i))))},N=a(0),T=a(328),A=a(5),M=(a(38),a(50)),D=a(970),O=a(58),k=a.n(O),R=a(1053),x=a.n(R),P=a(73),w=a(424);const F=k.a.create("norrin/gemini_rr_upsell_video_ad"),L=Object(o.h)({close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},thanksForWatching:{id:"right_rail_upsell_video_ad.thanks",defaultMessage:"Thank you for watching the video!"},enjoyAdFree:{id:"right_rail_upsell_video_ad.enjoy",defaultMessage:"Enjoy your {duration} minutes of ad-free Mail"},adText:{id:"ad.text",defaultMessage:"AD"}});class B extends i.Component{constructor(){super(),this.getVideoConfig=(()=>{const{adData:e,spaceId:t,geminiVideoAdId:a,site:n}=this.props,{region:s}=this.context,{videoAd:i,pencilAd:r}=e,{videoMediaAssets:o,thumbnail:l,clickUrl:c,rules:d,actionUrls:m}=i;return{site:n,expName:"norrinRightRailUpsellVideoAd",autoplay:!0,html5:!0,mute:!0,spaceId:t,playlist:{mediaItems:[{id:a,images:{thumbnail:l}}]},YVAP:{standaloneAd:{gemini:{mediaInfo:o,clickUrl:c,landingUrl:r.landingUrl},rules:d,beacons:m}},replayonlyendscreen:!0,ccOnMute:!0,region:s}}),this.handleAdPlaybackStart=(()=>{this.videoStartTimestamp=Date.now(),this.props.onVideoAdStarted({i13nModel:{mKey:A.e.RIGHT_RAIL_UPSELL_VIDEO_AD_STARTED,sec:A.g.FEATURE_CUE}})}),this.updateAdFreeTimestamp=(e=>{Object(b.l)()&&(e||Date.now()-this.videoStartTimestamp>w.a)&&(window.localStorage.setItem(w.b,Date.now()),this.props.onTimestampUpdate())}),this.handleAdPlaybackEnd=(()=>{this.updateAdFreeTimestamp(!0),this.setState({isFinished:!0}),this.props.onVideoAdFinished({i13nModel:{mKey:A.e.RIGHT_RAIL_UPSELL_VIDEO_AD_FINISHED,sec:A.g.FEATURE_CUE}})}),this.handleVideoError=((e,t)=>{F.info("Right-rail Gemini video ad"+e,{data:t})}),this.handleAdClick=((e,t)=>{e.stopPropagation(),this.updateAdFreeTimestamp(!1),this.props.onVideoAdClicked({i13nModel:{mKey:A.e.RIGHT_RAIL_UPSELL_VIDEO_AD_CLICKED,sec:A.g.FEATURE_CUE,actionData:{videoClick:t}}})}),this.videoStartTimestamp=0,this.state={isFinished:!1}}render(){const{onClose:e,videoAdDuration:t,adData:a}=this.props,{adSource:n,adImg:s,adHeadline:i,clickUrl:o,callToAction:l}=a.pencilAd,{formatMessage:c}=this.context.intl,d=this.context.getCss(x.a);return r.a.createElement("div",{"data-test-id":"video-container",className:d.container},r.a.createElement("div",{className:d.close},r.a.createElement(p.a,{onClick:e,kind:g.b.CLOSE,size:g.d.XS,colorState:this.state.isFinished?g.a.NORMAL:g.a.WHITE,title:c(L.close),"aria-label":c(L.close),"data-test-id":"close-cue-button"})),this.state.isFinished?r.a.createElement("div",{"data-test-id":"video-thank-you-container",className:d.thankYouContainer},r.a.createElement("div",{className:d.thankYouImage},r.a.createElement("div",{className:d.imageWrapper},r.a.createElement("div",{className:d.imageBackground},r.a.createElement("img",{className:d.thinkingEmoji,src:Object(v.a)("/img/animation_adblocker.gif")})))),r.a.createElement("div",{className:d.thankYouHeaderContainer},r.a.createElement("div",{className:d.thankYouHeader},c(L.thanksForWatching)),r.a.createElement("div",{className:d.thankYouSubHeader},c(L.enjoyAdFree,{duration:t})))):r.a.createElement("div",{className:d.videoContainer,onClick:e=>this.handleAdClick(e,!0)},r.a.createElement(D.a,{onAdPlaybackStart:this.handleAdPlaybackStart,onAdPlaybackEnd:this.handleAdPlaybackEnd,onAdError:e=>this.handleVideoError("AdError",e),onPlayerError:e=>this.handleVideoError("PlayerError",e),onLoadError:e=>this.handleVideoError("LoadError",e),width:"640px",height:"360px",playerConfig:this.getVideoConfig(),key:"rightRailUpsellVideoAd",showVideoCoverInitially:!1,play:!0}),r.a.createElement("div",{className:d.adContainer},r.a.createElement("div",{className:d.adDetails},r.a.createElement("div",{className:d.adImage},s&&r.a.createElement(P.c,{size:P.b.M,fallback:s})),r.a.createElement("div",{className:d.adDescription},r.a.createElement("span",{className:d.adSource},n,r.a.createElement("a",{className:d.adIcon,href:this.props.aboutAdsUrl,target:"_blank"},c(L.adText))),r.a.createElement("span",{className:d.adHeadline},i))),r.a.createElement("a",{className:d.cta,href:o,onClick:e=>this.handleAdClick(e,!1),target:"_blank"},l))))}}B.contextTypes={intl:o.i,region:s.a.string,getCss:s.a.func};var H=Object(f.b)(e=>{const{getSetting:t,getCurrentSpaceId:a}=Object(C.b)(e);return{geminiVideoAdId:t(N.id.GEMINI_VIDEO_AD_ID),spaceId:a(),site:t(N.id.GEMINI_VIDEO_AD_SITE),aboutAdsUrl:t(N.id.ABOUT_AD_URL)}},e=>({onVideoAdStarted:t=>e(Object(M.v)(t)),onVideoAdFinished:t=>e(Object(M.u)(t)),onVideoAdClicked:t=>e(Object(M.t)(t))}))(B);a.d(t,"mapStateToProps",function(){return Z}),a.d(t,"mapDispatchToProps",function(){return V});const U=Object(o.h)({yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooWiderMailBranding:{id:"mail.yahoo_wider_mail_upsell_branding",defaultMessage:"Wider Mail"},tryItFree:{id:"adblock_payup_try_it_free",defaultMessage:"Try it free!"},getExtension:{id:"adblock_payup_extension_text",defaultMessage:"Install"},upgradeToMailPro:{id:"upgrade_to_yahoo_mail_pro",defaultMessage:"Upgrade to {mailProBranding} (go ad-free)"},mailProPricePlan:{id:"upgrade_to_yahoo_mail_pro_price",defaultMessage:"{mailProPriceOption}/month"},getWiderMail:{id:"get_wider_mail_extension",defaultMessage:"Get the free {widerMailBranding} extension"},adBlockUpsellUserName:{id:"adBlock_upsell_user_name",defaultMessage:"Hi {accountName}!"},close:{id:"adBlock_upsell_close_icon",defaultMessage:"Close"},rightRailUpsellSubText:{id:"right_rail_upsell_subtext",defaultMessage:"Want more room to view your messages?"},adBlockUpsellOptionsHeader:{id:"adBlock_upsell_options_header",defaultMessage:"Want fewer ads?"},tryOneofThese:{id:"try_one_of_these",defaultMessage:"Try one of these options:"},videoAdDescription:{id:"right_rail_upsell_video_ad.description",defaultMessage:"{duration} mins Ad-Free Mail (recommended)"},videoAdButton:{id:"right_rail_upsell_video_ad.button",defaultMessage:"Watch a Video"}}),j="https://chrome.google.com/webstore/detail/",W="https://addons.mozilla.org/firefox/downloads/latest/yahoo-wider-mail/addon-727603-latest.xpi?src=ymail";class G extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={videoAdStarted:!1,isTempAdFree:!1},this.getRapidEvent=((e,t)=>({i13nModel:{mKey:e,sec:A.g.FEATURE_CUE,interactionType:Object(b.i)(t)}})),this.statOptionClick=((e,t)=>{const{onAdblockUpsellOptionClick:a}=this.props;a({mKey:e,sec:A.g.FEATURE_CUE,interactionType:Object(b.i)(t)})}),this.onClose=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",sec:A.g.FEATURE_CUE,interactionType:Object(b.i)(e),actionData:{isTempAdFree:this.state.isTempAdFree}}})}),this.handleOverlayClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e))}),this.handleGetExtension=(e=>{let t=Object(y.a)(window,"AppBootstrapData.browserName","");if("chrome"===(t=t.toLowerCase())){const{extensionSetting:e}=this.props;window.open(j+e.chromeExtensionId,"_blank")}else"firefox"===t&&(location.href=W,this.props.onClose(this.getRapidEvent("cue_"+this.props.cueName+"_close",e)))}),this.handleClick=((e,t)=>{let a;switch(e){case"goToMailPro":a="cue_"+this.props.cueName+"_mailPro";break;case"videoAd":a="cue_"+this.props.cueName+"_videoAd",this.setState({videoAdStarted:!0});break;case"getExtension":a="cue_"+this.props.cueName+"_getExtension",this.handleGetExtension(t);break;default:a="cue_"+this.props.cueName+"_success"}this.statOptionClick(a,t)}),this.handleAdFreeTimestampUpdated=(()=>{this.setState({isTempAdFree:!0})}),this.renderUpsellCue=(e=>{const{formatMessage:t}=this.context.intl,{onClose:a}=this,{accountName:n,mailProPriceOption:s,adFreeMailUrl:i,isMailProEligible:l,isWiderMailEligible:c,isMailPro:d,widerMailExtnEnabled:m,mailProSubscription:_,mailProError:u,paymentDataIsLoading:E,showAltMsgOnRightRailUpsell:b,rightRailUpsellVideoAd:C,videoAdDuration:f,adData:I}=this.props;let N="";const T=C&&I&&Object(y.a)(I,"pencilAd.landingUrl",null)&&Object(y.a)(I,"videoAd.clickUrl",null);return E||(N=u||_&&0===_.length?t(U.tryItFree):t(U.mailProPricePlan,{mailProPriceOption:s})),r.a.createElement("div",{"data-test-id":"rr-upsell-cue",className:e.container},r.a.createElement("div",{className:e.close},r.a.createElement(p.a,{onClick:a,kind:g.b.CLOSE,size:g.d.XS,colorState:g.a.NORMAL,title:t(U.close),"aria-label":t(U.close),"data-test-id":"close-cue-button"})),r.a.createElement("div",{"data-test-id":"header",className:e.headerSection},r.a.createElement("div",{className:e.imageWrapper},r.a.createElement("div",{className:e.adBlockBackground},r.a.createElement("img",{className:e.thinkingEmoji,src:Object(v.a)("/img/animation_adblocker.gif")})))),r.a.createElement("div",{className:e.heading},r.a.createElement("div",{className:e.userName},t(U.adBlockUpsellUserName,{accountName:n})),r.a.createElement("div",{className:e.message},t(b?U.adBlockUpsellOptionsHeader:U.rightRailUpsellSubText))),c&&!m&&l&&!d?r.a.createElement("div",{className:e.description,"data-test-id":"rr-upsell-cue-description-two-options"},b?t(U.tryOneofThese):r.a.createElement(o.c,{id:"body_text_right_rail_upsell",defaultMessage:"Choose one of the options below to get an expanded view of your inbox:"})):null,r.a.createElement("div",{className:e.adblockUpsell,"data-test-id":"rr-upsell-options"},c&&!m?r.a.createElement(S,{heading:t(U.getWiderMail,{widerMailBranding:t(U.yahooWiderMailBranding)}),buttonKind:h.a.SECONDARY,hasMargin:!0,onClick:this.handleClick.bind(this,"getExtension"),buttonMessage:t(U.getExtension),"data-test-id":"wider-mail-extension"}):null,l&&!d?r.a.createElement(S,{heading:t(U.upgradeToMailPro,{mailProBranding:t(U.yahooMailProBranding)}),buttonKind:h.a.PRIMARY,hasMargin:!0,onClick:this.handleClick.bind(this,"goToMailPro"),linkTo:i,buttonMessage:N}):null,T?r.a.createElement(S,{heading:t(U.videoAdDescription,{duration:f}),buttonKind:h.a.PRIMARY,hasMargin:!0,onClick:this.handleClick.bind(this,"videoAd"),buttonMessage:t(U.videoAdButton)}):null))}),t}render(){const{adData:e,videoAdDuration:t}=this.props,a=m()(u.a);return r.a.createElement(l.a,{onClose:this.handleOverlayClick,onOuterClick:()=>{},kind:E.a.DARK,ariaLabelledBy:"right-rail-upsell-cue",ariaDescribedBy:"right-rail-upsell-cue"},this.state.videoAdStarted?r.a.createElement(H,{onClose:this.onClose,onTimestampUpdate:this.handleAdFreeTimestampUpdated,adData:e,videoAdDuration:t}):this.renderUpsellCue(a))}}G.contextTypes={intl:o.i};const Z=e=>{const{getFeaturesSelectors:t,getAccountSelectors:a,getPaymentSelectors:n,getSelectedAccountId:s,getUnsyncedDataToSync:i,getAdsSelectors:r}=Object(C.b)(e),o=t(),{getAccountNameByAccountId:l}=a(),c=l(s()),d=o.isEnabled(N.kb.MAIL_PRO_ELIGIBLE),m=o.getSetting(N.id.MAIL_PRO_MONTHLY_PRICE),_=n().getPaymentDetails(),u=n().getPaymentError(),h=o.getSetting(N.id.AD_FREE_MAIL_URL),p=o.getSetting(N.id.WIDER_MAIL_EXTENSION),g=o.isEnabled(N.kb.WIDER_MAIL_ELIGIBLE),E=o.isEnabled(N.kb.MAIL_PRO),b=o.isEnabled(N.kb.IS_WIDER_MAIL_EXTN_ENABLED),f=i(Date.now()).some(e=>e.type===N.Td.PAYMENTS_CONTENT_TO_FETCH),v=o.getSetting(N.id.RIGHT_RAIL_UPSELL_VERSION),I="showOnSendWithAltMsg"===v||"rightRailUpsellWithAltMsg"===v,y=o.isEnabled(N.kb.RIGHT_RAIL_UPSELL_VIDEO_AD),S=o.getSetting(N.id.RIGHT_RAIL_UPSELL_VIDEO_AD_DURATION),T=o.getSetting(N.id.GEMINI_SECTION_IDS);return{isMailProEligible:d,accountName:c,mailProPriceOption:m,adFreeMailUrl:h,isWiderMailEligible:g,extensionSetting:p,isMailPro:E,widerMailExtnEnabled:b,mailProSubscription:_,mailProError:u,paymentDataIsLoading:f,showAltMsgOnRightRailUpsell:I,rightRailUpsellVideoAd:y,videoAdDuration:S,adData:r().getGeminiAdData(T[N.tb.RIGHT_RAIL_UPSELL])}},V=e=>({onAdblockUpsellOptionClick:t=>e(Object(T.c)({i13nModel:t}))});t.default=Object(c.a)(Object(f.b)(Z,V)(G))},,function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(150),c=a(1),d=a(123);function m(e,{i13nModel:t}){e.dispatch(c.a.SSA_BREACH_ALERT_SHOWN,{i13nModel:t})}function _(e,{name:t,i13nModel:a}){return e.dispatch(c.a.SSA_BREACH_ALERT_MARK_AS_ACTED_REQUESTED,{name:t,i13nModel:a}),e.udbClient.write({[d.a.YM_MAIL_SSA_ALERT]:`end${Math.round(Date.now()/1e3)}`}).then(()=>{e.dispatch(c.a.SSA_BREACH_ALERT_MARK_AS_ACTED_SUCCEEDED)}).catch(()=>{e.dispatch(c.a.SSA_BREACH_ALERT_AS_ACTED_FAILED)})}var u=a(14),h=a(11),p=a.n(h),g=a(1059),E=a.n(g),b=a(0);const C=Object(o.h)({title:{id:"ssa_breach_alert.title",defaultMessage:"Your account may have been affected by a security issue."}}),f=p()(E.a),v="http://yahoo.com/securityupdate";class I extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onUserAction=(e=>{this.context.executeAction(_,{name:b.kb.SSA_BREACH_SECURITY_ALERT,i13nModel:{mKey:"alertOk",sec:"ssa_breach_alert",interactionType:e?Object(u.i)(e):"click"}})}),this.getMessage=(()=>r.a.createElement("div",null,r.a.createElement(o.c,{id:"ssa_breach_alert.body",defaultMessage:"You can read about the issue and how to further secure your account {here}.",values:{here:r.a.createElement("a",{href:v,target:"_new",className:f.link,rel:"noopener"},r.a.createElement(o.c,{id:"ssa_breach_alert.here_link",defaultMessage:"here"}))}}))),t}componentDidMount(){this.context.executeAction(m,{i13nModel:{mKey:"alertShown",sec:"ssa_breach_alert"}})}render(){const{intl:e}=this.context,{formatMessage:t}=e;return r.a.createElement(l.a,{title:t(C.title),onAccept:this.onUserAction,hideClose:!1,message:this.getMessage()})}}I.contextTypes={intl:o.i.isRequired,executeAction:s.a.func};t.default=I},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(9),c=a(4),d=a(26),m=a(16),_=(a(38),a(956)),u=a(14),h=a(15),p=a(21),g=a(3),E=a(1131),b=a.n(E),C=a(11),f=a.n(C);const v=Object(c.h)({singleButtonNewCue:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class I extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onPrimaryButton=(e=>{this.props.onPrimary();const t={i13nModel:{mKey:"cue_"+this.props.cueName+"_success",interactionType:Object(u.i)(e)}};this.props.onSuccess(t)}),this.onAbort=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(u.i)(e)}})}),t}componentDidMount(){this.refs.singleButtonWithDateCueContent&&window.setTimeout(()=>{Object(d.findDOMNode)(this.refs.singleButtonWithDateCueContent).focus()},0)}render(){const e=f()(b.a,{theme:this.context.getTheme()}),{formatMessage:t}=this.context.intl;return r.a.createElement("div",{role:"navigation","aria-label":t(v.singleButtonNewCue)},r.a.createElement("div",{className:e.container,"data-test-id":this.props.cueName,ref:"singleButtonWithDateCueContent",tabIndex:"-1"},r.a.createElement("div",{"data-test-id":"coupon_card_date",className:e.date},r.a.createElement("div",{className:e.day},this.props.date),r.a.createElement("div",{className:e.month},r.a.createElement(c.c,this.props.monthText))),r.a.createElement("div",{className:e.separator}),r.a.createElement("div",{className:e.actions},r.a.createElement("div",{className:e.info},r.a.createElement("div",{className:e.header},this.props.headerText),r.a.createElement("div",{className:e.body},this.props.bodyText)),r.a.createElement("div",{className:e.buttonContainer},r.a.createElement(m.a,{className:e.buttonUnclipped,onClick:e=>this.onPrimaryButton(e),"data-test-id":"save-coupon-btn","aria-label":t(this.props.btnText)},r.a.createElement(h.b,{kind:g.b.ADD,size:g.d.M,colorState:g.a.SUCCESS}),r.a.createElement("span",{className:e.buttonText},r.a.createElement(c.c,this.props.btnText))))),r.a.createElement("div",{className:e.close},r.a.createElement(p.a,{onClick:this.onAbort,kind:g.b.CLOSE,size:g.d.XXS,title:t(v.close),"aria-label":t(v.close),"data-test-id":"close-cue-button"}))))}}I.contextTypes={intl:c.i.isRequired,getTheme:s.a.func};var y=Object(_.a)(I),S=a(5),N=a(959),T=a(0),A=a(1031),M=a(957);a.d(t,"mapStateToProps",function(){return k});const D=Object(c.h)({button:{id:"date_cue.button_text",defaultMessage:"Save Deal"}});class O extends r.a.Component{constructor(...e){var t;return t=super(...e),this._getDateInfo=(()=>{const{date:e,month:t,dateDiff:a,isInferred:n}=this.props.cardData.expirationTime,s=r.a.createElement(M.a,{daysUntilExpiry:a,isInferred:n});return{day:e,month:A.b[`month_${t}`],daysLeftMsg:s}}),this._handlePrimary=(()=>{const{cardData:{cmid:e,schemaId:t}={},clip:a}=this.props;a({cardMid:e,schemaId:t,i13nModel:{mKey:S.e.COUPON_CLIPPED,sec:S.g.MSG_LIST_MSG}})}),t}render(){if(!this.props.cardData)return null;const{day:e,month:t,daysLeftMsg:a}=this._getDateInfo();return r.a.createElement(y,{headerText:this.props.cardData.description,bodyText:a,btnText:D.button,cueName:T.kb.INBOX_COUPONS_CUE,onPrimary:this._handlePrimary,monthText:t,date:e})}}O.contextTypes={intl:c.i.isRequired,executeAction:s.a.func};const k=(e,t)=>{const{getCouponsSelectors:a}=Object(l.b)(e),{getCouponCardsForCardConversationId:n}=a();return{cardData:n(t.cardConversationId)[0]}};t.default=Object(o.b)(k,N.d)(O)},function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(13),r=a(26),o=a.n(r),l=a(6),c=a.n(l),d=a(4),m=a(11),_=a.n(m),u=a(431),h=a.n(u),p=a(0),g=(a(8),a(1029)),E=a(17),b=(a(29),a(166)),C=a(5),f=a(14),v=a(102),I=a(3),y=a(15),S=a(79),N=a(69),T=a(16);const A=84,M=Object(d.h)({moreSettings:{id:"more_settings_title",defaultMessage:"Settings"},optOutLinkText:{id:"option_to_classic_mail_item",defaultMessage:"Switch to classic Mail"},giveFeedbackText:{id:"give_feedback_link",defaultMessage:"Give feedback"},yahooMailProBranding:{id:"mail.yahoo_mail_pro_upsell_branding",defaultMessage:"Mail Pro"},yahooMailProUpsell:{id:"mail.yahoo_mail_pro_upsell",defaultMessage:"Try {YahooMailProBrand}"}});class D extends s.a.Component{constructor(...e){var t;return t=super(...e),this.state={hasScrolled:!1,menuFooterItemsHeight:A},this.swallowEvent=(e=>{e.stopPropagation()}),this._renderOptOutItem=((e,t)=>{if(!this.props.norrinOptOut)return null;const a=p.gc+"?crumb="+window.AppBootstrapData.crumb;return s.a.createElement("a",{href:this.props.optOutSurvey?"#":a,className:e.optOutLink,onClick:this.props.onOptOutFeedback,title:t(M.optOutLinkText),"data-test-id":"opt-out-button"},s.a.createElement(y.b,{kind:I.b.ARROW_UP,size:I.d.XS,rotate:I.c.D270,colorState:I.a.INHERITED}),s.a.createElement("span",{className:e.menuLabel},t(M.optOutLinkText)))}),this._renderMailProItem=((e,t)=>s.a.createElement("a",{href:p.b,rel:"noreferrer",target:"_blank"},s.a.createElement(T.a,{overridingClass:e.mailProButton},this.props.mailProEnabled?t(M.yahooMailProBranding):t(M.yahooMailProUpsell,{YahooMailProBrand:t(M.yahooMailProBranding)})))),this.handleScroll=(()=>{this.setState({hasScrolled:!0})}),this.gotoSettings=(e=>{e.preventDefault(),this.context.navigateTo({route:Object(E.s)({settingsGroupId:p.ld.PERSONALIZE_INBOX}),i13nModel:{mKey:C.e.SETTINGS_POPUP_MORE,sec:C.g.SETTINGS_POPUP,interactionType:Object(f.i)(e)}})}),this._goToFeedbackPage=(e=>{this.props.giveFeedback({event:e})}),this.handleClickToScroll=(e=>{const t=o.a.findDOMNode(this._menuItemQuickAccessDiv),a=e.offsetHeight-t.offsetHeight;this._scrollInterval=setInterval(()=>{t.scrollTop+b.c<=a?t.scrollTop+=b.c:clearInterval(this._scrollInterval)},b.b)}),t}componentDidMount(){this.setState({menuFooterItemsHeight:this.footerElem1.clientHeight+(this.footerElem2?this.footerElem2.clientHeight:0)||A})}componentWillUnmount(){this.context.executeAction(v.d)}render(){const{intl:e}=this.context,{formatMessage:t}=e,{feedbackUrl:a,photoThemes:n,availableHeightBelowCommsProps:i,partnerBrand:r,showGiveFeedbackLink:o,optOutLinkInMoreSettings:l,mailProLinkInSettingsMenu:c}=this.props,m=_()(h.a,{hideFeedbackLink:!o}),{menuFooterItemsHeight:u}=this.state,E=i-u,C=E>b.e?E:b.e;return s.a.createElement("div",{className:m.menuContainer,"data-test-id":"settings-menu"},s.a.createElement("ul",{className:m.menuList},s.a.createElement("li",{onClick:this.swallowEvent},s.a.createElement("div",{"data-test-id":"menu-item-quick-access-div",ref:e=>this._menuItemQuickAccessDiv=e,className:m.menuItemQuickAccess,onScroll:this.handleScroll,style:{maxHeight:C}},s.a.createElement(g.a,babelHelpers.extends({},this.props,{liteVersion:!0,hasScrolled:this.state.hasScrolled,handleClickToScroll:this.handleClickToScroll,menuItemQuickAccessHeight:C,photoThemes:n,partnerBrand:r})))),s.a.createElement("li",{className:m.menuItem,ref:e=>this.footerElem1=e},s.a.createElement("a",{onClick:this.gotoSettings,title:t(M.moreSettings),href:this.context.getUrlFromRoute({name:p.Pc.SETTINGS,params:{settingsGroupId:p.ld.PERSONALIZE_INBOX}}),className:m.moreSettingsLink,"data-test-id":"more-settings"},s.a.createElement(y.b,{kind:I.b.MORE,size:I.d.XS,colorState:I.a.INHERITED}),s.a.createElement("span",{className:m.menuLabel},s.a.createElement(d.c,{id:"more_settings_link",defaultMessage:"More Settings"})))),o||!l||c?s.a.createElement("li",{className:m.menuItemFooter,ref:e=>this.footerElem2=e},l||c?null:this._renderOptOutItem(m,t),s.a.createElement("a",{target:"_blank",href:a,onClick:this._goToFeedbackPage,className:m.feedbackLink,title:t(M.giveFeedbackText),"data-test-id":"give-feedback"},s.a.createElement(y.b,{kind:I.b.FEEDBACK,size:I.d.XXS,colorState:I.a.INHERITED}),s.a.createElement("span",{className:m.menuLabel},t(M.giveFeedbackText))),c?this._renderMailProItem(m,t):null):null))}}D.contextTypes={intl:d.i.isRequired,executeAction:c.a.func,navigateTo:c.a.func,config:c.a.object,getUrlFromRoute:c.a.func.isRequired};const O=Object(N.a)(C.g.SETTINGS_POPUP);var k=Object(i.b)(void 0,e=>({giveFeedback:({event:t})=>e(Object(S.k)(O({event:t,mKey:C.e.SETTINGS_POPUP_FEEDBACK})))}))(D),R=a(9);function x(e){const{getFeaturesSelectors:t}=Object(R.b)(e),a=t();return{snippets:a.isEnabled(p.id.SNIPPETS),multiTaskModeSetting:a.isEnabled(p.id.MAIL_TABS),themeSetting:a.getSetting(p.id.THEME),themeModeSetting:a.getSetting(p.id.THEME_MODE),previewPaneSetting:a.getSetting(p.id.PREVIEW_PANE),msgListDensity:a.getSetting(p.id.MSG_LIST_DENSITY),theming:a.isEnabled("theming"),photoThemes:a.isEnabled(p.kb.PHOTO_THEMES),norrinOptOut:a.isEnabled("norrinOptOut"),optOutSurvey:a.isEnabled("optOutSurvey"),feedbackUrl:a.getSetting(p.id.FEEDBACK_URL),partnerBrand:a.getSetting(p.id.PARTNER_BRAND),showGiveFeedbackLink:a.isEnabled(p.kb.SHOW_GIVE_FEEDBACK_LINK),optOutLinkInMoreSettings:a.isEnabled(p.kb.SHOW_OPT_OUT_LINK_MORE_SETTINGS),mailProLinkInSettingsMenu:a.isEnabled(p.kb.MAIL_PRO_LINK_IN_SETTINGS_MENU),mailProEnabled:a.isEnabled(p.kb.MAIL_PRO)}}a.d(t,"mapStateToProps",function(){return x});t.default=Object(i.b)(x)(k)},function(e,t,a){"use strict";a.r(t);a(6);var n=a(2),s=a.n(n),i=a(4),r=a(26),o=a(972),l=a.n(o),c=a(11),d=a.n(c),m=a(16),_=(a(38),a(956)),u=a(14),h=a(30),p=a(21),g=a(3);const E=d()(l.a),b=Object(i.h)({button:{id:"information_cue.button",defaultMessage:"Got it"},infoNewCallout:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class C extends s.a.Component{constructor(...e){var t;return t=super(...e),this.onClose=(e=>{this.props.onClose({i13nModel:{interactionType:Object(u.i)(e)}})}),t}componentDidMount(){this.refs.informationCueContent&&window.setTimeout(()=>{Object(r.findDOMNode)(this.refs.informationCueContent).focus()},0)}render(){const{formatMessage:e}=this.context.intl;return s.a.createElement("div",{role:"navigation","aria-label":e(b.infoNewCallout)},s.a.createElement("div",{className:E.container,"data-test-id":this.props.cueName,role:"alert","aria-labelledby":"information-cue-heading","aria-describedby":"information-cue-desc",ref:"informationCueContent",tabIndex:"-1"},s.a.createElement("div",{className:E.header,id:"information-cue-heading"},s.a.createElement(i.c,this.props.headerText)),s.a.createElement("div",{className:E.body,id:"information-cue-desc"},s.a.createElement(i.c,this.props.bodyText)),s.a.createElement("div",{className:E.actionContainer},s.a.createElement(m.a,{onClick:this.onClose,title:e(b.button),"data-test-id":"information-cue-button",id:"information-cue-button",kind:h.a.PRIMARY,"aria-label":e(b.button),marginLess:!0},s.a.createElement(i.c,b.button)))),s.a.createElement("div",{className:E.close},s.a.createElement(p.a,{onClick:this.onClose,kind:g.b.CLOSE,size:g.d.XXS,colorState:g.a.IMPROVED_GRAY_DARK,title:e(b.close),"aria-label":e(b.close),"data-test-id":"close-cue-button"})))}}C.contextTypes={intl:i.i.isRequired};var f=Object(_.a)(C),v=a(0);a.d(t,"default",function(){return y});const I=Object(i.h)({header:{id:"search.cue_header",defaultMessage:"Quickly narrow your search results"},body:{id:"search.cue_body",defaultMessage:"Find messages, documents and photos sent from a specific contact using search filters."}});function y({onShow:e,close:t}){return s.a.createElement(f,{headerText:I.header,bodyText:I.body,cueName:v.kb.SEARCH_CUE,onShow:e,close:t})}},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(5),l=a(1);function c(e,{i13nModel:t}){e.dispatch(l.a.FEEDBACK_PANEL_GIVE_FEEDBACK,{i13nModel:t})}var d=a(1188),m=a.n(d),_=a(11),u=a.n(_),h=a(4),p=a(21),g=a(3);a.d(t,"FeedbackPanel",function(){return b});const E=Object(h.h)({feedback:{id:"feedback",defaultMessage:"Give feedback"},feedbackTitle:{id:"feedbackTitle",defaultMessage:"Provide Feedback about Beta"}});class b extends r.a.Component{constructor(...e){var t;return t=super(...e),this._onGiveFeedback=(()=>{this.context.executeAction(c,{i13nModel:{mKey:o.e.FEEDBACK_PANEL_GIVE_FEEDBACK,sec:o.g.FEEDBACK_PANEL}})}),this._openFeedbackLink=(e=>{e.preventDefault(),window.open(this.props.feedbackURL,"_blank")}),t}render(){const{formatMessage:e}=this.context.intl,t=u()(m.a);return r.a.createElement("div",{className:t.wrapper},r.a.createElement("div",{className:t.feedbackContainer,"data-test-id":"feedback-panel"},r.a.createElement("a",{className:t.feedbackLink,href:this.props.feedbackURL,onClick:this._openFeedbackLink,rel:"noopener"},r.a.createElement(p.a,{kind:g.b.FEEDBACK,size:g.d.XS,title:e(E.feedbackTitle),onClick:this._onGiveFeedback,"aria-label":e(E.feedback),colorState:g.a.INVERTED},r.a.createElement("span",{className:t.optionLabel},e(E.feedback))))))}}b.contextTypes={executeAction:s.a.func,intl:h.i.isRequired,config:s.a.object};t.default=b},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(265),l=a.n(o),c=a(4),d=a(11),m=a.n(d),_=a(1186),u=a.n(_),h=a(5),p=a(17),g=a(9),E=a(0),b=a(15),C=a(3),f=(a(8),a(38)),v=a(1187),I=a.n(v),y=a(21);const S=Object(c.h)({close:{id:"cue.close",defaultMessage:"Close"}});class N extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,close:!1},this._onMouseEnter=(()=>{this.setState({isHovered:!0})}),this._onMouseLeave=(()=>{this.setState({isHovered:!1})}),this._onClose=(e=>{e.stopPropagation();const{closeOnClick:t}=this.props;this.setState({close:!0},()=>t())}),this._onClick=(()=>{const{onClick:e,closeOnClick:t}=this.props;t?this.setState({close:!0},()=>e()):e()}),t}render(){const{_onClose:e,_onMouseEnter:t,_onMouseLeave:a,_onClick:n,state:{isHovered:s,close:i},props:{iconKind:o,iconSize:l,color:c,message:d,title:m,isParentHovered:_,dataTestId:u,animate:h,extraPadding:p,closeOnClick:g}}=this,{formatMessage:E}=this.context.intl,{mailBrandNameString:f}=this.context,v=this.context.getCss(I.a,{animate:h,color:c,isParentHovered:_,extraPadding:p,isHovered:s,close:i});return r.a.createElement("div",{className:v.panelContainer,onClick:n,onMouseEnter:t,onMouseLeave:a,"data-test-id":u,title:E(m,{mailBrandNameString:f}),"aria-label":E(d)},r.a.createElement(b.b,{kind:o,size:l,colorState:c}),r.a.createElement("span",{className:v.optionLabel},E(d)),g?r.a.createElement("div",{className:v.closeBtn},r.a.createElement(y.a,{onClick:e,kind:C.b.CLOSE,size:C.d.XXS,colorState:C.a.IMPROVED_GRAY_DARK,title:E(S.close),"aria-label":E(S.close),"data-test-id":"close-cue-button"})):null)}}N.contextTypes={intl:c.i.isRequired,getCss:s.a.func,mailBrandNameString:s.a.string},N.defaultProps={iconSize:C.d.XS,color:C.a.NORMAL,onClick:()=>{},isParentHovered:!1,dataTestId:"panel-item",animate:!1,extraPadding:!1};var T=N,A=a(365),M=a(338),D=a(13);a.d(t,"PanelStack",function(){return w}),a.d(t,"mapStateToProps",function(){return F}),a.d(t,"mapDispatchToProps",function(){return L});const O="#extInstall?partner=norrin",k=7,R="hpsetExt",x=Object(c.h)({timezone:{id:"timezonePanel",defaultMessage:"Update time zone"},timezoneTitle:{id:"timezonePanelTitle",defaultMessage:"Your computer's time zone does not appear to match your {mailBrandNameString} time zone preference."},homepageExtension:{id:"homepageExtension",defaultMessage:"Make Yahoo your homepage"}});function P(e){const t=e.find(e=>e.includes(R));if(t){const e=t.split(",");return l()(new Date,1e3*parseInt(e[1],10))>=k}return!0}class w extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={isHovered:!1,timezoneConflict:!1,showPanelItems:!1},this._onNavigateToSetting=(()=>{this.context.navigateTo({route:Object(p.s)({settingsGroupId:E.ld.VIEWING_EMAIL,accountId:this.props.accountId})})}),this._onNavigateToStoreURLs=(()=>{const{homepageExtStoreURL:e}=this.props;switch(this.props.hompageExtClicked({i13nModel:{mKey:h.e.HOMEPAGE_EXTENSION_CLICKED,sec:h.g.HOMEPAGE_EXT_PANEL}}),this.browserName){case"Firefox":window.location.href+=O,window.location.href=e;break;default:window.open(e,"_blank")}}),this._onHomepageExtClosed=(()=>{this.props.homepageExtClosed({i13nModel:{mKey:h.e.HOMEPAGE_EXTENSION_CLOSED,sec:h.g.FEEDBACK_PANEL},subKey:R})}),this._onGiveFeedback=(e=>{this.props.giveFeedback({i13nModel:{mKey:h.e.FEEDBACK_PANEL_GIVE_FEEDBACK,sec:h.g.FEEDBACK_PANEL}}),e.preventDefault(),window.open(this.props.feedbackURL,"_blank")}),t}componentDidMount(){const{showHPExt:e}=this.props,{name:t}=this.context.timezone,a=Object(A.e)(t);e&&this.props.hompageExtClicked({i13nModel:{mKey:h.e.HOMEPAGE_EXTENSION_SHOWN,sec:h.g.HOMEPAGE_EXT_PANEL}}),this.browserName=window.AppBootstrapData.browserName,a&&this.setState({timezoneConflict:a}),this.setState({showPanelItems:!0})}render(){const{showHPExt:e}=this.props;if(!this.state.showPanelItems)return null;const t=m()(u.a),a=[];return this.state.timezoneConflict&&a.push({iconKind:C.b.CLOCK,color:C.a.ADVISORY,onClick:this._onNavigateToSetting,isParentHovered:this.state.isHovered,message:x.timezone,title:x.timezoneTitle,dataTestId:"timezone-panel"}),e&&a.push({iconKind:C.b.HOME,color:C.a.YBADGE,onClick:this._onNavigateToStoreURLs,isParentHovered:this.state.isHovered,extraPadding:!0,closeOnClick:this._onHomepageExtClosed,message:x.homepageExtension,title:x.homepageExtension,dataTestId:"homepage-extension-panel"}),r.a.createElement("div",{className:t.wrapper,"data-test-id":"panel-stack"},r.a.createElement("div",{"data-test-id":"panel-stack-items",onMouseEnter:()=>this.setState({isHovered:!0}),onMouseLeave:()=>this.setState({isHovered:!1})},a.map((e,t)=>r.a.createElement(T,babelHelpers.extends({},e,{key:t})))))}}w.contextTypes={navigateTo:s.a.func,timezone:f.e};const F=e=>{const{isFeatureEnabled:t,getSetting:a}=Object(g.b)(e),n=a(E.id.SUPPRESSED_UPSELLS),s=t(E.kb.HP_EXT_INSTALLED);return{homepageExtStoreURL:a(E.id.HP_EXT_STORE_URL),showHPExt:!s&&P(n)}},L=e=>({giveFeedback:t=>e(Object(M.a)(t)),hompageExtClicked:t=>e(Object(M.c)(t)),homepageExtClosed:t=>e(Object(M.b)(t))});t.default=Object(D.b)(F,L)(w)},function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=a(6),r=a.n(i),o=a(13),l=a(4),c=a(9),d=a(1078),m=a.n(d),_=a(322),u=a(372),h=a(5),p=a(16),g=a(1079),E=a.n(g),b=a(21),C=a(3),f=a(30),v=a(10),I=a(137),y=a(56);const S=Object(l.h)({confirm:{id:"unsubscribe_confirm.unsubscribe",defaultMessage:"Unsubscribe"},cancel:{id:"unsubscribe_confirm.cancel",defaultMessage:"Cancel"},ok:{id:"unsubscribe_confirm.ok",defaultMessage:"OK"},close:{id:"unsubscribe_confirm.close",defaultMessage:"close"},explanation:{id:"unsubscribe_confirm.explanation",defaultMessage:"We will send an unsubscribe request to this sender. You may continue to receive emails from this sender until they remove you from the list."}});class N extends s.a.Component{constructor(){super(),this.handleConfirm=this.handleConfirm.bind(this)}handleConfirm(e){e.stopPropagation(),e.preventDefault(),this.props.onConfirm(),this.props.onClose()}renderMainContent(e){const{unsubscribed:t,fromAddress:a,onClose:n}=this.props,{formatMessage:i}=this.context.intl;return void 0===t?s.a.createElement("div",{className:e.loadingIndicator},s.a.createElement(y.b,null)):t?s.a.createElement("div",{className:e.mainContent,"data-test-id":"unsubscribe-popup-confirm"},s.a.createElement("span",{"data-test-id":"unsubscribe-popup-unsubscribed",className:e.text},s.a.createElement(l.c,{id:"unsubscribe_confirm.unsubscribed",defaultMessage:"You have already unsubscribed from {email}.",values:{email:s.a.createElement("span",{style:{fontWeight:v.BOLD}},a)}})),s.a.createElement("div",{className:e.bottom},s.a.createElement(p.a,{onClick:n,marginLess:!0,"arial-label":i(S.confirm),title:i(S.confirm),"data-test-id":"unsubscribe-popup-confirm-btn",style:{padding:`${1.5*v.GRID_UNIT}px ${5*v.GRID_UNIT}px`}},s.a.createElement("div",{className:e.buttonText},i(S.ok))))):s.a.createElement("div",{className:e.mainContent,"data-test-id":"unsubscribe-popup-confirm"},s.a.createElement("div",null,s.a.createElement("div",{className:e.text},s.a.createElement(l.c,{id:"unsubscribe_confirm.text",defaultMessage:"Unsubscribe from {email}?",values:{email:s.a.createElement("span",{style:{fontWeight:v.BOLD}},a)}})),s.a.createElement("div",{className:e.explanation},i(S.explanation))),s.a.createElement("div",{className:e.bottom},s.a.createElement(p.a,{onClick:this.handleConfirm,marginLess:!0,"arial-label":i(S.confirm),title:i(S.confirm),"data-test-id":"unsubscribe-popup-confirm-btn",style:{padding:`${1.5*v.GRID_UNIT}px ${5*v.GRID_UNIT}px`}},s.a.createElement("div",{className:e.buttonText},i(S.confirm))),s.a.createElement(p.a,{className:e.cancel,onClick:n,kind:f.a.SECONDARY_BORDERLESS,"arial-label":i(S.cancel),title:i(S.cancel),"data-test-id":"unsubscribe-popup-cancel-btn"},s.a.createElement("div",{className:e.buttonText},i(S.cancel)))))}render(){const{onClose:e}=this.props,{getCss:t}=this.context,a=t(E.a),{formatMessage:n}=this.context.intl;return s.a.createElement(I.a,{onClose:e},s.a.createElement("div",{className:a.container,"data-test-id":"unsubscribe-popup"},this.renderMainContent(a),s.a.createElement("div",{className:a.close},s.a.createElement(b.a,{kind:C.b.CLOSE,size:C.d.XS,onClick:e,title:n(S.close),"data-test-id":"unsubscribe-popup-close-btn"}))))}}N.contextTypes={getCss:r.a.func,intl:l.i.isRequired};var T=Object(o.b)((e,t)=>{const{message:a={}}=t,{getMessagesSelectors:n}=Object(c.b)(e);return{unsubscribed:(n().getUnsubOption(a.id)||{}).unsubscribed}})(N),A=(a(38),a(164));a.d(t,"UnsubscribeButton",function(){return D}),a.d(t,"mapStateToProps",function(){return O}),a.d(t,"mapDispatchToProps",function(){return k});const M=Object(l.h)({label:{id:"unsubscribe_button.unsubscribe",defaultMessage:"Unsubscribe"},subject:{id:"unsubscribe_button.subject",defaultMessage:"Unsubscribe"},body:{id:"unsubscribe_button.body",defaultMessage:"Please unsubscribe and remove me from this email list immediately."}});class D extends s.a.Component{constructor(){super(),this.handleMailtoUnsubscribe=this.handleMailtoUnsubscribe.bind(this),this.handleAnchorClick=this.handleAnchorClick.bind(this)}handleMailtoUnsubscribe(){const{message:e,unsubOption:t}=this.props,{formatMessage:a}=this.context.intl,{mailTo:n}=t,s=u.a(n.trim()),i=s.to.map(function(e){return{email:e}});this.props.sendUnsubscribeMail({toAddresses:i,subject:s.subject||a(M.subject),body:s.body||a(M.body),i13nModel:{mKey:h.e.UNSUB_MAILTO_SEND,sec:h.g.UNSUB_PANE},unsubFromMessage:e})}handleAnchorClick(){const{unsubOption:e,message:t}=this.props,{formatMessage:a}=this.context.intl,n=this.renderPopup();if(e.mailTo&&void 0===e.unsubscribed){const n=u.a(e.mailTo.trim()),s=n.subject?`"${n.subject}"`:a(M.subject);this.props.checkUnsubMail({mailTo:n.to,subject:s,messageId:t.id})}Object(A.a)(n,this.context)}renderPopup(){const{message:e}=this.props;return s.a.createElement(T,{onConfirm:this.handleMailtoUnsubscribe,onClose:()=>{},fromAddress:e.headers.from[0].email,message:e})}render(){const{unsubOption:e,unsubscribeEnabled:t,cardExpanded:a}=this.props,{getCss:n,intl:i}=this.context,r=n(m.a,{cardExpanded:a}),o=i.formatMessage(M.label);return e.mailTo&&t?s.a.createElement("span",{className:r.container},s.a.createElement("a",{className:r.button,onClick:this.handleAnchorClick,"aria-label":o,title:o,"data-test-id":"unsubscribe-button"},o)):null}}D.contextTypes={getCss:r.a.func,intl:l.i,store:r.a.object.isRequired,executeAction:r.a.func,getStore:r.a.func};const O=(e,t)=>{const{message:a}=t,{getFeaturesSelectors:n,getMessagesSelectors:s}=Object(c.b)(e),i=n().isEnabled("unsubscribeFromMessage");return{unsubOption:s().getUnsubOption(a.id)||{},unsubscribeEnabled:i}},k=e=>({sendUnsubscribeMail:t=>e(Object(_.g)(t)),checkUnsubMail:t=>e(Object(_.a)(t))});t.default=Object(o.b)(O,k)(D)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(32),c=a(4),d=a(449),m=a.n(d),_=a(11),u=a.n(_),h=a(86),p=a(62),g=a(66),E=a(90),b=a(5),C=a(0),f=a(14),v=a(9),I=a(164),y=a(1015),S=a(15),N=a(3),T=Object(c.h)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},blockSenders:{id:"block_messages_from_senders",defaultMessage:"Block senders"},viewRawMessage:{id:"view_raw_message_title",defaultMessage:"View raw message"},markedAsRead:{id:"marked_as_read",defaultMessage:"Message is already marked as read"},markedAsUnread:{id:"marked_as_unread",defaultMessage:"Message is already marked as unread"},markedAsStarred:{id:"marked_as_starred",defaultMessage:"Message is already marked as starred"},markedAsUnstarred:{id:"marked_as_unstarred",defaultMessage:"Message is already marked as not starred"},disableBlockSenders:{id:"disable_block_messages_from_senders",defaultMessage:"You may have reached the 1000 limit or the sender cannot be blocked"},disableViewRawMessage:{id:"disable_view_raw_message",defaultMessage:"raw message is not available"},printMessage:{id:"print_message_title",defaultMessage:"Print message"}}),A=a(79);a.d(t,"MoreMenuItems",function(){return k}),a.d(t,"mapStateToProps",function(){return R}),a.d(t,"mapDispatchToProps",function(){return x});const M=u()(m.a),D={[g.j]:E.e,[g.n]:E.h,[g.g]:E.c,[g.m]:E.g},O=()=>{};class k extends r.a.Component{constructor(...e){var t;return t=super(...e),this._executeAction=(({action:e,stream:t={},i13nModel:a})=>{const n=D[e],{selectedGroupIds:s,doSelectAll:i,listId:r,allItemsCount:o,conversations:l}=this.props;n&&i&&(e=n),this.context.executeAction(e,babelHelpers.extends({listId:r},t,{allItemsCount:o,conversations:l,messageGroupIds:s,i13nModel:Object.assign({sec:b.g.MSG_LIST_BULK_ACTION},a)}))}),this.handleGroupRead=(e=>{const{streamId:t,streamItem:a}=this.props;e.preventDefault(),this._executeAction({action:g.j,stream:{streamId:t,streamItem:a},i13nModel:{mKey:b.e.TOOLBAR_MARK_READ,interactionType:Object(f.i)(e),mKeyGroup:b.f.mark_read}})}),this.handleGroupUnread=(e=>{const{streamId:t,streamItem:a}=this.props;e.preventDefault(),this._executeAction({action:g.n,stream:{streamId:t,streamItem:a},i13nModel:{mKey:b.e.TOOLBAR_MARK_UNREAD,interactionType:Object(f.i)(e),mKeyGroup:b.f.mark_unread}})}),this.handleGroupStarred=(e=>{const{streamId:t,streamItem:a}=this.props;e.preventDefault(),this._executeAction({action:g.g,stream:{streamId:t,streamItem:a},i13nModel:{mKey:b.e.TOOLBAR_MARK_STARRED,interactionType:Object(f.i)(e),mKeyGroup:b.f.mark_star}})}),this.handleGroupUnstarred=(e=>{const{streamId:t,streamItem:a}=this.props;e.preventDefault(),this._executeAction({action:g.m,stream:{streamId:t,streamItem:a},i13nModel:{mKey:b.e.TOOLBAR_MARK_UNSTARRED,interactionType:Object(f.i)(e),mKeyGroup:b.f.mark_unstar}})}),this.handleGroupBlockSenders=(()=>{Object(I.a)(r.a.createElement(y.a,{messageGroupIds:this.props.selectedGroupIds,listId:this.props.listId}),this.context)}),this.handlePrint=(e=>{e.preventDefault(),this._executeAction({action:g.r,i13nModel:{mKey:b.e.TOOLBAR_PRINT,interactionType:Object(f.i)(e)}})}),this.handleRawMessage=(e=>{e.preventDefault(),this._executeAction({action:g.w,i13nModel:{mKey:b.e.TOOLBAR_VIEW_RAW,interactionType:Object(f.i)(e)}})}),this.handleKeydown=((e,t)=>{/^( |Enter)$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e(t))}),this.renderHint=(e=>{const{formatMessage:t}=this.context.intl,a=u()(m.a);return r.a.createElement("span",{className:a.hint,title:t(e)},r.a.createElement(S.b,{kind:N.b.CAL_MAYBE,size:N.d.XXS,colorState:N.a.INHERITED}))}),t}componentDidMount(){this.props.blockedSendersApiStatus!==C.Mc.LOADED&&this.props.fetchBlockedSenders()}render(){const{blockSenders:e,enableMarkAsRead:t,enableMarkAsUnread:a,enableStar:n,enableUnstar:s,enableBlockSenders:i,enableViewRawMessage:o,enablePrintMessage:d,messageIds:_}=this.props,{formatMessage:g}=this.context.intl;return r.a.createElement("div",{"data-test-id":"more-menu-list-container",className:M.popoverContent},r.a.createElement(p.a,{kind:h.a.MENU,focusOnMount:!0,"data-test-id":"more-menu",key:"more-menu",circularNavigation:!1},r.a.createElement(l.a,{name:"mark-as-read","data-test-id":"mark-as-read",title:g(T.markAsRead)},r.a.createElement("a",{tabIndex:-1,onClick:t?this.handleGroupRead:O,onKeyDown:this.handleKeydown.bind(this,this.handleGroupRead),className:u()(m.a,{disabled:!t}).button},r.a.createElement("span",{className:M.label},r.a.createElement(c.c,{id:"mark_msgs_as_read",defaultMessage:"Mark as read"}),t?null:this.renderHint(T.markedAsRead)),r.a.createElement("span",null,"Shift+K"))),r.a.createElement(l.a,{name:"mark-as-unread","data-test-id":"mark-as-unread",title:g(T.markAsUnread)},r.a.createElement("a",{tabIndex:-1,onClick:a?this.handleGroupUnread:O,onKeyDown:this.handleKeydown.bind(this,this.handleGroupUnread),className:u()(m.a,{disabled:!a}).button},r.a.createElement("span",{className:M.label},r.a.createElement(c.c,{id:"mark_msgs_as_unread",defaultMessage:"Mark as unread"}),a?null:this.renderHint(T.markedAsUnread)),r.a.createElement("span",null,"K"))),r.a.createElement(l.a,{name:"mark-as-starred","data-test-id":"mark-as-starred",title:g(T.markAsStarred)},r.a.createElement("a",{tabIndex:-1,onClick:n?this.handleGroupStarred:O,onKeyDown:this.handleKeydown.bind(this,this.handleGroupStarred),className:u()(m.a,{disabled:!n}).button},r.a.createElement("span",{className:M.label},r.a.createElement(c.c,{id:"mark_msgs_as_starred",defaultMessage:"Star"}),n?null:this.renderHint(T.markedAsStarred)),r.a.createElement("span",null,"L"))),r.a.createElement(l.a,{name:"mark-as-unstarred","data-test-id":"mark-as-unstarred",title:g(T.markAsUnstarred)},r.a.createElement("a",{tabIndex:-1,onClick:s?this.handleGroupUnstarred:O,onKeyDown:this.handleKeydown.bind(this,this.handleGroupUnstarred),className:u()(m.a,{disabled:!s}).button},r.a.createElement("span",{className:M.label},r.a.createElement(c.c,{id:"mark_msgs_as_unstarred",defaultMessage:"Clear star"}),s?null:this.renderHint(T.markedAsUnstarred)),r.a.createElement("span",null,"Shift+L"))),e?r.a.createElement(l.a,{name:"block-senders","data-test-id":"block-senders",title:g(T.blockSenders)},r.a.createElement("a",{tabIndex:-1,onClick:i?this.handleGroupBlockSenders:O,onKeyDown:this.handleKeydown.bind(this,this.handleGroupBlockSenders),className:u()(m.a,{disabled:!i}).button},r.a.createElement("span",{className:M.label},r.a.createElement(c.c,{id:"block_senders",defaultMessage:"Block senders"}),i?null:this.renderHint(T.disableBlockSenders)))):null,r.a.createElement(l.a,{className:M.separator}),r.a.createElement(l.a,{name:"raw-message","data-test-id":"raw-message",title:g(T.viewRawMessage)},r.a.createElement("a",{tabIndex:-1,onClick:o?this.handleRawMessage:O,onKeyDown:this.handleKeydown.bind(this,this.handleRawMessage),className:u()(m.a,{disabled:!o}).button},r.a.createElement("span",{className:M.label},r.a.createElement(c.c,{id:"view_raw_message",defaultMessage:"View raw message"}),o?null:this.renderHint(T.disableViewRawMessage)))),r.a.createElement(l.a,{name:"print-message","data-test-id":"print-message",title:g(T.printMessage)},r.a.createElement("a",{tabIndex:-1,onClick:d?this.handlePrint:O,onKeyDown:this.handleKeydown.bind(this,this.handlePrint),className:u()(m.a,{disabled:!d}).button},r.a.createElement("span",{className:M.label},r.a.createElement(c.c,_.length>1?{id:"print_message_newest",defaultMessage:"Print newest"}:{id:"print_message_single",defaultMessage:"Print"})),r.a.createElement("span",null,"P")))))}}k.contextTypes={executeAction:s.a.func,intl:c.i.isRequired,store:s.a.object,getTheme:s.a.func,getStore:s.a.func},k.defaultProps={enableMarkAsRead:!0,enableMarkAsUnread:!0,enableStar:!0,enableUnstar:!0,enableBlockSenders:!1,enableViewRawMessage:!1,enablePrintMessage:!1};const R=(e,{selectedGroupIds:t,isDraftMessage:a})=>{const{getFeaturesSelectors:n,getMessageIdsFromMessageGroupId:s,getSenderEmailIdsFromMessageGroup:i,getSettingsSelectors:r,getMessageFlags:o}=Object(v.b)(e),l=i(t),c=n(),d=c.isEnabled(C.kb.BLOCK_SENDERS),m=c.getSetting(C.id.DELIVERY_BLOCKED_SENDERS),_=1===t.length?s(t[0]):[],{getBlockedSendersApiCallStatus:u}=r(),h=u(),p=l.length>0&&m.length<C.jd.blockedSenders&&h===C.Mc.LOADED;return{blockSenders:d,enableMarkAsRead:0===_.length||_.some(e=>!o(e).read),enableMarkAsUnread:0===_.length||_.some(e=>o(e).read),enableStar:0===_.length||_.some(e=>!o(e).flagged),enableUnstar:0===_.length||_.some(e=>o(e).flagged),enableBlockSenders:p,enableViewRawMessage:1===_.length&&!a,enablePrintMessage:1===t.length,messageIds:_}},x=e=>({fetchBlockedSenders:t=>e(Object(A.j)(t))});t.default=Object(o.b)(R,x)(k)},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(11),l=a.n(o),c=a(4),d=a(13),m=a(1);var _=a(16),u=a(30),h=a(3),p=a(362),g=a(15),E=a(21),b=a(961),C=a(60),f=a(0),v=a(5),I=a(10),y=a(9),S=a(1062),N=a.n(S);a.d(t,"ShopRunnerModal",function(){return x}),a.d(t,"mapStateToProps",function(){return P}),a.d(t,"mapDispatchToProps",function(){return w});const T=Object(C.a)("/img/logo_yahoo.png"),A=Object(C.a)("/img/srlogo.png"),M=Object(C.a)("/img/sr_truck_1x.png"),D=Object(C.a)("/img/10top_brands_logos.jpg"),O=Date.now(),k=`https://www.shoprunner.com/oidc/yahoo?yh_affjid=${O}`,R=Object(c.h)({privacypolicy:{id:"new_SR_user_onboarding_cue.themes_panel",defaultMessage:"By activating your account, you agree to ShopRunner's {terms} and {privacyPolicyText}."},privacyPolicyText:{id:"new_SR_user_onboarding_cue.privacyPolicyText",defaultMessage:"Privacy policy"},terms:{id:"new_SR_user_onboarding_cue.termsConditions",defaultMessage:"Terms"},primaryBtn:{id:"new_SR_user_onboarding_cue.primary_btn",defaultMessage:"Activate with {mailBrandNameString}"},notNow:{id:"new_SR_user_onboarding_cue.not_now_btn",defaultMessage:"Not now"},close:{id:"new_SR_user_onboarding_cue.close_icon",defaultMessage:"Close"}});class x extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryNow=(()=>{window.open(k,"_blank"),this.props.closeModal({i13nModel:{mKey:v.e.SHOPRUNNER_SUCCESS,sec:v.g.SHOPRUNNER,actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:f.ib.IC,featurename:f.kb.SHOPRUNNER,retailername:this.props.shopRunnerRetailer,origin:this.props.origin,yh_affjid:O}}}})}),this.onNotNow=(()=>{this.props.closeModal({i13nModel:{mKey:v.e.SHOPRUNNER_CLOSED,sec:v.g.SHOPRUNNER,actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:f.ib.IC,featurename:f.kb.SHOPRUNNER,retailername:this.props.shopRunnerRetailer,origin:this.props.origin}}}})}),this.onClose=(()=>{this.props.closeModal({i13nModel:{mKey:v.e.SHOPRUNNER_CLOSED,sec:v.g.SHOPRUNNER,actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:f.ib.IC,featurename:f.kb.SHOPRUNNER,retailername:this.props.shopRunnerRetailer,origin:this.props.origin}}}})}),this.handleOverlayClick=(e=>{e.preventDefault(),e.stopPropagation()}),t}render(){const e=this.context.mailBrandNameString,{formatMessage:t}=this.context.intl,{onClose:a}=this,{cueVariant:n}=this.props,s=l()(N.a,{srVariant2:"srVariant2"===n});return r.a.createElement(b.a,{onClose:this.handleOverlayClick,kind:p.a.DARK,ariaLabelledBy:"new-SR-user-onboarding"},r.a.createElement("div",{className:s.container,"data-test-id":"shoprunner-modal"},r.a.createElement("div",{className:s.close},r.a.createElement(E.a,{onClick:a,kind:h.b.CLOSE,size:h.d.XS,colorState:h.a.INVERTED,title:t(R.close),"aria-label":t(R.close),"data-test-id":"close-shoprunner-modal"})),r.a.createElement("div",{"data-test-id":"header",className:s.header},r.a.createElement("div",{className:s.images},r.a.createElement("img",{src:T,className:s.yahoologo,"data-test-id":"shoprunner-modal-yahoo-logo"}),r.a.createElement(g.b,{kind:h.b.ADD,size:h.d.XS,colorState:h.a.INVERTED,"data-test-id":"plus-cue-button"}),r.a.createElement("img",{src:A,className:s.srlogo,"data-test-id":"shoprunner-modal-srlogo"})),"srVariant2"===n&&r.a.createElement("div",{className:s.textv2},r.a.createElement("ul",{className:s.listv2},r.a.createElement("li",{className:s.list},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.text5",defaultMessage:"Free with {mailBrandNameString}",values:{mailBrandNameString:e}})),r.a.createElement("li",{className:s.list},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.text6",defaultMessage:"Free 2-day shipping",values:{mailBrandNameString:e}})))),r.a.createElement("div",{className:s.textImg},r.a.createElement("img",{src:M,className:s.truck,"data-test-id":"shoprunner-modal-truck"}),r.a.createElement("div",{className:s.text,"data-test-id":"shoprunner-modal-new-user-text"},r.a.createElement("ul",null,"srVariant1"===n&&r.a.createElement("li",{className:s.list},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.text1",defaultMessage:"Free with {mailBrandNameString}",values:{mailBrandNameString:e}})),"srVariant1"===n&&r.a.createElement("li",{className:s.list},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.text2",defaultMessage:"Free 2-day shipping"})),r.a.createElement("li",{className:s.list},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.text3",defaultMessage:"Exclusive deals"})),r.a.createElement("li",{className:s.list},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.text4",defaultMessage:"Free returns"})),"srVariant2"===n&&r.a.createElement("li",{className:s.list},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.text8",defaultMessage:"No credit card needed to activate"})))))),r.a.createElement("div",{className:s.heading,id:"new-SR-user-onboarding-title","data-test-id":"shoprunner-modal-new-user-title"},r.a.createElement(c.c,{id:"new_SR_user_onboarding_cue.header_text",defaultMessage:"100+ participating stores"})),r.a.createElement("img",{src:D,className:s.toplogo,"data-test-id":"shoprunner-modal-brands-logo"}),r.a.createElement("div",{className:s.panelText,"data-test-id":"shoprunner-modal-policy-text"},r.a.createElement(c.c,babelHelpers.extends({},R.privacypolicy,{values:{terms:r.a.createElement("a",{style:{textDecoration:"underline"},href:f.Gd,target:"_blank",className:s.panelText},r.a.createElement(c.c,R.terms)),privacyPolicyText:r.a.createElement("a",{style:{textDecoration:"underline"},href:f.wc,target:"_blank",className:s.panelText},r.a.createElement(c.c,R.privacyPolicyText))}}))),r.a.createElement("div",{style:{height:`${9*I.GRID_UNIT}px`}},r.a.createElement(_.a,{style:{height:`${9*I.GRID_UNIT}px`,width:`${55*I.GRID_UNIT}px`,fontSize:I.BASE_FONT_SIZE,fontWeight:I.BOLD},onClick:this.onTryNow,title:t(R.primaryBtn,{mailBrandNameString:e}),"data-test-id":"primary-modal-button",kind:u.a.PRIMARY,"aria-label":t(R.primaryBtn,{mailBrandNameString:e})},r.a.createElement(c.c,babelHelpers.extends({},R.primaryBtn,{values:{mailBrandNameString:e}}))),r.a.createElement("div",{className:s.notNowBtn,"data-test-id":"not-now-modal-button",onClick:this.onNotNow,role:"button"},r.a.createElement(c.c,R.notNow)))))}}x.contextTypes={intl:c.i,mailBrandNameString:s.a.string};const P=e=>{const{getSetting:t}=Object(y.b)(e);return{cueVariant:t(f.id.MSG_READ_SHOPRUNNER_VARIANT)}},w=e=>({closeModal:t=>e(((e={})=>({type:m.a.LINK_SR_MODAL_CLOSED,i13nModel:e.i13nModel}))(t))});t.default=Object(d.b)(P,w)(x)},function(e,t,a){"use strict";a.r(t);a(6);var n=a(2),s=a.n(n),i=a(4),r=a(972),o=a.n(r),l=a(11),c=a.n(l),d=a(16),m=(a(38),a(956)),_=a(14),u=a(30),h=a(21),p=a(3);const g=c()(o.a),E=Object(i.h)({tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"},mayBeLater:{id:"feature_cue.btn_maybe_later",defaultMessage:"Maybe later"},close:{id:"cue.close",defaultMessage:"Close"}});class b extends s.a.Component{constructor(...e){var t;return t=super(...e),this.onTryNow=(e=>{e.stopPropagation(),this.props.onTryNow(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(_.i)(e)}})}),this.onMayBeLater=(e=>{this.props.onMayBeLater(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(_.i)(e)}})}),t}render(){const{formatMessage:e}=this.context.intl;return s.a.createElement("div",{className:g.imageCueContainer,"data-test-id":this.props.cueName},s.a.createElement("div",{className:g.imageCueInfoImageContainer},s.a.createElement("div",{className:g.imageCueInfoContainer},s.a.createElement("div",{className:g.header,"aria-label":e(this.props.headerText)},s.a.createElement(i.c,this.props.headerText)),s.a.createElement("div",{className:g.body,"aria-label":e(this.props.bodyText)},s.a.createElement(i.c,this.props.bodyText))),s.a.createElement("img",{src:this.props.imgUrl,className:g.image})),s.a.createElement("div",{className:g.imageActionContainer},s.a.createElement(d.a,{style:{width:"60%"},onClick:this.onTryNow,title:e(E.tryNow),"data-test-id":"try-now-cue-button",kind:u.a.CUE,"aria-label":e(E.tryNow)},s.a.createElement(i.c,E.tryNow)),s.a.createElement(d.a,{style:{width:"40%"},onClick:this.onMayBeLater,title:e(E.mayBeLater),"data-test-id":"maybe-later-cue-button",kind:u.a.CHROMELESS,"aria-label":e(E.mayBeLater)},s.a.createElement(i.c,E.mayBeLater))),s.a.createElement("div",{className:g.close},s.a.createElement(h.a,{onClick:this.onMayBeLater,kind:p.b.CLOSE,size:p.d.XXS,colorState:p.a.IMPROVED_GRAY_DARK,title:e(E.close),"aria-label":e(E.close),"data-test-id":"close-cue-button"})))}}b.contextTypes={intl:i.i.isRequired};var C=Object(m.a)(b),f=a(60);const v=Object(f.a)("/img/emoji_cue_bg.png"),I=Object(i.h)({header:{id:"emoji.cue_header",defaultMessage:"Easier than words"},body:{id:"emoji.cue_body",defaultMessage:"Express your every emotion with our new emojis"}});t.default=class extends s.a.Component{render(){return s.a.createElement(C,{headerText:I.header,bodyText:I.body,onTryNow:this.props.onTryNow,onMayBeLater:this.props.onMayBeLater,cueName:this.props.cueName,imgUrl:v})}}},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(972),c=a.n(l),d=a(11),m=a.n(d),_=a(16),u=(a(38),a(956)),h=a(14),p=a(30),g=a(15),E=a(3),b=a(231),C=a(21);const f=Object(o.h)({mayBeLaterButtonText:{id:"mayBeLater.buttonText",defaultMessage:"Got it"},close:{id:"cue.close",defaultMessage:"Close"}});class v extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(e=>{e.stopPropagation(),this.props.onTryButton(e),this.props.onSuccess({i13nModel:{interactionType:Object(h.i)(e)}})}),this.onMayBeLater=(e=>{this.props.onClose({i13nModel:{interactionType:Object(h.i)(e)},userResponse:this.props.userResponse?this.props.userResponse:null})}),t}render(){const{formatMessage:e}=this.context.intl,{fujiIconKind:t,fujiIconSize:a,svgImageKind:n,pngImageUrl:s}=this.props,i=m()(c.a,{svgStyleImage:void 0!==(t||n||s),svgStyleWithoutImage:void 0===t});return r.a.createElement("div",{className:i.hotspotContainer,"data-test-id":this.props.cueName},r.a.createElement("div",{className:i.svgStyle},n?r.a.createElement(b.a,{kind:n,width:72,height:72}):"",s?r.a.createElement("img",{src:s}):null,t&&a&&void 0===n?r.a.createElement(g.b,{kind:t,size:a,colorState:E.a.INVERTED}):""),r.a.createElement("div",{className:i.hostspotInfoWrapper},"object"==typeof this.props.headerText?r.a.createElement("div",{className:i.header,"aria-label":e(this.props.headerText)},r.a.createElement(o.c,this.props.headerText)):r.a.createElement("div",{className:i.header,"aria-label":this.props.headerText},this.props.headerText),r.a.createElement("div",{className:i.body,"aria-label":e(this.props.bodyText)},r.a.createElement(o.c,this.props.bodyText)),r.a.createElement("div",{className:i.actionContainer},r.a.createElement(_.a,{onClick:this.onTryButton,title:e(this.props.tryButtonText),"data-test-id":"try-cue-button",kind:p.a.PRIMARY,"aria-label":e(this.props.tryButtonText)},r.a.createElement(o.c,this.props.tryButtonText)),r.a.createElement(_.a,{onClick:this.onMayBeLater,title:e(this.props.mayBeLaterButtonText),"data-test-id":"maybe-later-cue-button",kind:p.a.CHROMELESS,"aria-label":e(this.props.mayBeLaterButtonText)},r.a.createElement(o.c,this.props.mayBeLaterButtonText))),r.a.createElement("div",{className:i.close},r.a.createElement(C.a,{onClick:this.onMayBeLater,kind:E.b.CLOSE,size:E.d.XXS,colorState:E.a.IMPROVED_GRAY_DARK,title:e(f.close),"aria-label":e(f.close),"data-test-id":"close-cue-button"}))))}}v.contextTypes={intl:o.i.isRequired},v.defaultProps={mayBeLaterButtonText:f.mayBeLaterButtonText};var I=Object(u.a)(v),y=a(0),S=a(17),N=a(60);const T=Object(N.a)("/img/coupons_view_cue.png"),A=Object(o.h)({header:{id:"couponsview_cue.header",defaultMessage:"Never miss a deal"},body:{id:"couponsview_cue.body",defaultMessage:"Deals we find in your inbox will appear here. Opt into notifications to be alerted when deals are about to expire"},primary_button:{id:"couponsview_cue.primary_button",defaultMessage:"Try Deals view"}});class M extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{this.context.navigateTo({route:Object(S.t)(y.td.COUPONS),name:this.props.cueName})}),t}render(){return r.a.createElement(I,{bodyText:A.body,cueName:this.props.cueName,headerText:A.header,onTryButton:this.onTryButton,tryButtonText:A.primary_button,pngImageUrl:T})}}M.contextTypes={navigateTo:s.a.func};t.default=M},function(e,t,a){"use strict";a.d(t,"a",function(){return _});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(103),l=a(5),c=a(35),d=a.n(c),m=a(13);function _(e,t,a=!0){const n=e.displayName||e.name;function i(){r.a.Component.apply(this,arguments)}Object.assign(i.prototype,r.a.Component.prototype),i.displayName="featureCueConnector("+n+")",i.contextTypes=t,i.propTypes={cueName:s.a.string.isRequired,onShow:s.a.func,close:s.a.bool,onClick:s.a.func,closeFeatureCue:s.a.func,markFeatureAsShown:s.a.func,computeActionData:s.a.func},i.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({})},Object.assign(i.prototype,{componentDidMount(){const{cueName:e,computeActionData:t,markFeatureAsShown:a,onShow:n}=this.props,s={sec:l.g.FEATURE_CUE,mKey:"cue_"+e+"_invoke"};s.actionData=t(s.mKey),a({name:e,i13nModel:s}),setTimeout(()=>n(),0)},handleCloseFeatureCue(e,t){const a=Object.assign({sec:l.g.FEATURE_CUE,mKey:`cue_${this.props.cueName}_${e}`},t.i13nModel),{userResponse:n}=t,s={name:this.props.cueName,i13nModel:a,userAction:e};n&&(s.userResponse=n),this.props.closeFeatureCue(s)},componentWillReceiveProps(e){e.close&&this.handleCloseFeatureCue("close",{i13nModel:{mKey:"cue_"+this.props.cueName+"_success",interactionType:l.d.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,a=d()(this.props,["onShow","onClose"]);return r.a.createElement(e,babelHelpers.extends({},a,t,{onClose:this.handleCloseFeatureCue.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseFeatureCue.bind(this,"click")}))}});return a?Object(m.b)(null,e=>({closeFeatureCue:t=>e(Object(o.a)(t)),markFeatureAsShown:t=>e(Object(o.g)(t))}),null,{withRef:!0})(i):i}},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(4),r=a(46),o=a(982),l=a(0);const c=Object(i.h)({expiresToday:{id:"expiration_message.expires_today",defaultMessage:"Expires today"},expiresTomorrow:{id:"expiration_message.expires_tomorrow",defaultMessage:"Expires tomorrow"},expiresThisWeek:{id:"expiration_message.expires_this_week",defaultMessage:"Expires on {day}"},expiresOnADate:{id:"expiration_message.expires_on_a_date",defaultMessage:"Expires: {date}"},expiresInNDays:{id:"expiration_message.expires_in_n_days",defaultMessage:"Expires in {numDays} days"},expiringSoon:{id:"expiration_message.expiring_soon",defaultMessage:"Expiring soon"}});class d extends s.a.Component{render(){const{formatMessage:e}=this.context.intl,{daysUntilExpiry:t,type:a,isInferred:n}=this.props;let i=null;if(n)i=e(c.expiringSoon);else if(0===t)i=e(c.expiresToday);else if(1===t)i=e(c.expiresTomorrow);else if(t>1&&t<7){const a=Object(r.u)(Object(r.i)(),t);i=e(c.expiresThisWeek,{day:e(o.b[`day_${a}`])})}else{if(!(t>=7))return null;{const n=Object(r.l)(t);i=a===l.Db.OFFER_CARDS?e(c.expiresOnADate,{date:n}):e(c.expiresInNDays,{numDays:t})}}return s.a.createElement("div",{"data-test-id":"days_left_message"},i)}}d.contextTypes={intl:i.i.isRequired},t.a=d},function(e,t,a){"use strict";e.exports={className:{default:{paneContainer:"I_52qC b_Z14vXdP k_w o_A P_6LEV",inputWrapper:"D_F ab_C U_6Eb4",selectFieldContainer:"em_N W_0 H_6D6F C_Z281SGl A_6EqO",inputLabel:"ej_djH em_0 en_0 A_6EqO u_b C_Z281SGl",folderFieldText:"ev_nKj2Q u_1hszGB y_Z2uhb3X",accountContainerSelect:"em_N en_N ev_nKj2Q y_Z2uhb3X",accountHeaderContainer:"M_0 P_0 D_F",accountContainerButtonContainer:"D_F M_3gIgH ab_C gl_C",accountContainerAccountHeader:"W_3nF5b o_h G_e J_x ev_nKj2Q u_b",accountContainerFolderItem:"E_6Fd5 W_3rtg7 H_6VdP",accountContainerAllMail:"W_3nF5b X_6MGW o_h G_e J_x ev_nKj2Q u_b",inputField:"cn_ZmdUJf m_2w4l8N H_6VdP em_N A_6EqO C_Z281SGl ir3_0 m3_2fAfSG",pillsInputWrapper:"m_2w4l8N H_6VdP em_N"},pillsInputFocused:{pillsInputWrapper:"m_2fAfSG"}},_key:"GhEgI"}},function(e,t,a){"use strict";a.d(t,"d",function(){return d}),a.d(t,"b",function(){return m}),a.d(t,"c",function(){return _});var n=a(13),s=a(9),i=a(0),r=a(78),o=a(108),l=a(50),c=a(370);const d=(e,{onCouponClick:t})=>({clip:({cardMid:t,schemaId:a,i13nModel:n={},recommendations:s=!1})=>e(Object(o.b)({cardMid:t,schemaId:a,i13nModel:n,recommendations:s})),getParentGroupId:t=>e(Object(o.o)(t)),unclip:({cardMid:t,schemaId:a,i13nModel:n={}})=>e(Object(o.v)({cardMid:t,schemaId:a,i13nModel:n})),onCouponClick:t,couponRecommendationsOpened:({i13nModel:t,sectionId:a="",spaceId:n=0})=>e(babelHelpers.extends({},Object(o.g)(),{i13nModel:t,sectionId:a,spaceId:n})),couponRecommendationsClosed:({i13nModel:t,cardMid:a=""})=>e(babelHelpers.extends({},Object(o.f)(a),{i13nModel:t})),couponRecommendationsAdClicked:({i13nModel:t})=>e(babelHelpers.extends({},Object(o.e)(),{i13nModel:t})),couponRecommendationsViglinkClicked:t=>e(babelHelpers.extends({},Object(o.h)(),t)),viglinkClicked:t=>e(Object(l.C)(t))}),m=(e,{cmid:t=""})=>{const{getSetting:a,getCouponsSelectors:n,isFeatureEnabled:r}=Object(s.b)(e),{getCouponRecommendations:o}=n();return{theme:a(i.id.THEME),viglinkEnabled:r(i.kb.VIGLINK),hasRecommendations:!!o(t).length}};t.a=Object(n.b)((e,{schemaId:t="",cardMid:a="",listId:n=""})=>{const{getCouponsSelectors:r,isFeatureEnabled:o,getMessagesSelectors:l,getMainContentWidth:d}=Object(s.b)(e),{getCouponExpirationTime:m,getDealLink:_,getDescription:u,getFromAddress:h,isClipped:p,getCardConversationId:g,getImageUrl:E}=r(),{getParentMessageIdForCardConversationId:b,getParentConversationIdForCardConversationId:C}=l(),f=o(i.kb.CONVERSATIONS)?C:b,v=o(i.kb.VIGLINK),{name:I="",email:y=""}=h(t),S=p(t),N=u(t),{dateDiff:T,isInferred:A}=m(t,new Date),M=_(t),D=g(t);return{fromEmail:y,fromName:I,clipped:S,description:N,daysUntilExpiry:T,isInferredDate:A,schemaId:t,cardMid:a,cardConversationId:D,listId:n,groupId:f(D),dealLink:M,viglinkEnabled:v,imageUrl:E(t),isWideView:d()>c.a}},d);const _=(e,{parentMessageId:t="",cardMid:a=""})=>{const{getCouponsSelectors:n,getMessageFolderId:o,getAccountIdByFolderId:l,getFeaturesSelectors:c,getAdsSelectors:d}=Object(s.b)(e),{isEnabled:m,getSetting:_}=c(),u=m(i.kb.COUPON_REC_WITH_ADS),h=m(i.kb.COUPON_REC_WITH_TOP_ADS),p=m(i.kb.COUPON_REC_VENDOR),g=u||p,{getCouponRecommendations:E,getCouponCardFromCardId:b,isSingleCouponParentMessageId:C}=n(),f=_(i.id.GEMINI_SECTION_IDS)[i.tb.COUPON_REC],v=o(t),I=l(v);let y=E(a).map(e=>b(e)).map(e=>{let{dealLink:t}=e,a=babelHelpers.objectWithoutProperties(e,["dealLink"]);return babelHelpers.extends({dealLink:Object(r.c)(t,i.C)},a)});if(u){let e=-1,t={};if(y.length>2&&h?e=0:3===y.length?e=3:y.length>3&&(e=2),e>=0){const{getPencilAdData:a}=d(),n=m(i.kb.COUPON_REC_WITH_BOLD_ADS),s=_(i.id.ABOUT_AD_URL);t=a(f),y=y.slice(0,e).concat(babelHelpers.extends({},t,{isAd:!0,isBold:n,aboutAdUrl:s})).concat(y.slice(e))}}return{couponRecommendations:y,accountId:I,folderId:v,isSingleCouponParentMessage:C(t),vendorIcon:g}}},function(e,t,a){"use strict";a.d(t,"a",function(){return s});var n=a(60);function s(e,t){e.target.onerror=null,e.target.src=Object(n.a)(t)}},function(e,t,a){"use strict";var n=a(2),s=a.n(n),i=a(137);const r="header, #app > div",o="#modal-outer";function l(e){const t=document.querySelectorAll(r);for(let a=0;a<t.length;a++)t[a].querySelector(o)||(e?t[a].setAttribute("aria-hidden",e):t[a].removeAttribute("aria-hidden"))}t.a=class extends s.a.Component{componentDidMount(){l(!0)}componentWillUnmount(){l(!1)}render(){return s.a.createElement(i.a,this.props)}}},function(e,t,a){"use strict";a.d(t,"j",function(){return r}),a.d(t,"h",function(){return o}),a.d(t,"e",function(){return l}),a.d(t,"g",function(){return c}),a.d(t,"c",function(){return d}),a.d(t,"b",function(){return m}),a.d(t,"f",function(){return _}),a.d(t,"d",function(){return u}),a.d(t,"i",function(){return h}),a.d(t,"a",function(){return p});var n=a(139),s=a(965),i=a(46);const r=e=>{const{emailIds:t,name:a}=e;return{name:a,emailAddresses:t}},o=e=>{const{name:t,emailAddresses:a=[]}=e;return!(!t&&!a[0])},l=(e,t,a,s,i)=>{if(!a||!a[0])return"";const{name:l,emailAddresses:c=[]}=r(a[0]),d=c[0],m=new RegExp("^"+Object(n.a)(e),"i");return!e||!i||s||o(t)?"":m.test(d)?e+d.slice(e.length):m.test(l)?e+l.slice(e.length):""},c=(e,t,a)=>t&&a&&r(a).emailAddresses[0]||e,d=e=>o(e)?[e]:[],m=(e="")=>{const[t,a,n]=e.split("-");return new Date(t,a-1,n)},_=(e,t)=>{if(!e&&!t)return s.a.ANY;const a=Object(i.j)(e,t),n=t&&h(t)&&Object(i.v)(m(t));return a===s.c&&n?s.a.WEEK:a===s.b&&n?s.a.MONTH:s.a.CUSTOM},u=(e,t)=>{let a="",n="";switch(e){case s.a.ANY:break;case s.a.WEEK:a=new Date(t).setDate(t.getDate()-s.c);break;case s.a.MONTH:a=new Date(t).setDate(t.getDate()-s.b);break;case s.a.CUSTOM:a=t}return a&&(a=Object(i.m)(new Date(a)),n=Object(i.m)(new Date(t))),{startDate:a,endDate:n}};function h(e=""){return null!==e.match(/^\d{4}-\d{2}-\d{2}$/)}const p=(e="",t="")=>{if(e&&t){const a=h(e)?m(e):null,n=h(t)?m(t):null;e=a&&Object(i.w)(a)?a:Object(i.i)(),t=n&&Object(i.w)(n)?n:Object(i.i)()}else e=t=Object(i.i)();return{startDate:e,endDate:t}}},function(e,t,a){"use strict";e.exports={className:{default:{filterWrapper:"em_N iz_A P_ZzaS5e",filterPreviewSection:"W_3vPwA",filterTitle:"A_6FsP M_Ic9xa",previewTitleWrapper:"D_F U_72FG o_h p_R K_6VdP",previewFilterTitle:"M_0 A_6EWk a_3vPwA",previewFilterTitleLeftAlign:"D_X a_3s0hC",blurredArea:"p_a T_6FIA D_X R_0 H_6FIA W_7yHc aw_275FVc",newAccountWrapper:"M_0 o_h J_x",newAccountIconWrapper:"M_E8xte",newAccountSuccess:"V_GM",newAccountTitle:"A_6EWk U_72FG",newAccountText:"A_6DUj i_6Fd5 J_N",textInput:"A_6EqO M_27msYt",linkedLabelWrapper:"U_fq7",label:"u_b A_6EqO M_Ic9xa",signatureContainer:"U_72FG",reauthorizeWrapper:"u_b A_6EqO Y_72FG i_6VdP",reauthorizeText:"r_P C_Z2aVTcY A_6EqO i_6VdP Y_dRA u_dPo C4_Z29WjXl",control:"W_3nF5b U_fq7",rightAlign:"Q_A",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_ZvsWfq",hint:"C_Z1TsNWR A_6DUj Y_fq7",baseNameError:"C_Z1VRpVF",suggestionsContainer:"Y_72FG",suggestions:"M_0 P_0 hd_n",suggestionsListItem:"i_6MGW",suggestion:"r_P C_Z2aVTcY",iconWrapper:"M_UgT7L",saveButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z29WjXl",disabledButton:"r_A D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z2aVTcY l4_Z2aVTcY O_cMq",cancelButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_52qC b_0 C_Z2aVTcY I4_2iedUU C4_Z29WjXl",link:"C_Z2aVTcY Q_dRA u_e69 r_P",listWrapper:"X_6EGz M_Z26RiTK",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI M_1KW3rc",errorIcon:"E_fq7",errorHeader:"M_0 u_e69 i_6LEV",accountType:"Q_eo6",sendingText:"C_ZvsWfq",customTitle:"i_6LEV a_3vhr3 o_h G_e",deleteBtn:"Y_72FG",email:"o_h J_x mq_CZ G_e a_3vhr3 u_b D_X V_GH"}},_key:"Z2bzEX0"}},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(13),r=a(31),o=a.n(r),l=a(9),c=a(43),d=(a(38),a(14)),m=a(17);t.a=Object(i.b)((e,{route:t})=>({href:Object(l.b)(e).normalizeRoute(t).url}),(e,{i13nModel:t,replaceState:a,route:n,hashParams:s={},stopPropagation:i})=>({onClick:r=>{const o=Date.now();i&&r.stopPropagation(),r.preventDefault(),t&&(t=babelHelpers.extends({},t,{interactionType:Object(d.i)(r)})),e(Object(c.i)({replaceState:a,route:n,i13nModel:t,hashParams:s,perfHeader:{requestStart:o}}))}}),void 0,{areOwnPropsEqual:(e,t)=>{let{route:a}=t,n=babelHelpers.objectWithoutProperties(t,["route"]),{route:s}=e,i=babelHelpers.objectWithoutProperties(e,["route"]);return Object(m.A)(s,a)&&o()(i,n)}})(e=>{let{href:t="#",onClick:a,children:n}=e,i=babelHelpers.objectWithoutProperties(e,["i13nModel","replaceState","route","hashParams","href","onClick","children","stopPropagation"]);return s.a.createElement("a",babelHelpers.extends({},i,{onClick:a,href:t}),n)})},function(e,t,a){"use strict";a.d(t,"a",function(){return n}),a.d(t,"c",function(){return s}),a.d(t,"b",function(){return i}),a.d(t,"d",function(){return r});const n={START_DATE:"startDate",END_DATE:"endDate",ANY:"any",WEEK:"week",MONTH:"month",CUSTOM:"custom"},s=7,i=30,r=[n.ANY,n.WEEK,n.MONTH,n.CUSTOM]},function(e,t,a){"use strict";a.d(t,"b",function(){return s}),a.d(t,"d",function(){return i}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o});var n=a(8);const s=Object(n.c)(["MINI","MEDIUM","COVER","APPEND"]),i={[s.MINI]:"80x80",[s.MEDIUM]:"400x200",[s.COVER]:"800x280",[s.APPEND]:"80x80"},r={[s.MINI]:{maxWidth:288,upperSectionHeight:80,titleMaxLength:42,thumbnailHeight:80,thumbnailWidth:80,domainLogoHeight:24,domainLogoWidth:24,cardBorderRadius:2},[s.MEDIUM]:{titleMaxLength:75,maxWidth:400,thumbnailHeight:175,descriptionMaxLength:115,outlookThumbnailHeight:175,upperSectionHeight:175,bottomSectionMaxWidth:380,domainLogoHeight:36,domainLogoWidth:36,cardBorderRadius:2},[s.COVER]:{titleMaxLength:100,maxWidth:800,thumbnailHeight:280,outlookThumbnailHeight:300,descriptionMaxLength:190,upperSectionHeight:265,bottomSectionMaxWidth:760,domainLogoHeight:48,domainLogoWidth:48},[s.APPEND]:{maxWidth:288,upperSectionHeight:80,titleMaxLength:42,thumbnailHeight:80,thumbnailWidth:80,domainLogoHeight:24,domainLogoWidth:24,cardBorderRadius:2}},o=Object(n.c)(["YENHANCER","FLICKR","DROPBOX"])},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(31),r=a.n(i),o=a(968),l=a.n(o),c=a(11),d=a.n(c),m=a(99),_=a.n(m);const u=()=>{},h=d()(l.a);class p extends s.a.Component{constructor(e,t){super(e,t),g.call(this),this.itemStartIndex=0,this.itemEndIndex=e.items.length,this.computeItemHeights(e),this.computeClassNames(e),this.isScrolling=!1,this.state={scrollTop:0,clientHeight:e.clientHeight}}shouldComponentUpdate(e,t){return this.state.scrollTop!==t.scrollTop||this.state.clientHeight!==t.clientHeight||!r()(this.props.items,e.items)}componentWillReceiveProps(e){const t=r()(this.props.items,e.items);this.loading=this.loading&&t,t||(this.computeItemHeights(e),this.computeClassNames(e))}componentDidMount(){this.scroller.clientHeight!==this.state.clientHeight?this.setState({clientHeight:this.scroller.clientHeight},()=>this.loadMoreOnScrollBottom()):this.loadMoreOnScrollBottom(),this.scrollToItemStart()}render(){const{items:e,bufferSize:t,styles:a}=this.props,{scrollTop:n,clientHeight:i}=this.state;this.itemStartIndex=this.getViewportItemIndex({viewportPosition:n,index:0}),this.itemEndIndex=e.length>1?this.getViewportItemIndex({viewportPosition:n+i,index:e.length}):e.length;const r=Math.max(this.itemStartIndex-t,0),o=Math.min(this.itemEndIndex+t,e.length),l=this.itemHeights.slice(0,r).reduce((e,t)=>e+=t,0),c=[];for(let t=r;t<o;t++){const a=e[t];c.push(s.a.createElement("li",{key:a.id,className:h.item},this.props.formatItem(a,{isScrolling:this.isListScrolling,itemIndex:t,itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex})))}return s.a.createElement("div",{ref:this.setScrollRef,className:this.scrollerClassName,style:a,onScroll:this.handleScroll,"data-test-id":"virtual-list"},s.a.createElement("ul",{key:"itemsContainer",className:this.listClassName,style:{transform:`translateY(${l}px)`}},c),s.a.createElement("div",{key:"heightPlaceHolder",className:h.heightPlaceHolder,style:this.heightPlaceHolderStyles}))}}p.defaultProps={items:[],bufferSize:0,loadMoreItems:u,onScroll:u,onScrollTop:u,onScrollBottom:u,styles:{},clientHeight:800,scrollTop:0,scrollerClassName:"",listClassName:""};var g=function(){this.computeItemHeights=(e=>{const{items:t,getItemHeight:a}=e;this.itemHeights=t.map(a),this.heightPlaceHolderStyles={height:this.itemHeights.reduce((e,t)=>e+=t,0)}}),this.computeClassNames=(e=>{const{scrollerClassName:t,listClassName:a}=e;this.scrollerClassName=_()(h.scroller,t),this.listClassName=_()(h.list,a)}),this.scrollToItemStart=(()=>{const{items:e,itemStart:t,getItemHeight:a}=this.props;if(!t)return;const n=e.findIndex(e=>e.id===t.id),s=e.slice(0,n).reduce((e,t)=>e+a(t),0);this.scroller.scrollTop=s}),this.handleScroll=(()=>{this.isScrolling=!0;const{items:e,loadMoreItems:t,onScrollTop:a,onScroll:n,onScrollBottom:s}=this.props,{scrollTop:i,scrollHeight:r}=this.scroller;i<0||(this.raf||(this.raf=window.requestAnimationFrame(()=>{const t=this.scroller.scrollTop;this.setState(()=>({scrollTop:t}),()=>{n({scrollTop:t,itemStart:e[this.itemStartIndex],itemEnd:e[this.itemEndIndex],itemStartIndex:this.itemStartIndex,itemEndIndex:this.itemEndIndex}),this.isScrolling=!1}),this.raf=null})),0===i&&a(),i+this.state.clientHeight===r&&s(),!this.loading&&i+this.state.clientHeight>.8*r&&(this.loading=!0,t()))}),this.loadMoreOnScrollBottom=(()=>{if(!this.loading&&this.props.loadMoreItems){this.scroller.scrollHeight>this.state.clientHeight||(this.loading=!0,this.props.loadMoreItems())}}),this.isListScrolling=(()=>this.isScrolling),this.getViewportItemIndex=(({viewportPosition:e,index:t})=>{const{items:a}=this.props,{index:n}=a.reduce(({viewportPosition:e,index:t},a,n)=>e>=0?{viewportPosition:e-this.itemHeights[n],index:n}:{viewportPosition:e,index:t},{viewportPosition:e,index:t});return n}),this.setScrollRef=(e=>{this.scroller=e})};t.a=p},function(e,t,a){"use strict";e.exports={className:{default:{scroller:"p_R Z_0 iy_h iz_A H_6D6F W_6D6F k_w em_N c22hqzz_GN",list:"M_0 P_0",item:"H_A hd_n",heightPlaceHolder:"p_a T_0 L_0 W_dBP I_T cZW7ROP_n Z_nF"}},_key:"ZjTNUw"}},,function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(11),r=a.n(i),o=a(26),l=a(4),c=a(13),d=a(0),m=a(185),_=a(9),u=(a(38),a(1035)),h=a.n(u),p=a(8);let g;const E=()=>{};class b extends s.a.Component{constructor(...e){var t;return t=super(...e),this.state={loadError:!1,showVideoCover:this.props.showVideoCoverInitially},this.handleLoadError=(e=>{g=void 0,this.setState({showVideoCover:!0,loadError:!0}),this.props.onLoadError(e)}),this.handleClick=(()=>{this.state.loadError&&this.setState({showVideoCover:!1,loadError:!1}),this.props.handleVideoClick(),this.initializePlayer()}),this.getPlayerConfig=(e=>{const t=e||this.props.playerConfig;return Object.assign(t,{iframeRender:!t.html5,lang:this.context.intl.locale||"en-US"})}),this.initializePlayer=(e=>{const t=this.getPlayerConfig(e);if(this.playerStatus!==d.zc.NotInitialized)return;this.playerStatus=d.zc.Initializing;const a=e=>{if(!e)return this.playerStatus=d.zc.NotInitialized,void this.handleLoadError(new Error("Failed to load video platform"));this.playerStatus=d.zc.Initialized,this.setState({showVideoCover:!1});const a=e.Events||e.API_Events;this._player=new e.VideoPlayer(t),this._addPlayerSubscriptions(this._player,a),this._player.render(Object(o.findDOMNode)(this.refs.player))},n=this.props.oathVideoPlayerEnabled?"OATH.VideoPlatform":"YAHOO.VideoPlatform",s="undefined"!=typeof window&&Object(p.a)(window,n),{videoPlayerUrl:i}=this.props;if(s)a(s);else{if(!g){g=m.a.loadScript(t.lang?`${i}&lang=${t.lang}`:i)}g.then(()=>{a(Object(p.a)(window,n))},e=>{this.handleLoadError(e)})}}),this._addPlayerEventListener=((e,t,a)=>{const n=e.addEventListener||e.on;t&&"function"==typeof n&&n.call(e,t,a)}),this._addPlayerSubscriptions=((e,t)=>{e&&t&&(this._addPlayerEventListener(e,t.PLAYER_READY,this.props.onPlayerReady),this._addPlayerEventListener(e,t.PLAYBACK_START,this.props.onPlaybackStart),this._addPlayerEventListener(e,t.VIDEO_STARTED,this.props.onVideoStarted),this._addPlayerEventListener(e,t.PLAYLIST_POSITION_CHANGE,this.props.onPlaylistPositionChange),this._addPlayerEventListener(e,t.PLAYER_MUTE_CHANGE,this.props.onMute),this._addPlayerEventListener(e,t.PLAYBACK_PAUSE,this.props.onPause),this._addPlayerEventListener(e,t.PLAYBACK_RESUMED,this.props.onResume),this._addPlayerEventListener(e,t.UI_INTERACT,this.props.onUIInteract),this._addPlayerEventListener(e,t.PLAYLIST_COMPLETE,this.props.onPlaybackComplete),this._addPlayerEventListener(e,t.PLAYBACK_TIME_UPDATE,this.props.onPlaybackUpdate),this._addPlayerEventListener(e,t.PLAYER_ERROR,this.props.onPlayerError),this._addPlayerEventListener(e,t.PLAYBACK_ERROR,this.props.onPlaybackError),this._addPlayerEventListener(e,t.AD_PLAYBACK_START||t.AD_BREAK_STARTED,this.props.onAdPlaybackStart),this._addPlayerEventListener(e,t.AD_PLAYBACK_STOP||t.AD_BREAK_ENDED,this.props.onAdPlaybackEnd),this._addPlayerEventListener(e,t.AD_ERROR||t.AD_BREAK_ITEM_ERROR,this.props.onAdError))}),t}componentDidMount(){this.playerStatus=d.zc.NotInitialized,this.state.showVideoCover||this.initializePlayer()}componentWillUnmount(){this._player&&this._player.destroy()}componentWillReceiveProps(e){e.playerPositionId&&e.playerPositionId!==this.props.playerPositionId&&(this.playerStatus===d.zc.Initialized?this._player.playlist.setPositionById(e.playerPositionId):this.initializePlayer(e.playerConfig)),!this.props.play&&e.play?this.playerStatus===d.zc.Initialized?(this._player.controls.play(),this._player.controls.setMute(this.props.mute)):this.initializePlayer():this._player&&this.props.play&&!e.play&&(this._player.controls.pause(),this._player.controls.setMute(!0))}render(){const e=r()(h.a),{width:t,height:a}=this.props;return s.a.createElement("div",{className:e.container,style:{width:t,height:a}},this.state.showVideoCover&&this.props.children?s.a.cloneElement(this.props.children,{loadError:this.state.loadError,handleClick:this.handleClick}):null,s.a.createElement("div",{ref:"player",className:e.stretchedBox}))}}b.contextTypes={intl:l.i.isRequired},b.defaultProps={width:"480px",height:"270px",playerConfig:{},onPlayerReady:E,onPlaybackStart:E,onAdPlaybackStart:E,onVideoStarted:E,onPlaylistPositionChange:E,onMute:E,onPause:E,onResume:E,onUIInteract:E,onPlaybackComplete:E,onPlaybackUpdate:E,onPlayerError:E,onLoadError:E,onAdPlaybackEnd:E,onPlaybackError:E,onAdError:E,play:!1,mute:!0,showVideoCoverInitially:!0,playerPositionId:"",handleVideoClick:E},t.a=Object(c.b)(e=>{const{getSetting:t,isFeatureEnabled:a}=Object(_.b)(e),n=a(d.kb.OATH_VIDEO_PLAYER);return{videoPlayerUrl:t(n?d.id.OATH_VIDEO_PLAYER_URL:d.id.VIDEO_PLAYER_URL),oathVideoPlayerEnabled:n}})(b)},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(972),r=a.n(i),o=a(11),l=a.n(o),c=a(4),d=a(16),m=(a(38),a(956)),_=a(14),u=a(30),h=a(21),p=a(3);const g=l()(r.a),E=Object(c.h)({tryNow:{id:"feature_cue.btn_try_now",defaultMessage:"Try now"},mayBeLater:{id:"feature_cue.btn_maybe_later",defaultMessage:"Maybe later"},tryNowNewCallout:{id:"feature_cue.newFeature",defaultMessage:"New feature notification"},close:{id:"cue.close",defaultMessage:"Close"}});class b extends s.a.Component{constructor(...e){var t;return t=super(...e),this.onTryNow=(e=>{e.stopPropagation(),this.props.onTryNow(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_try_now",interactionType:Object(_.i)(e)}})}),this.onMayBeLater=(e=>{this.props.onMayBeLater(),this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(_.i)(e)}})}),t}componentDidMount(){window.setTimeout(()=>{this.tryNowCueContent&&this.tryNowCueContent.focus()},0)}render(){const{formatMessage:e}=this.context.intl;return s.a.createElement("div",{role:"navigation","aria-label":e(E.tryNowNewCallout)},s.a.createElement("div",{className:g.container,"data-test-id":this.props.cueName,role:"alert","aria-labelledby":"try-now-heading","aria-describedby":"try-now-desc",ref:e=>{this.tryNowCueContent=e},tabIndex:"-1"},s.a.createElement("div",{className:g.header,"aria-label":e(this.props.headerText),id:"try-now-heading"},s.a.createElement(c.c,this.props.headerText)),s.a.createElement("div",{className:g.body,"aria-label":e(this.props.bodyText),id:"try-now-desc",tabIndex:"0"},s.a.createElement(c.c,this.props.bodyText)),s.a.createElement("div",{className:g.actionContainer},s.a.createElement(d.a,{style:{width:"60%"},onClick:this.onTryNow,title:e(E.tryNow),"data-test-id":"try-now-cue-button",kind:u.a.CUE,"aria-label":e(E.tryNow)},s.a.createElement(c.c,E.tryNow)),s.a.createElement(d.a,{style:{width:"40%"},onClick:this.onMayBeLater,title:e(E.mayBeLater),"data-test-id":"maybe-later-cue-button",kind:u.a.CHROMELESS,"aria-label":e(E.mayBeLater)},s.a.createElement(c.c,E.mayBeLater))),s.a.createElement("div",{className:g.close},s.a.createElement(h.a,{onClick:this.onMayBeLater,kind:p.b.CLOSE,size:p.d.XXS,colorState:p.a.IMPROVED_GRAY_DARK,title:e(E.close),"aria-label":e(E.close),"data-test-id":"close-cue-button"}))))}}b.contextTypes={intl:c.i.isRequired},t.a=Object(m.a)(b)},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N W_3rRhf",buttonContainer:"D_F gl_FM Y_6Eb4",header:"i_6MGW A_6FsP u_e69 C_Z281SGl U_6Eb4",body:"A_6EqO i_6FIA C_Z281SGl",actionContainer:"D_F je_6Eb4",imageActionContainer:"D_F P_1lwRNx",pagination:"P_Z1crMe6 C_ZvsWfq",imageCueContainer:"I_52qC P_Z24LTwU s_3qWeB a_3rLkT",imageCueInfoImageContainer:"D_F ek_EZ",imageCueInfoContainer:"D_F ek_BB je_6MGW a_3nOD5",image:"W_3mSyq H_3mSyq E_67SN",CueContainer:"D_F a_3vNsy",hotspotContainer:"D_F ek_EZ a_3zBDu",hostspotInfoWrapper:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB em_N",svgStyle:"I_Z2aVTcY e_v8Hnf W_fq7 H_q em_0",svgStyleBackground:"I_Z2aVTcY P_yJhcT s_3qWeB a_3zJDR D_F ek_BB W_3rRhf j_Z12qqTV e_dRA",close:"p_a R_eTB T_fq7",textCuebody:"y_12BoOJ A_6FsP C_52qC i_6MGW"},svgStyleWithoutImage:{body:"i_6FIA A_6EqO C_Z281SGl a_3rBM0"},svgStyleImage:{svgStyle:"D_F gl_C ab_C I_Z2aVTcY e_v8Hnf s_3mT4V em_0"}},_key:"1WkycE"}},,function(e,t,a){"use strict";e.exports={className:{default:{rowContainer:"D_F gl_CI jb_6Fd5 E_69H5",container:"D_F gl_FM H_3mU6W q_ZnkeaL e_fq7 o_h E_fq7",image:"W_3mU6W im_BE eh_Z1mq9kK",descriptionContainer:"em_N D_F ek_BB gl_2qpK5e Q_fq7",category:"u_b",priceContainer:"u_b A_6FsP D_F",originalPrice:"Q_fq7 C_Z1TsNWR S_DB",claimedOffer:"u_b C_ZnTFMv",activityHeader:"H_rh D_F ab_C gl_FM q_52qC u_b C_Z1VRpVF",countdownContainer:"H_6MGW e_eo6 q_153PGh C_ZnTFMv u_e69 P_3gIMd D_F ab_C",headerContainer:"D_F gl_FM ab_C H_72FG Y_6Fd5 P_Z2wD9Xs b_ZEo3cG m_n e_C04i4 u_b q_52qC",headerWrapper:"M_I2ay0 P_4kJB8 q_ZnkeaL",headerText:"D_F ab_C",headerIcon:"D_F ab_C gl_C q_Z2ak3tK e_eo6 H_72FG W_72FG E_6Fd5",rowContainerWithBorder:"D_F gl_CI jb_6Fd5 E_0 q_52qC n_ZEo3cG x_ZEo3cG P_1q5dgd",rowWrapper:"M_I2ay0 P_1Eu7sD q_ZnkeaL"},lastItem:{rowContainerWithBorder:"m_ZEo3cG e_Z1eBVHQ",rowWrapper:"P_L8EGj"},"columns-2":{container:"W_Z2wlC3b"},"columns-3":{container:"W_Z1h7eNR"},"columns-4":{container:"W_Z2m57KR"},"themeMode-DARK":{container:"q_sgPuT C_52qC",claimedOffer:"C_Z1TsNWR",activityHeader:"q_T C_52qC",countdownContainer:"q_sgPuT C_Z1TsNWR",headerContainer:"C_52qC q_ZFyHXD",headerButton:"I_ZamTeg b_n I4_ZamTeg b4_n I0_ZamTeg b0_n I3_ZamTeg b3_n",rowContainer:"q_T",rowContainerWithBorder:"q_ZFyHXD",headerWrapper:"q_sgPuT",rowWrapper:"q_sgPuT"}},_key:"uXJwi"}},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(91),l=a(3),c=a(4),d=(a(38),a(5)),m=a(44),_=a(0),u=a(995),h=a.n(u),p=a(11),g=a.n(p);const E=Object(c.h)({read:{id:"photo.item.read_message",defaultMessage:"Read message"},download:{id:"photo.item.download",defaultMessage:"Download"},forward:{id:"photo.item.forward",defaultMessage:"Forward"},delete:{id:"photo.item.delete",defaultMessage:"Delete"},pensieveDelete:{id:"photo.item.pensieveDelete",defaultMessage:"Remove from Mail"}});class b extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.handleHover=(e=>{this.setState({hovered:e})}),this.handleMessageOpen=(e=>{const{attachment:t}=this.props.item;e.preventDefault(),e.stopPropagation(),this.props.onMessageOpen(t.id,{i13nModel:{interactionType:d.d.click}})}),this.handleDelete=(e=>{const{attachment:t}=this.props.item;e.preventDefault(),e.stopPropagation(),this.props.onDelete(t)}),this.handleMessageDelete=(()=>{const{attachment:e}=this.props.item;this.props.onDeletePreview({attachmentId:e.id,i13nModel:{interactionType:d.d.click,mKey:d.e.PHOTO_DELETE_PREVIEW_OPEN,sec:d.g.PHOTO_LIST}})}),this.handleOnForward=(e=>{e.stopPropagation(),this.props.onForward(babelHelpers.extends({},this.props.item.attachment,{disposition:_.u.Dispositions.INLINE}),{i13nModel:{interactionType:d.d.click}})}),this.handleOnClick=(e=>{e.stopPropagation(),this.props.onClick(this.props.item.attachment,{i13nModel:{interactionType:d.d.click}})}),this._handleDownloadClick=(e=>{e.stopPropagation(),e.preventDefault(),this.props.onDownload(this.props.item.attachment,{i13nModel:{interactionType:d.d.click}})}),t}render(){const{item:e,route:t,small:a,disableHover:n,tabIndex:s,isDeleteEnabled:i,isPensieveEnabled:c}=this.props,{attachment:d}=e,{thumbnailUrl:u,downloadUrl:p,filename:b}=d,{formatMessage:C}=this.context.intl,f=g()(h.a,{small:a,isDeleteEnabled:i});return r.a.createElement("div",{tabIndex:s,className:f.photoItem,"data-test-id":"photo-list-item",onMouseEnter:n?void 0:()=>this.handleHover(!0),onMouseLeave:n?void 0:()=>this.handleHover(!1),onClick:this.handleOnClick,role:"button","aria-label":b,title:b},r.a.createElement("div",{className:f.photoItemImg,style:{backgroundImage:`url(${Object(m.j)(u,150)})`},"data-test-id":"photo-item-img"}),r.a.createElement("div",{className:f.photoOverlay}),this.state.hovered?r.a.createElement("div",{className:f.iconContainer,onClick:e=>e.stopPropagation()},t&&d.conversationId?r.a.createElement("div",{className:f.photoActionBtn},r.a.createElement("a",{href:this.context.getUrlFromRoute(t),onClick:this.handleMessageOpen,rel:"noopener"},r.a.createElement(o.a,{title:C(E.read),kind:l.b.INBOX,size:l.d.XS,colorStates:{normal:l.a.INVERTED_LESS_DIM,hovered:l.a.INVERTED}}))):null,r.a.createElement("div",{className:f.photoActionBtn},r.a.createElement("a",{"data-test-id":"icon-btn-download-photo",href:p,onClick:this._handleDownloadClick,rel:"noopener"},r.a.createElement(o.a,{title:C(E.download),kind:l.b.DOWNLOAD,size:l.d.XS,colorStates:{normal:l.a.INVERTED_LESS_DIM,hovered:l.a.INVERTED}}))),c&&d.source===_.xb.TRIPODWEB?r.a.createElement("div",{className:f.photoActionBtn,onClick:this.handleDelete},r.a.createElement(o.a,{"data-test-id":"icon-btn-delete-photo",title:C(E.pensieveDelete),kind:l.b.DELETE,size:l.d.XS,colorStates:{normal:l.a.INVERTED_LESS_DIM,hovered:l.a.INVERTED}})):null,i?r.a.createElement("div",{className:f.photoActionBtn,onClick:this.handleMessageDelete,"data-test-id":"icon-btn-delete-msg"},r.a.createElement(o.a,{title:C(E.delete),kind:l.b.DELETE,size:l.d.XS,colorStates:{normal:l.a.INVERTED_LESS_DIM,hovered:l.a.INVERTED}})):null,r.a.createElement("div",{className:f.forwardButton+" "+f.rtlRawScaleX},r.a.createElement(o.a,{"data-test-id":"icon-btn-forward-photo",onClick:this.handleOnForward,kind:l.b.FORWARD,size:l.d.XS,colorStates:{normal:l.a.INVERTED_LESS_DIM,hovered:l.a.INVERTED},title:C(E.forward)}))):null)}}b.contextTypes={intl:c.i,getUrlFromRoute:s.a.func.isRequired},b.defaultProps={tabIndex:-1},t.a=b},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F W_6D6F H_6D6F p_a o_h",photoRow:"D_F W_6D6F H_6D6F p_R ir3_0",photoBrief:"p_s D_F ek_BB I_52qC en_0 H_A M_0 bn_dBP bm_FJ bj_ZpQYvz",photoBriefHeader:"D_F M_0 P_Zrp4CL",briefTitle:"M_0 F_N P_Z1E2XDm A_6EqO u_b C_Z1VRpVF",allLink:"F_n D_F P_1JNu0L H_6LEV i_6LEV A_6EqO u_e69 C_Z1VRpVF cdPFi_Z1VRpVF S_n C4_Z2aVTcY cdPFi4_Z2aVTcY",photoBriefContent:"M_Sd33T"},darkModeNonPhotoTheme:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_sgPuT l_T",photoBriefFooter:"C_Z21zYBA"},darkModePhotoTheme_NIGHT_LANDSCAPE:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T bj_Z27oFgc",photoBriefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"},darkModePhotoTheme_ROADTRIP:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T bj_Z27oFgc",photoBriefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"},darkModePhotoTheme_SUNSET_AUSSIE:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T bj_Z27oFgc",photoBriefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"},darkModePhotoTheme_LIGHTHOUSE:{photoBriefHeader:"C_ZvsWfq",photoBrief:"I_T bj_Z27oFgc",photoBriefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"}},_key:"Zr6X3C"}},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(996),l=a.n(o),c=a(4),d=a(255),m=a(234),_=a(299),u=a(15),h=a(21),p=a(3),g=a(38),E=a(5),b=a(141),C=a(29);const f=Object(c.h)({openMessage:{id:"document.open_message",defaultMessage:"Open Message"},openLink:{id:"document.open_link",defaultMessage:"Open the link"},download:{id:"document.download",defaultMessage:"Download"},forward:{id:"document.forward",defaultMessage:"Forward Document"},delete:{id:"document.delete",defaultMessage:"Delete message"}});class v extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={hovered:!1},this.toggleDocumentActions=(e=>{this.setState({hovered:e})}),this.handleMessageOpen=(e=>{const{attachment:t}=this.props.item;e.preventDefault(),this.props.onMessageOpen(t.id,{i13nModel:{interactionType:E.d.click}})}),this.handleOnAttachmentOpen=(()=>{this.props.onAttachmentOpen(this.props.item.attachment,{i13nModel:{interactionType:E.d.click}})}),this.handleOnForward=(e=>{e.stopPropagation(),this.props.onForward(this.props.item.attachment,{i13nModel:{interactionType:E.d.click}})}),this._handleDownloadClick=(e=>{e.preventDefault(),e.stopPropagation(),this.props.onDownload(this.props.item.attachment)}),this.handleOnClick=(e=>{e.stopPropagation(),this.props.onClick(this.props.item.attachment,{i13nModel:{interactionType:E.d.click}})}),this.handleMessageDelete=(()=>{const{attachment:e}=this.props.item;this.props.onDeletePreview({attachmentId:e.id,i13nModel:{interactionType:E.d.click,mKey:E.e.DOC_DELETE_PREVIEW_OPEN,sec:E.g.DOC_LIST}})}),this.renderActions=(e=>{const{route:t,isDeleteEnabled:a}=this.props,{attachment:n}=this.props.item,{formatMessage:s}=this.context.intl;return r.a.createElement("div",{className:e.documentAction,onClick:e=>e.stopPropagation()},t&&n.conversationId?r.a.createElement("div",{className:e.documentActionBtn},r.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-open-message",title:s(f.openMessage),href:this.context.getUrlFromRoute(t),onClick:this.handleMessageOpen},r.a.createElement(u.b,{kind:p.b.INBOX,size:p.d.XS,colorState:p.a.INHERITED}))):null,r.a.createElement("div",{className:e.documentActionBtn},r.a.createElement("a",{className:e.documentActionLink,"data-test-id":"icon-btn-download-document",href:n.downloadUrl,target:n.isExternal?"_blank":null,title:s(n.isExternal?f.openLink:f.download),download:n.name,onClick:n.isExternal?this.handleOnAttachmentOpen:this._handleDownloadClick},r.a.createElement(u.b,{kind:n.isExternal?p.b.LINK:p.b.DOWNLOAD,size:p.d.XS,colorState:p.a.INHERITED}))),a?r.a.createElement("div",{className:e.documentActionBtn},r.a.createElement(h.a,{"data-test-id":"icon-btn-delete",onClick:this.handleMessageDelete,kind:p.b.DELETE,size:p.d.XS,title:s(f.delete),colorState:p.a.INHERITED,paddingLess:!0})):null,r.a.createElement("div",{className:e.forwardButton+" "+e.rtlRawScaleX},r.a.createElement(h.a,{"data-test-id":"icon-btn-forward-document",onClick:this.handleOnForward,kind:p.b.FORWARD,size:p.d.XS,title:s(f.forward),colorState:p.a.INHERITED,paddingLess:!0})))}),this.renderDateTime=((e,t)=>r.a.createElement("div",{className:t.documentTimeStamp,title:e.toLocaleString(this.context.intl.locale)},r.a.createElement(m.a,{timezone:this.context.timezone.name,date:e}))),this.renderAttachmentIcon=(e=>{const{attachment:t}=this.props.item;return r.a.createElement(d.a,babelHelpers.extends({},t,{isInverted:e}))}),t}render(){const{item:e,disableHover:t,hideDateTime:a,isCompactLayout:n,highlightSearchTerm:s,isBriefView:i}=this.props,{attachment:o,partialMessage:c}=e,d=o.size&&Object(_.prettyPrintBytes)(o.size),m=new Date(o.creationDate),u=this.context.getThemeMode(),h=u===C.f.DARK||i&&u===C.f.MEDIUM,p=this.context.getCss(l.a,{isCompactLayout:n,darkThemeMode:h});return r.a.createElement("div",{className:p.documentContainer+" document-list-item",onMouseOver:t?void 0:this.toggleDocumentActions.bind(this,!0),onMouseLeave:t?void 0:this.toggleDocumentActions.bind(this,!1),onClick:this.handleOnClick,tabIndex:this.props.tabIndex,"data-test-id":"document-list-item"},this.renderAttachmentIcon(h),r.a.createElement("div",{className:p.documentInfo},r.a.createElement("span",{className:p.filename,title:o.filename,"data-test-id":"filename"},o.filename),n||!d?null:r.a.createElement("span",{className:p.filesize,title:d,"data-test-id":"filesize"},d),r.a.createElement("div",{className:p.messageSubject,title:Object(b.c)(c.subject),"data-test-id":"file-message-subject"},r.a.createElement("span",null,Object(b.b)(c.subject,s,p.highlightSearchTerm)))),this.state.hovered?this.renderActions(p):null,a?null:this.renderDateTime(m,p))}}v.contextTypes={intl:c.i,getCss:s.a.func,getThemeMode:s.a.func,getUrlFromRoute:s.a.func.isRequired,timezone:g.e},t.a=v},function(e,t,a){"use strict";e.exports={className:{default:{documentList:"W_6D6F H_6D6F D_F p_a o_h",brief:"I_52qC M_1d6dau D_F ek_BB",briefHeader:"D_F M_0 P_Zrp4CL",briefTitle:"M_0 F_N P_Z1E2XDm A_6EqO u_b C_Z1VRpVF",allLink:"F_n D_F P_1JNu0L H_6LEV i_6LEV A_6EqO u_e69 C_Z1VRpVF cdPFi_Z1VRpVF S_n C4_Z2aVTcY cdPFi4_Z2aVTcY",briefContent:"M_Z1Ve0sQ"},brief:{documentList:"p_s D_F ek_BB I_52qC en_0 H_A M_0 bn_dBP bm_FJ bj_ZpQYvz"},darkModeNonPhotoTheme:{documentList:"I_sgPuT l_T",briefHeader:"C_ZvsWfq",briefFooter:"C_Z21zYBA"},darkModePhotoTheme_NIGHT_LANDSCAPE:{documentList:"I_T bj_Z27oFgc",briefHeader:"C_ZvsWfq",briefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"},darkModePhotoTheme_ROADTRIP:{documentList:"I_T bj_Z27oFgc",briefHeader:"C_ZvsWfq",briefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"},darkModePhotoTheme_SUNSET_AUSSIE:{documentList:"I_T bj_Z27oFgc",briefHeader:"C_ZvsWfq",briefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"},darkModePhotoTheme_LIGHTHOUSE:{documentList:"I_T bj_Z27oFgc",briefHeader:"C_ZvsWfq",briefFooter:"C_Z21zYBA",briefTitle:"C_ZvsWfq",allLink:"C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA"}},_key:"8BJ4j"}},,function(e,t,a){"use strict";a.d(t,"a",function(){return m});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(15),l=a(3),c=a(1002),d=a.n(c);class m extends r.a.Component{constructor(e){super(e),this.renderItem=this.renderItem.bind(this),this.toggleExpand=this.toggleExpand.bind(this),this.state={expanded:e.expandedByDefault}}renderItem(e,t){return r.a.createElement("a",{key:e.id,className:t.item,title:e.description,href:e.link,rel:"noreferrer",target:"_blank",onClick:()=>this.props.onItemClick(e)},e.image?r.a.createElement("img",{className:t.itemImage,src:e.image}):null,r.a.createElement("span",{className:t.itemText},e.description))}toggleExpand(){this.setState({expanded:!this.state.expanded},()=>this.props.onToggle(this.state.expanded))}render(){if(!this.props.items||!this.props.items.length)return null;const e=this.context.getCss(d.a);return r.a.createElement("div",{className:e.container},r.a.createElement("div",{className:e.header},r.a.createElement("div",{className:e.headerText,title:this.props.header},this.props.header),r.a.createElement("div",{className:e.chevron,onClick:this.toggleExpand},r.a.createElement(o.b,{kind:l.b.CHEVRON_UP,size:l.d.S,colorState:l.a.INHERITED,rotate:this.state.expanded?l.c.D0:l.c.D180}))),this.state.expanded?r.a.createElement("div",{className:e.list},this.props.items.map(t=>this.renderItem(t,e))):null)}}m.contextTypes={getCss:s.a.func}},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(4),r=a(46),o=a(11),l=a.n(o),c=a(15),d=a(3),m=a(988),_=a.n(m),u=a(989),h=a.n(u),p=a(21),g=a(990),E=a.n(g),b=a(991),C=a.n(b);function f({day:e,currentMonth:t,selectedDate:a,onSelect:n,showOtherMonths:i}){const o=e.getMonth()===t,c=Object(r.d)(e,a),d=l()(C.a,{isSelected:c,isToday:Object(r.v)(e)&&!c,isDisabled:(!o||Object(r.x)(e))&&!c});return o||i?s.a.createElement("div",{className:d.dayWrapper},s.a.createElement("span",{"data-test-id":"calendar-day",className:d.day,onClick:n.bind(null,e)},e.getDate())):s.a.createElement("span",{className:d.emptyDay})}const v=l()(E.a);function I({weekStart:e,selectedDate:t,currentMonth:a,onSelect:n,showOtherMonths:i}){return s.a.createElement("div",{className:v.weekWrapper},Object(r.f)(e).map((e,r)=>s.a.createElement(f,{key:r,day:e,onSelect:n,selectedDate:t,currentMonth:a,showOtherMonths:i})))}function y({currentView:e,currentMonth:t,selectedDate:a,onSelect:n,showOtherMonths:i}){return s.a.createElement("div",{"data-test-id":"calendar-days"},Object(r.g)(e).map((e,r)=>s.a.createElement(I,{key:r,weekStart:e,onSelect:n,selectedDate:a,currentMonth:t,showOtherMonths:i})))}const S=Object(i.h)({prevMonth:{id:"prev_month_text",defaultMessage:"Go to previous month"},nxtMonth:{id:"nxt_month_text",defaultMessage:"Go to next month"}}),N=l()(h.a);class T extends s.a.Component{constructor(...e){var t;return t=super(...e),this.setDate=(e=>{this.props.onMonthChange&&this.props.onMonthChange(e)}),this.handleSelect=((e,t)=>{t.preventDefault(),e.getMonth()!==this.props.currentView.getMonth()&&this.props.onMonthChange(e),this.props.onSelect&&this.props.onSelect(e)}),this.nextMonth=(()=>{const e=Object(r.b)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()+1),this.setDate(e)}),this.previousMonth=(()=>{const e=Object(r.b)(this.props.currentView);e.setDate(1),e.setMonth(e.getMonth()-1),this.setDate(e)}),this.swallowEvent=(e=>{e.stopPropagation()}),this.renderMonthHeader=(()=>{const{currentView:e}=this.props,{formatMessage:t}=this.context.intl;return s.a.createElement("div",{ref:"calendar",className:N.monthHeaderWrapper},s.a.createElement("span",{className:N.titleWrapper},s.a.createElement(i.a,{value:e,month:"long",year:"numeric"})),s.a.createElement("span",{className:N.arrow},s.a.createElement(p.a,{paddingLess:!0,kind:d.b.CHEVRON_UP,size:d.d.XS,rotate:d.c.D270,colorState:d.a.SELECTED,onClick:()=>this.previousMonth(),title:t(S.prevMonth),"aria-label":t(S.prevMonth)})),s.a.createElement("span",{className:N.arrow},s.a.createElement(p.a,{paddingLess:!0,kind:d.b.CHEVRON_UP,size:d.d.XS,rotate:d.c.D90,colorState:d.a.SELECTED,onClick:()=>this.nextMonth(),title:t(S.nxtMonth),"aria-label":t(S.nxtMonth)})))}),this.renderWeekHeader=(()=>{const e=[24,25,26,27,28,29,30].map(e=>{const t=Date.UTC(2016,6,e);return s.a.createElement("span",{key:e,className:N.dayHeader},s.a.createElement(i.a,{value:t,timeZone:"UTC",weekday:"narrow"}))});return s.a.createElement("div",{className:N.dayHeaderWrapper},e)}),t}render(){const{showOtherMonths:e,selectedDate:t,currentView:a}=this.props;return s.a.createElement("div",{className:N.datepickerCalendar,onClick:this.swallowEvent,onMouseDown:this.swallowEvent},this.renderMonthHeader(),s.a.createElement("div",{className:N.daysWrapper},this.renderWeekHeader(),s.a.createElement(y,{currentView:a,selectedDate:t,onSelect:this.handleSelect,showOtherMonths:e,currentMonth:a.getMonth()})))}}T.contextTypes={intl:i.i.isRequired};var A=T,M=a(92),D=a(10);const O=Object(i.h)({calendar:{id:"calendar_text",defaultMessage:"Calendar"}}),k={ARROW_DOWN:"ArrowDown",ARROW_UP:"ArrowUp",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight"},R={ArrowDown:7,ArrowUp:-7,ArrowLeft:-1,ArrowRight:1},x={month:"2-digit",day:"2-digit",year:"numeric"},P=/[^a-z0-9]+/,w="yyyy-mm-dd";class F extends s.a.Component{constructor(e,t){super(e,t),this.getFormattedDate=(e=>this.props.useISODateFormat?Object(r.m)(e):Object(r.e)(e,this.context.intl.locale,x)),this.offsetDate=((e,t)=>{e.preventDefault(),e.stopPropagation(),this.handleSelect(new Date(this.props.value.setDate(this.props.value.getDate()+t)))}),this.handleKeyDown=(e=>{switch(e.key){case k.ARROW_UP:case k.ARROW_DOWN:case k.ARROW_LEFT:case k.ARROW_RIGHT:e.shiftKey&&this.offsetDate(e,R[e.key])}}),this.handleFocus=(()=>{this.setState({hasFocus:!0}),this.keyboardListener.focus(),this.keyboardListener.select(),this.props.onStartEdit()}),this.handleBlur=(()=>{this.setState({hasFocus:!1}),this.props.onDoneEdit(),this.state.validInput||this.props.onInvalidDateEntered(this.state.inputValue)}),this.handleSelect=(e=>{this.props.onChange&&this.props.onChange(e),this.setState({inputValue:this.getFormattedDate(e),validInput:!0}),this.keyboardListener&&this.keyboardListener.focus()}),this.handleMonthChange=(e=>{this.setState({currentView:e}),this.keyboardListener.focus()}),this.handleInputChange=((e,{target:{value:t}})=>{const a=t.split(P),[n,s,i]=["yyyy","mm","dd"].map(t=>a[e.split(P).indexOf(t)]),o=s+"/"+i+"/"+n,l=new Date(o),c=t.length===e.length&&Object(r.w)(l)&&o===Object(r.e)(l,"en-US",x);c&&this.handleSelect(l),this.setState({inputValue:t,validInput:c})}),this.handleInputClick=(e=>{this.state.hasFocus&&(e.preventDefault(),e.stopPropagation())}),this.getInputField=(()=>{const{validInput:e,inputValue:t}=this.state,a=Object(r.e)(new Date("11/22/3333"),this.context.intl.locale,x),n=this.props.useISODateFormat?w:a.replace("3333","yyyy").replace("22","dd").replace("11","mm"),i=l()(_.a,{invalidInput:!e&&t.length>=n.length}),o=s.a.createElement("input",{type:"text",value:this.state.inputValue,placeholder:n,spellCheck:"false",ref:e=>{!this.keyboardListener&&e&&(this.keyboardListener=e)},onKeyDown:this.handleKeyDown,className:this.props.classNames.dateInput||i.dateInput,onClick:this.handleInputClick,onChange:e=>this.handleInputChange(n,e)});return s.a.createElement("div",null," ",s.a.createElement("span",{className:i.datePart}," ",o," ")," ")}),this.state={hasFocus:!1,currentView:null,inputValue:this.props.value?this.getFormattedDate(this.props.value):"",validInput:!0}}componentWillReceiveProps(e){e.value!==this.props.value&&this.setState({inputValue:e.value?this.getFormattedDate(e.value):""})}render(){const{hasFocus:e,currentView:t}=this.state,{label:a,disabled:n,value:i,showOtherMonths:o,zAltitude:m,popoverAlign:u}=this.props,h=e&&!n,p=l()(_.a,{isFocused:h}),g=this.props.classNames,E=Object(r.i)(),b=s.a.createElement("div",{ref:"datepicker","data-test-id":"datepicker",className:g.datepickerInput||p.datepickerInput},s.a.createElement("span",{className:g.datepickerIcon||p.datepickerIcon,"data-test-id":"icon"},s.a.createElement(c.b,{size:d.d.XS,kind:d.b.CALENDAR_SETTINGS,title:this.context.intl.formatMessage(O.calendar),colorState:d.a.INHERITED})),s.a.createElement("span",{className:p.valueWrapper},s.a.createElement("label",{className:p.datepickerValue,"aria-label":a},this.getInputField())),s.a.createElement("div",{"data-test-id":"date-value",name:i||E}));return s.a.createElement(M.c,{triggerOn:M.b.CLICK,triggerOff:M.a.CLICK,onShown:this.handleFocus,onHide:this.handleBlur,disabled:n,zAltitude:m,align:u},b,s.a.createElement("div",{"data-test-id":"calendar"},s.a.createElement(A,{selectedDate:i,onSelect:this.handleSelect,showOtherMonths:o,currentView:t||i||E,onMonthChange:this.handleMonthChange,handleKeyDown:this.handleKeyDown})))}}F.defaultProps={disabled:!1,showOtherMonths:!0,zAltitude:D.ZIndices.POPOVER.MEDIUM,classNames:{},onInvalidDateEntered:()=>{},useISODateFormat:!1},F.contextTypes={intl:i.i.isRequired};t.a=F},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(4),r=a(11),o=a.n(r),l=a(983),c=a.n(l),d=a(16),m=a(15),_=a(3),u=a(984),h=a.n(u);class p extends n.Component{render(){const{left:e,onClick:t,isDisabled:a}=this.props,n=o()(h.a,{left:e});return s.a.createElement("div",{className:a?n.disabledContainer:n.container,onClick:t,"data-test-id":"navigate-button",tabIndex:a?-1:0},s.a.createElement(m.b,{kind:_.b.ARROW_UP,size:_.d.S,colorState:a?_.a.DISABLED:_.a.SELECTED,rotate:e?_.c.D270:_.c.D90}))}}p.defaultProps={left:!1,isDisabled:!1};var g=p,E=a(985),b=a.n(E);const C=o()(b.a),f=["SU","M","TU","W","TH","F","SA"];class v extends n.Component{getDayOfWeek(){const{date:e}=this.props,t=e.getDay();return f[t]}getDayOfMonth(){const{date:e}=this.props;return e.getDate()}renderInnerBlock(){const{onClick:e,isSelected:t,date:a}=this.props,n=t?C.selectedDayOfMonth:C.day;return s.a.createElement("div",{className:t?C.selectedContainer:C.container,onClick:()=>e(a),"data-test-id":"calendar-day",tabIndex:0},s.a.createElement("div",{className:t?C.selectedDayOfWeek:C.day},this.getDayOfWeek()),s.a.createElement("div",{className:n},this.getDayOfMonth()))}renderWithOuterBlock(){const{onClick:e,date:t}=this.props;return s.a.createElement("div",{className:C.outerContainer,onClick:()=>e(t),"data-test-id":"calendar-day-outer-container"},this.renderInnerBlock())}render(){const{isSelected:e}=this.props;return e?this.renderWithOuterBlock():this.renderInnerBlock()}}v.defaultProps={isSelected:!1};var I=v,y=a(21),S=a(30),N=a(10),T=a(5),A=a(108),M=a(46),D=a(13);a.d(t,"b",function(){return R});const O=o()(c.a),k={margin:`0 ${2*N.GRID_UNIT}px 0 0`},R=Object(i.h)({close:{id:"coupon_self_extraction_modal.close",defaultMessage:"Close"},month_0:{id:"coupon_self_extraction_modal.january",defaultMessage:"January"},month_1:{id:"coupon_self_extraction_modal.february",defaultMessage:"February"},month_2:{id:"coupon_self_extraction_modal.march",defaultMessage:"March"},month_3:{id:"coupon_self_extraction_modal.april",defaultMessage:"April"},month_4:{id:"coupon_self_extraction_modal.may",defaultMessage:"May"},month_5:{id:"coupon_self_extraction_modal.june",defaultMessage:"June"},month_6:{id:"coupon_self_extraction_modal.july",defaultMessage:"July"},month_7:{id:"coupon_self_extraction_modal.august",defaultMessage:"August"},month_8:{id:"coupon_self_extraction_modal.september",defaultMessage:"September"},month_9:{id:"coupon_self_extraction_modal.october",defaultMessage:"October"},month_10:{id:"coupon_self_extraction_modal.november",defaultMessage:"November"},month_11:{id:"coupon_self_extraction_modal.december",defaultMessage:"December"},day_0:{id:"coupon_self_extraction_modal.sunday",defaultMessage:"Sunday"},day_1:{id:"coupon_self_extraction_modal.monday",defaultMessage:"Monday"},day_2:{id:"coupon_self_extraction_modal.tuesday",defaultMessage:"Tuesday"},day_3:{id:"coupon_self_extraction_modal.wednesday",defaultMessage:"Wednesday"},day_4:{id:"coupon_self_extraction_modal.thursday",defaultMessage:"Thursday"},day_5:{id:"coupon_self_extraction_modal.friday",defaultMessage:"Friday"},day_6:{id:"coupon_self_extraction_modal.saturday",defaultMessage:"Saturday"}});class x extends s.a.Component{constructor(e){super(e),P.call(this);const t=new Date;t.setDate(t.getDate()+1);const a=new Date(t),n=new Date(t);n.setDate(n.getDate()+30),this.state={value:e.description,expiryDate:t,calendarStartDate:t,earliestPossibleStartDate:a,farthestPossibleStartDate:n}}componentDidMount(){this.props.selfExtractionModalOpened({i13nModel:{mKey:T.e.COUPON_SELF_EXTRACTION_MODAL_OPENED,sec:T.g.COUPON_SELF_EXTRACTION_MODAL}})}render(){const{formatMessage:e}=this.context.intl;return s.a.createElement("div",{className:O.dialog,"data-test-id":"coupons-self-extraction-modal",tabIndex:0},s.a.createElement("div",{className:O.close},s.a.createElement(y.a,{onClick:e=>this.handleClose(e),kind:_.b.CLOSE,size:_.d.XXS,title:e(R.close),"aria-label":e(R.close),"data-test-id":"coupons-self-extraction-close-btn",tabIndex:0})),s.a.createElement("div",{className:O.title,"data-test-id":"coupons-self-extraction-modal-title"},s.a.createElement(i.c,{id:"coupon_self_extraction_modal.title",defaultMessage:"Set expiration date"})),this.renderCalendar(),s.a.createElement("span",{className:O.subtitle,"data-test-id":"coupons-self-extraction-modal-subtitle"},s.a.createElement(i.c,{id:"coupon_self_extraction_modal.subtitle",defaultMessage:"Description"})),s.a.createElement("div",{className:O.inputContainer},s.a.createElement("textarea",{value:this.state.value,className:O.inputField,onChange:this.handleDescriptionChange,"data-test-id":"coupons-self-extraction-modal-description",tabIndex:0})),s.a.createElement("div",{className:O.controls},s.a.createElement(d.a,{onClick:e=>this.handleSave(e),style:k,"data-test-id":"coupons-self-extraction-primary-btn",tabIndex:0},s.a.createElement(i.c,{id:"coupon_self_extraction_modal.save_coupon",defaultMessage:"Save coupon"})),s.a.createElement(d.a,{onClick:e=>this.handleClose(e,{i13nModel:{mKey:T.e.COUPON_SELF_EXTRACTION_MODAL_CANCELLED,sec:T.g.COUPON_SELF_EXTRACTION_MODAL}}),kind:S.a.SECONDARY,style:k,"data-test-id":"coupons-self-extraction-secondary-btn",tabIndex:0},s.a.createElement(i.c,{id:"coupon_self_extraction_modal.cancel",defaultMessage:"Cancel"}))))}}x.contextTypes={intl:i.i.isRequired};var P=function(){this._stopPropagation=(e=>{e.stopPropagation(),e.preventDefault()}),this.handleClose=((e,{mKey:t=T.e.COUPON_SELF_EXTRACTION_MODAL_CLOSED,sec:a=T.g.COUPON_SELF_EXTRACTION_MODAL}={})=>{const{onClose:n,selfExtractionModalClosed:s}=this.props;this._stopPropagation(e),s({i13nModel:{mKey:t,sec:a}}),n()}),this.handleSave=(e=>{const{onClose:t,extractCouponRequested:a,parentMessageId:n}=this.props,s={mKey:T.e.COUPON_SELF_EXTRACTION_MODAL_SAVE,sec:T.g.COUPON_SELF_EXTRACTION_MODAL},i=this.state.expiryDate;i.setHours(0),i.setMinutes(0),i.setSeconds(0),this._stopPropagation(e),a({i13nModel:s,messageId:n,description:this.state.value,expiryDate:i.toISOString()}),t()}),this.handleDescriptionChange=(e=>{this.setState({value:e.target.value})}),this.handleCalendarDayClick=(e=>{this.setState({expiryDate:e})}),this.isBackNavigationDisabled=(()=>{const{calendarStartDate:e,earliestPossibleStartDate:t}=this.state;return t.getTime()===e.getTime()}),this.isForwardNavigationDisabled=(()=>{const{calendarStartDate:e,farthestPossibleStartDate:t}=this.state;return t.getTime()<=e.getTime()}),this.handleNavigate=(e=>{const{calendarStartDate:t}=this.state;t.setDate(e?t.getDate()-6:t.getDate()+6),this.setState({expiryDate:t,calendarStartDate:t})}),this.getDateString=(()=>{const{formatMessage:e}=this.context.intl,{expiryDate:t}=this.state;return`${e(R[`day_${t.getDay()}`])}, ${e(R[`month_${t.getMonth()}`])} ${t.getDate()}`}),this.renderCalendar=(()=>{const{expiryDate:e,calendarStartDate:t}=this.state,a=[],n=[t].concat(Object(M.o)(t,5)),i=this.isBackNavigationDisabled(),r=this.isForwardNavigationDisabled();for(let t=0;t<n.length;t++){const i=n[t];a.push(s.a.createElement(I,{key:t,date:i,isSelected:i.getTime()===e.getTime(),onClick:e=>this.handleCalendarDayClick(e)}))}return s.a.createElement("div",{className:O.calendarContainer},s.a.createElement("span",{className:O.subtitle},this.getDateString()),s.a.createElement("div",{className:O.calendarSubcontainer},s.a.createElement(g,{left:!0,isDisabled:i,onClick:()=>{i||this.handleNavigate(!0)}}),a,s.a.createElement(g,{left:!1,isDisabled:r,onClick:()=>{r||this.handleNavigate(!1)}})))})};t.a=Object(D.b)(null,e=>({selfExtractionModalOpened:({i13nModel:t})=>e(babelHelpers.extends({},Object(A.t)(),{i13nModel:t})),selfExtractionModalClosed:({i13nModel:t})=>e(babelHelpers.extends({},Object(A.s)(),{i13nModel:t})),extractCouponRequested:({messageId:t,description:a,expiryDate:n,i13nModel:s})=>e(babelHelpers.extends({},Object(A.l)(),{messageId:t,description:a,expiryDate:n,i13nModel:s}))}))(x)},function(e,t,a){"use strict";e.exports={className:{default:{dialog:"W_3ElT5 k_w I_52qC D_F ek_BB P_Z1sM9Tt e_2ePX5q gl_C",close:"ac_CH",title:"D_F Y_36RhU A_6FsP i_6MGW ab_AJ W_3w6xl u_e69",subtitle:"D_F A_6EqO i_6FsP ab_AJ u_b je_eo6 jb_6FsP",controls:"je_6MGW",inputContainer:"D_F F_N",inputField:"q_T b_Z14vXdP H_74JI em_N A_6EqO C_Z281SGl jw_n V_GM e_dRA y_Z2uhb3X P_ZONthA ir3_0 b3_2pn5i3",calendarContainer:"D_F ek_BB gl_C P_ZXVub9 W_3DHnH H_3npkb",calendarSubcontainer:"D_F ek_EZ ab_C"}},_key:"Ztom5i"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C W_74JI H_3mU6W e_dRA M_ZmsKM2 ir_n b_2fAfSG r_P",disabledContainer:"D_F gl_C ab_C W_74JI H_3mU6W e_dRA M_ZmsKM2 ir_n b_Z11YcS2 I_ZnkeaL"},left:{container:"M_Z1r3vN7",disabledContainer:"M_Z1r3vN7"}},_key:"Z2nwNHM"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F gl_C ab_C ek_BB W_7bsk H_7jIs e_dRA I_Z1vLePO r_P M_203ASX",selectedContainer:"D_F gl_C ab_C ek_BB W_7jIs H_7rdk e_dRA I_Z21a4NC r_P M_0 q_Z2tgMkg",outerContainer:"D_F gl_C ab_C ek_BB W_3mS2U H_3mU6W e_dRA I_ZnkeaL r_P M_3gJiI b_Z144Pm1",day:"u_e69 A_6EqO C_Z21a4NC",selectedDayOfWeek:"u_e69 A_6EqO C_52qC",selectedDayOfMonth:"u_e69 A_6EWk C_52qC"}},_key:"RSCFc"}},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",previewOption:"i_6FIA D_F ab_BZ Y_fq7 P_KXYok",previewOptionText:"Q_eo6",previewPaneMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_52qC ab_CH gl_C r_P o_h",blockContainer:"H_6UHk W_7bcz ac_C p_R",previewPaneModeChooser:"hd_n P_1Bs8Qs D_F gl_FM Y_6Fd5 U_6MGW W_3rRhf",previewPaneBOTTOM:"D_B b_n l_T e_dRA I_ZnIF8Y U_eDQ Y_0 H_fq7",previewPaneNO:"D_B b_n l_T e_dRA I_ZnIF8Y U_eDQ Y_0 H_fq7",previewPaneRIGHT:"D_B b_n l_T e_dRA I_ZnIF8Y U_eDQ Y_0 H_fq7 E_eo6 W_6EGz",previewPaneDarkBOTTOM:"D_B b_n l_T e_dRA I_Z1wD17q U_eDQ Y_0 H_6LUG",previewPaneDarkRIGHT:"D_B b_n l_T e_dRA I_Z1wD17q U_eDQ Y_0 H_6UHk W_6UHk p_a T_0 R_0",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy D_F ac_FO W_6FIA H_6FIA r_P",label:"r_P a_7ceA G_e o_h"},isChecked:{previewOption:"u_e69 i_6FIA D_F ab_BZ Y_fq7 P_KXYok"},selected:{labelTextContainer:"u_e69"},liteVersion:{previewPaneModeChooser:"Y_0 U_0 W_A"}},_key:"Z2jGYHG"}},function(e,t,a){"use strict";a.d(t,"a",function(){return g});a(6);var n=a(2),s=a.n(n),i=a(4),r=a(11),o=a.n(r),l=a(1051),c=a.n(l),d=a(981),m=a(10),_=a(15),u=a(3);const h=o()(c.a),p=Object(i.h)({fromLabel:{id:"date_range_picker.from_date_label",defaultMessage:"From"},toLabel:{id:"date_range_picker.to_date_label",defaultMessage:"To"}});class g extends s.a.Component{constructor(){super(),this.state={editLeft:!1,editRight:!1}}handleStateChange(e){const t=this.state.editLeft||this.state.editRight;this.setState(e,()=>{const e=this.state.editLeft||this.state.editRight;!t&&e?this.props.disableErrors():t&&!e&&this.props.enableErrors()})}handleDatePickerChange({startDate:e=this.props.startDate,endDate:t=this.props.endDate}=this.props){this.props.onChange(e,t)}render(){const{formatMessage:e}=this.context.intl,{startDate:t,endDate:a,datePickerWidth:n,useISODateFormat:i}=this.props;return s.a.createElement("div",{className:h.dateWrapper},s.a.createElement("span",{className:h.datepicker,style:n?{width:`${n}px`}:null},s.a.createElement(d.a,{zAltitude:m.ZIndices.OVERLAY,value:t,label:e(p.fromLabel),onChange:e=>this.handleDatePickerChange({startDate:e}),disabled:this.props.disabled,onStartEdit:()=>this.handleStateChange({editLeft:!0}),onDoneEdit:()=>this.handleStateChange({editLeft:!1}),onInvalidDateEntered:e=>this.props.onInvalidDateEntered({startDate:e}),useISODateFormat:i})),s.a.createElement("span",null,s.a.createElement(_.b,{size:u.d.XS,kind:u.b.ARROW_UP,rotate:u.c.D90,colorState:"FIRST_LEVEL_GRAY"})),s.a.createElement("span",{className:h.datepicker,style:n?{width:`${n}px`}:null},s.a.createElement(d.a,{zAltitude:m.ZIndices.OVERLAY,value:a,label:e(p.toLabel),onChange:e=>this.handleDatePickerChange({endDate:e}),disabled:this.props.disabled,onStartEdit:()=>this.handleStateChange({editRight:!0}),onDoneEdit:()=>this.handleStateChange({editRight:!1}),onInvalidDateEntered:e=>this.props.onInvalidDateEntered({endDate:e}),useISODateFormat:i})))}}g.contextTypes={intl:i.i.isRequired},g.defaultProps={onInvalidDateEntered:()=>{},useISODateFormat:!1}},function(e,t,a){"use strict";e.exports={className:{default:{datepickerWrapper:"p_R H_6VdP U_fq7",datepickerInput:"em_N ir_n D_F ab_C p_R q_52qC A_6EqO H_6VdP P_3gJOe m_2w4l8N",valueWrapper:"o_h J_x G_e",datepickerLabel:"C_Z1TsNWR W_7jIs i_6NIX",datepickerValue:"b_n ir_n t_C D_X H_6MGW C_Z281SGl i_6MGW Q_eo6 P_0",datepickerIcon:"D_F ab_C i_6NIX cdPFi_Z1TsNWR",datePart:"t_C Q_eo6 E_eo6",dateInput:"M_0 b_n ir_n ev_q I_q"},isFocused:{datepickerWrapper:"Z_O",datepickerInput:"m_2fAfSG",datepickerValue:"e_dRA I_2ieeaE",datepickerIcon:"cdPFi_Z2aVTcY"},invalidInput:{dateInput:"M_0 b_n ir_n ev_q I_q C_uiV"}},_key:"Z1HCWYS"}},function(e,t,a){"use strict";e.exports={className:{default:{datepickerCalendar:"k_w q_52qC W_3rfjo e_dRA j_2v1b6D P_Z1stIAm",dayHeaderWrapper:"Y_fq7 U_dRA",monthHeaderWrapper:"D_F A_6EqO H_6LEV m_Z14vXdP P_1Eu7sD",titleWrapper:"D_X W_1BJksS u_b C_Z281SGl",yearTitle:"Q_eo6",daysWrapper:"P_1Eu7sD",arrow:"r_P t_C W_6LEV H_6LEV",dayHeader:"r_P t_C D_X A_6DUj W_6NIX H_6LEV C_ZvsWfq i_6LEV"}},_key:"ZMRiTz"}},function(e,t,a){"use strict";e.exports={className:{default:{weekWrapper:"U_dRA"}},_key:"Z26EX72"}},function(e,t,a){"use strict";e.exports={className:{default:{dayWrapper:"t_C D_X W_6NIX H_6LEV",day:"r_P e_e5X t_C D_X W_6LEV H_6LEV A_6DUj i_6LEV q4_ZpQYvz",emptyDay:"D_X W_6NIX H_6LEV"},isDisabled:{day:"A_6DUj C_Z1TsNWR"},isSelected:{day:"u_b C_Z281SGl q_2ieeaE"},isToday:{day:"q_1I4z5p"}},_key:"Z1htaH"}},,function(e,t,a){"use strict";a.d(t,"b",function(){return i}),a.d(t,"a",function(){return r}),a.d(t,"c",function(){return o});const n=/([A-Z][a-z]+)/g,s=/^webkit/i;function i(e){const t={};return e.trim().slice(0,-1).split(";").forEach(e=>{const a=e.trim().split(":"),n=function(e){const t=e.split("-"),a=[t[0].trim()];for(let e=1;e<t.length;e++)a.push(t[e][0].toUpperCase()+t[e].slice(1));return a.join("")}(a[0]);t[n]=a[1].trim()}),t}function r(e){return Object.keys(e).reduce((t,a)=>{if(!a||!a.length||function(e){return e.indexOf(":")>-1}(a))return t;const i=e[a];if(function(e){return e.indexOf("-")>-1}(a))return`${t}${a}:${i};`.toLowerCase();let r=(a[0].toUpperCase()+a.slice(1)).match(n).join("-");return s.test(a)&&(r="-"+r),`${t}${r}:${i};`.toLowerCase()},"")}function o(e){return"undefined"!=typeof window&&window.CSS&&window.CSS.escape?window.CSS.escape(e):e}},function(e,t,a){"use strict";e.exports={className:{default:{container:"ab_C k_w D_F ek_EZ H_7bcz en_0 P_2bJhi p_R m_Z14vXdP I_52qC",mainActionControls:"D_F em_N gl_C",selectionControlsWrapper:"D_F Q_6EGz",singleGroupActionList:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",singleGroupActions:"D_F",singleGroupItem:"D_F M_3gIMd cdPFi_Z1RVMOO cdPFi4_Z2aVTcY",usabiltyOptions:"D_F t_r",closeWrapper:"O_6uB4 cdPFi4_Z2aVTcY",expandCollapse:"M_0 cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",actionListDefault:"hd_n D_F ab_C M_0 P_0 O_6uB4 r_n cZW7ROP_n",actionListActive:"hd_n D_F ab_C O_N r_BN cZW7ROP_A",toolbarItem:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO C4_Z2aVTcY cdPFi4_Z2aVTcY",toolbarItemWithLabel:"M_1MYwXA",toolbarItemDisabled:"M_3gIMd cdPFi_Z1RVMOO C_Z1RVMOO O_6uB4 r_n cZW7ROP_n"},"previewpane-1":{cboxWrapper:"ej_d70",viewMenu:"t_r ej_d70 E_0",singleGroupActions:"Q_fq7",mainActionControls:"em_N",sortMenuContainer:"N_6MGW"},"previewpane-2":{container:"gl_FM",viewMenu:"Q_fq7 H_6D6F"},groupActionsActive:{singleGroupActionList:"hd_n D_F ab_C O_N r_BN cZW7ROP_A"},"themeMode-DARK":{container:"I_T m_ZYfFSw C_52qC cdPFi_52qC",toolbarItem:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC",toolbarItemDisabled:"M_3gIMd cdPFi_ZpQYvz C_ZpQYvz O_6uB4 r_n cZW7ROP_n",singleGroupItem:"cdPFi_ZpQYvz cdPFi4_52qC",expandCollapse:"M_0 cdPFi_ZpQYvz C_ZpQYvz C4_52qC cdPFi4_52qC"}},_key:"1vhr55"}},function(e,t,a){"use strict";e.exports={className:{default:{photoItem:"H_3nx4N W_3nx4N p_R M_eo6 r_BN ir3_1JO2M7",photoItemImg:"H_6D6F W_6D6F ba_BH",photoOverlay:"p_a H_6D6F W_6D6F T_0 q_ZpQYvz O_6uA3 r_P",iconContainer:"D_F gl_FM P_fQq0A p_a B_0 q_Zjpysv k_w W_6D6F H_6VdP",photoActionBtn:"H_6D6F",forwardButton:"h_Z2uKmny",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC "},isDeleteEnabled:{iconContainer:"P_Z2rzCvT"},small:{photoItem:"M_ZmsLix H_3mS2U W_3mS2U",iconContainer:"P_wpr0G"}},_key:"ZKdeqV"}},function(e,t,a){"use strict";e.exports={className:{default:{documentContainer:"I_T W_6D6F D_F k_w ab_C p_R o_h P_Z2rzCvT H_7ceA r_P ir3_1JO2M7 I3_1I4z5p it3_689y I4_1I4yPF",documentInfo:"J_x o_h F_N P_fQoXz",documentTimeStamp:"P_23Qdjg",filename:"A_6EqO C_Z281SGl a_3rlLf J_x o_h G_e",filesize:"P_3gJOe A_6DUj C_Z1TsNWR D_X",messageSubject:"A_6EqO C_Z1TsNWR J_x o_h G_e",documentAction:"r_BN P_fQoXz",documentActionBtn:"D_X P_1Eu5U7 cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",documentActionLink:"D_X",forwardButton:"D_X P_ZUD9Kb h_Z2uKmny cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY",highlightSearchTerm:"I_2ieea9 D_X P_3zDxc",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC "},isCompactLayout:{documentContainer:"r_P P_0",filename:"D_X a_6D6F"},darkThemeMode:{documentContainer:"C_2sqbRh ir3_Z1FS2Mn I3_1YEmYj I4_ZFyHXD",messageSubject:"C_2sqbQg",highlightSearchTerm:"I_2sqbPK",forwardButton:"cdPFi_2sqbRh cdPFi4_52qC",documentActionBtn:"cdPFi_2sqbRh cdPFi4_52qC",filename:"C_52qC"}},_key:"KcoVO"}},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(1189),l=a.n(o),c=a(11),d=a.n(c),m=a(4),_=a(16),u=(a(38),a(956)),h=a(14),p=a(30),g=(a(0),a(21)),E=a(3);const b=Object(m.h)({close:{id:"cue.close",defaultMessage:"Close"}});class C extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(e=>{e.stopPropagation(),this.props.onTryButton(e);const t=this.props.computeActionData("cue_"+this.props.cueName+"_click");this.props.onSuccess({i13nModel:{interactionType:Object(h.i)(e),actionData:t}})}),this.onMayBeLater=(e=>{const t=this.props.computeActionData("cue_"+this.props.cueName+"_later");this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_later",interactionType:Object(h.i)(e),actionData:t},userResponse:this.props.userResponse?this.props.userResponse:null})}),this.renderSnippet=(()=>{const{cueVariant:e,snippetText:t}=this.props,{formatMessage:a}=this.context.intl,n=d()(l.a,{cueVariant:e});return r.a.createElement("div",{className:n.snippetContainer},r.a.createElement("div",{className:n.bulletPoint}),"object"==typeof t?r.a.createElement("div",{className:n.snippetText,"aria-label":a(t)},r.a.createElement(m.c,t)):r.a.createElement("div",{className:n.snippetText,"aria-label":t},t))}),this.renderHeaderContainer=(()=>{const{cueVariant:e,smartViewCue:t,headerText:a,groceriesSmartView:n}=this.props,{mailBrandNameString:s}=this.context,i=d()(l.a,{cueVariant:e,smartViewCue:t,groceriesSmartView:n}),{formatMessage:o}=this.context.intl,c=r.a.createElement(g.a,{"data-test-id":"close-icon",onClick:this.onMayBeLater,kind:E.b.CLOSE,size:E.d.XXS,title:o(b.close),"aria-label":o(b.close),className:i.close});return a?"object"==typeof a?r.a.createElement("div",{className:i.header,"aria-label":o(a,{mailBrandNameString:s})},r.a.createElement(m.c,babelHelpers.extends({},a,{values:{mailBrandNameString:s}})),c):r.a.createElement("div",{className:i.header,"aria-label":a},a,c):c}),t}render(){const{cueVariant:e,smartViewCue:t,bodyText:a,tryButtonText:n,mayBeLaterButtonText:s,pngImageUrl:i,usePreviewPaneStyles:o,groceriesSmartView:c}=this.props,{formatMessage:u}=this.context.intl,h=d()(l.a,{cueVariant:e,smartViewCue:t,groceriesSmartView:c});return r.a.createElement("div",{className:o?h.ppContainer:h.container},r.a.createElement("div",{className:h.containerBorder}),r.a.createElement("div",{className:h.cueContainer,"data-test-id":this.props.cueName},r.a.createElement("div",{className:h.svgStyle},i?r.a.createElement("img",{className:h.icon,src:i}):null),r.a.createElement("div",{className:h.cueContainerWrapper},this.renderHeaderContainer(),"object"==typeof a?r.a.createElement("div",{className:h.body,"aria-label":u(a)},r.a.createElement(m.b,a)):r.a.createElement("div",{className:h.body,"aria-label":a},a),r.a.createElement("div",{className:h.actionContainer},r.a.createElement(_.a,{onClick:this.onTryButton,title:u(n),"data-test-id":"try-cue-button",kind:p.a.PRIMARY,"aria-label":u(n)},r.a.createElement(m.c,n)),r.a.createElement(_.a,{onClick:this.onMayBeLater,title:u(s),"data-test-id":"maybe-later-cue-button",kind:p.a.CHROMELESS,"aria-label":u(s)},r.a.createElement(m.c,s))))))}}C.contextTypes={intl:m.i.isRequired,mailBrandNameString:s.a.string},C.defaultProps={cueVariant:"default",smartViewCue:!1,groceriesSmartView:!1,usePreviewPaneStyles:!1,computeActionData:()=>{}},t.a=Object(u.a)(C)},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(9),d=a(977),m=a(978),_=a.n(m),u=a(230),h=a(7),p=a(0),g=a(5),E=a(29),b=a(17),C=a(964),f=a(3),v=a(15);const I=Object(l.h)({openAll:{id:"search.open_all_documents",defaultMessage:"Open all documents"}});class y extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handlePreview=((e,{i13nModel:t})=>{if(t=Object.assign({mKey:g.e.RIGHT_RAIL_DOC_OPEN,sec:this.getSection()},t),e.isExternal)return this.context.executeAction(u.d,{i13nModel:t}),void window.open(e.downloadUrl,"_blank");this.context.navigateTo({route:Object(b.d)(this.props.documentPreviewRoutes[e.id],e.id,{fullscreen:"1"}),i13nModel:t})}),this.renderItem=(e=>{const{attachment:t}=e;return r.a.createElement(d.a,{key:t.id,item:e,route:this.props.messageGroupRoutes[t.id],onClick:this.handlePreview,onMessageOpen:()=>{},onForward:()=>{},onAttachmentOpen:()=>{},disableHover:!0,hideDateTime:!0,isCompactLayout:!0,isBriefView:!0})}),this.renderList=(()=>this.props.items.map(this.renderItem)),t}getSection(){return Object(h.x)(this.props.listId)===p.Fb.CONTACT_DETAILS?g.g.CONTACTS_PANE:g.g.RIGHT_RAIL}render(){const{props:e,context:t}=this,{intl:a}=t,{listId:n,items:s}=e,i=t.getCss(_.a,babelHelpers.extends({brief:!0},Object(E.i)(this.context,!0)));return s.length?r.a.createElement("section",{className:i.documentList},r.a.createElement("header",{className:i.briefHeader},r.a.createElement("h4",{className:i.briefTitle},r.a.createElement(l.c,{id:"search.docs_brief_header",defaultMessage:"Documents"})),r.a.createElement(C.a,{className:i.allLink,route:Object(b.l)(Object(h.Q)(n,{referrer:"",listContentType:p.Db.DOCUMENTS})),i13nModel:{mKey:g.e.RIGHT_RAIL_DOC_OPEN_ALL,sec:this.getSection()},title:a.formatMessage(I.openAll)},r.a.createElement(l.c,{id:"related_content_card.all_link",defaultMessage:"All"}),r.a.createElement(v.b,{"aria-hidden":!0,kind:f.b.CHEVRON_UP,rotate:f.c.D90,size:f.d.XS,colorState:f.a.INHERITED}))),r.a.createElement("div",{className:i.briefContent},this.renderList())):null}}y.contextTypes={navigateTo:s.a.func,executeAction:s.a.func,getUrlFromRoute:s.a.func.isRequired,intl:l.i.isRequired,getCss:s.a.func,getThemeMode:s.a.func,getTheme:s.a.func};t.a=Object(o.b)((e,{listId:t})=>{const{doesListExist:a,getListItemIds:n,getFeaturesSelectors:s,__patchV2MessageGroupItem__:i,__patchV2AttachmentId__:r}=Object(c.b)(e),o=p.Db.DOCUMENTS,l=Object(h.Q)(t,{listContentType:o,listFilter:p.Eb.FROM}),d=(a(l)?n(l).slice(0,3):[]).map(e=>r(e,l)),m={},_={},u=s().isEnabled(p.kb.CONVERSATIONS);return d.forEach(e=>{const a=Object(b.o)({item:i(e,l),listId:l,isConversationMode:u});if(a)if(o===p.Db.MESSAGES)m[e.id]=a;else{m[e.attachment.id]=a;const n=Object(b.m)({attachment:e.attachment,listId:t,isConversationMode:u});_[e.attachment.id]=Object(b.d)(n,e.attachment.id,{fullscreen:"1"})}}),{listId:t,messageGroupRoutes:m,documentPreviewRoutes:_,items:d}})(y)},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(9),d=a(975),m=a(976),_=a.n(m),u=a(230),h=a(29),p=a(5),g=a(7),E=a(0),b=a(17),C=a(964),f=a(3),v=a(15);const I=Object(l.h)({openAllPhotos:{id:"search.open_all_photos",defaultMessage:"Open all photos"}});class y extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handlePreview=((e,{i13nModel:t})=>{t=Object.assign({mKey:p.e.RIGHT_RAIL_PHOTO_OPEN,sec:this.getSection()},t),e.isExternal?this.context.executeAction(u.d,{i13nModel:t}):this.context.navigateTo({route:Object(b.d)(this.props.photoPreviewRoutes[e.id],e.id,{fullscreen:"1"}),i13nModel:t})}),this.renderItem=(e=>{const{id:t}=e.attachment;return r.a.createElement("div",{key:t},r.a.createElement(d.a,{key:t,item:e,route:this.props.messageGroupRoutes[t],onClick:this.handlePreview,onMessageOpen:()=>{},onForward:()=>{},onAttachmentOpen:()=>{},small:!0,disableHover:!0}))}),this.renderRow=((e,t)=>r.a.createElement("div",{className:t.photoRow},e.map(this.renderItem))),t}getSection(){return Object(g.x)(this.props.listId)===E.Fb.CONTACT_DETAILS?p.g.CONTACTS_PANE:p.g.RIGHT_RAIL}render(){const{props:e,context:t}=this,{items:a,listId:n}=e,{formatMessage:s}=t.intl,i=t.getCss(_.a,babelHelpers.extends({},Object(h.i)(this.context,!0)));return a.length?r.a.createElement("section",{className:i.photoBrief},r.a.createElement("header",{className:i.photoBriefHeader},r.a.createElement("h4",{className:i.briefTitle},r.a.createElement(l.c,{id:"search.photos_brief_header",defaultMessage:"Photos"})),r.a.createElement(C.a,{className:i.allLink,route:Object(b.l)(Object(g.Q)(n,{referrer:"",listContentType:E.Db.IMAGES})),i13nModel:{mKey:p.e.RIGHT_RAIL_DOC_OPEN_ALL,sec:this.getSection()},title:s(I.openAllPhotos)},r.a.createElement(l.c,{id:"related_content_card.all_link",defaultMessage:"All"}),r.a.createElement(v.b,{"aria-hidden":!0,kind:f.b.CHEVRON_UP,rotate:f.c.D90,size:f.d.XS,colorState:f.a.INHERITED}))),r.a.createElement("div",{className:i.photoBriefContent},this.renderRow(a,i))):null}}y.contextTypes={navigateTo:s.a.func,executeAction:s.a.func,intl:l.i.isRequired,getCss:s.a.func,getUrlFromRoute:s.a.func.isRequired,getThemeMode:s.a.func,getTheme:s.a.func};t.a=Object(o.b)((e,{listId:t})=>{const{doesListExist:a,getListItemIds:n,isFeatureEnabled:s,__patchV2MessageGroupItem__:i,__patchV2AttachmentId__:r}=Object(c.b)(e),o=E.Db.IMAGES,l=Object(g.Q)(t,{listContentType:o,listFilter:E.Eb.FROM}),d=(a(l)?n(l).slice(0,3):[]).map(e=>r(e,l)),m={},_={},u=s(E.kb.CONVERSATIONS);return d.forEach(e=>{const a=Object(b.o)({item:i(e,l),listId:l,isConversationMode:u});if(a)if(o===E.Db.MESSAGES)m[e.id]=a;else{m[e.attachment.id]=a;const n=Object(b.m)({attachment:e.attachment,listId:t,isConversationMode:u});_[e.attachment.id]=Object(b.d)(n,e.attachment.id,{fullscreen:"1"})}}),{messageGroupRoutes:m,photoPreviewRoutes:_,items:d}})(y)},function(e,t,a){"use strict";var n=a(2),s=a.n(n),i=a(6),r=a.n(i),o=a(959),l=a(4),c=a(73),d=a(16),m=a(15),_=a(3),u=a(957),h=a(78),p=a(0),g=a(5),E=a(1001),b=a.n(E),C=a(99),f=a.n(C);const v=Object(l.h)({clip:{id:"coupon_item.brief.clip",defaultMessage:"Clip this coupon"},unclip:{id:"coupon_item.brief.unclip",defaultMessage:"Unclip this coupon"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"}});class I extends n.Component{constructor(...e){var t;return t=super(...e),this.clipCoupon=(()=>{const{cardMid:e,schemaId:t}=this.props;this.props.clip({cardMid:e,schemaId:t,i13nModel:{mKey:g.e.COUPON_CLIPPED,sec:g.g.CONTACT_CARD}})}),this.unclipCoupon=(()=>{const e={mKey:g.e.COUPON_UNCLIPPED,sec:g.g.CONTACT_CARD},{cardMid:t,schemaId:a}=this.props;this.props.unclip({cardMid:t,schemaId:a,i13nModel:e})}),this.handleViglinkClick=(()=>{this.props.viglinkClicked({i13nModel:{mKey:g.e.COUPON_LIST_VIGLINK_CLICKED,sec:g.g.CONTACT_CARD,actionData:{url:this.props.dealLink}}})}),t}render(){const{fromEmail:e,fromName:t,description:a,clipped:n,daysUntilExpiry:i,isInferredDate:r,viglinkEnabled:o,dealLink:l,overrideClassNames:g}=this.props,{intl:E,getCss:C}=this.context,I=C(b.a),y=o&&l?{href:Object(h.c)(l,p.D),onClick:this.handleViglinkClick,target:"_blank",title:a,rel:"noreferrer"}:null;return s.a.createElement("div",{className:f()(I.container,g.container)},s.a.createElement("a",babelHelpers.extends({className:I.link},y),s.a.createElement(c.c,{contact:{email:e},size:c.b.NOBLE_L}),s.a.createElement("span",{className:I.content},s.a.createElement("span",{className:I.fromName},t),s.a.createElement("span",{className:I.description},a),s.a.createElement("span",{className:I.expiration},s.a.createElement(u.a,{daysUntilExpiry:i,isInferred:r})))),n?s.a.createElement(d.a,{"data-test-id":"clipped",className:I.clippedButton,onClick:this.unclipCoupon,"aria-label":E.formatMessage(v.unclip)},s.a.createElement(m.b,{"aria-hidden":!0,kind:_.b.SCISSORS,size:_.d.XS,colorState:_.a.INVERTED})):s.a.createElement(d.a,{"data-test-id":"unclipped",className:I.unclippedButton,onClick:this.clipCoupon,"aria-label":E.formatMessage(v.clip)},s.a.createElement(m.b,{"aria-hidden":!0,kind:_.b.SCISSORS,size:_.d.XS,colorState:_.a.INHERITED})))}}I.defaultProps={overrideClassNames:{}},I.contextTypes={getCss:r.a.func,intl:l.i},t.a=Object(o.a)(I)},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F o_h ab_C bn_dBP bm_FJ bj_ZpQYvz P_1Eu6qC q4_1I4yPF bm8_n",link:"C_Z281SGl F_N D_F o_h ek_EZ P_0 ab_C",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6FsP i_6LUG",description:"cZ1zaJgg_B o_h J_x G_e A_6EWk i_6FsP M_Z26RiTK",expiration:"cZ1zaJgg_B o_h J_x G_e M_Z26RiTK",clippedButton:"F_n I_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0 C_52qC",unclippedButton:"F_n I_T l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0 cdPFi_Z287E9E"},"themeMode-MEDIUM":{container:"bj_Z27oFgc q4_ajP6C",link:"C_ZpQYvz"},"themeMode-DARK":{container:"bj_Z27oFgc q4_ajP6C",link:"C_ZpQYvz"}},_key:"2aEsk4"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC i_6Mbr P_6Fd5 D_F ek_BB en_0 M_Zm1Iab W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",header:"D_F H_6NIX i_6NIX ab_C a_1BFwhW",headerText:"A_6EqO u_e69 em_N x_Z14vXdP E_6DEy J_x o_h G_e",chevron:"D_F ab_C",list:"D_F ek_BB a_1BFwhW o_h M_ZwBDna",item:"H_6UbO i_6UbO q_ZnIF8Y J_x P_1Eu6qC e_dRA r_P M_3vzlv D_F ab_C C4_Z29WjXl cdPFi4_Z29WjXl u4_e69 I4_1I4z5p",itemText:"o_h G_e",itemImage:"e_e5X W_6MGW H_6MGW E_6Eb4"},"themeMode-DARK":{container:"I_sgPuT l_T",headerText:"C_ZvsWfq x_17JfEC",chevron:"cdPFi_ZvsWfq",item:"q_sgPtS C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA u4_e69 I4_sgPuT"},"themeMode-MEDIUM":{container:"I_sgPuT l_T",headerText:"C_ZvsWfq x_17JfEC",chevron:"cdPFi_ZvsWfq",item:"q_sgPtS C_ZvsWfq C4_Z21zYBA cdPFi4_Z21zYBA u4_e69 I4_sgPuT"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"1gKAUV"}},function(e,t,a){"use strict";a.r(t);var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(13),c=a(60),d=a(0),m=a(1),_=a(9),u=a(1115),h=a.n(u),p=a(11),g=a.n(p),E=a(1004),b=a(16),C=(a(38),a(14)),f=a(30);class v extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(e=>{e.stopPropagation(),this.props.onTryButton(e);const t=this.props.computeActionData("card_"+this.props.cardName+"_click");this.props.onSuccess({i13nModel:{interactionType:Object(C.i)(e),actionData:t}})}),t}render(){const{cardName:e,headerText:t,bodyText:a,tryButtonText:n,pngImageUrl:s,usePreviewPaneStyles:i}=this.props,{formatMessage:l}=this.context.intl,{mailBrandNameString:c}=this.context,d=g()(h.a,{cardName:e});return r.a.createElement("div",{className:i?d.ppContainer:d.container},r.a.createElement("div",{className:d.containerBorder}),r.a.createElement("div",{className:d.cueContainer,"data-test-id":this.props.cardName},r.a.createElement("div",{className:d.svgStyle},s?r.a.createElement("img",{className:d.icon,src:s}):null),r.a.createElement("div",{className:d.cueContainerWrapper},"object"==typeof t?r.a.createElement("div",{className:d.header,"aria-label":l(t,{mailBrandNameString:c})},r.a.createElement(o.c,babelHelpers.extends({},t,{values:{mailBrandNameString:c}}))):r.a.createElement("div",{className:d.header,"aria-label":t},t),"object"==typeof a?r.a.createElement("div",{className:d.body,"aria-label":l(a)},r.a.createElement(o.c,a)):r.a.createElement("div",{className:d.body,"aria-label":a},a),r.a.createElement("div",{className:d.actionContainer},r.a.createElement(b.a,{onClick:this.onTryButton,title:l(n),"data-test-id":"try-card-button",kind:f.a.PRIMARY,"aria-label":l(n)},r.a.createElement(o.c,n))))))}}v.contextTypes={intl:o.i.isRequired,mailBrandNameString:s.a.string},v.defaultProps={usePreviewPaneStyles:!1,computeActionData:()=>{}};var I=Object(E.a)(v);a.d(t,"strings",function(){return S}),a.d(t,"QuotientCue",function(){return N}),a.d(t,"mapDispatchToProps",function(){return T}),a.d(t,"mapStateToProps",function(){return A});const y=Object(c.a)(d.Fc),S=Object(o.h)({header_text:{id:"quotient_cue.header_text",defaultMessage:"Automatically save in stores"},body_text:{id:"quotient_cue.body_text",defaultMessage:"Add coupons to your loyalty card and we'll automatically apply the discounts when you checkout."},primary_button_text:{id:"quotient_cue.primary_button_text",defaultMessage:"Link loyalty card"},secondary_button_text:{id:"quotient_cue.secondary_button_text",defaultMessage:"Not now"},experimental_text:{id:"quotient_cue.experimental_text",defaultMessage:"View coupons"}});class N extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{this.props.openLinkModal()}),this.computeActionData=(e=>{const t={mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:d.ib.IC,featurename:d.kb.QUOTIENT,upselltype:"msgview",retailername:this.props.retailerName,origin:"msgread"}};return-1!==e.indexOf("click")&&(t.reason.actiontype="success"),-1!==e.indexOf("later")&&(t.reason.actiontype="reject"),t}),t}render(){const{cardName:e,showTextVariant:t,usePreviewPaneStyles:a}=this.props;return r.a.createElement(I,{bodyText:S.body_text,cardName:e,headerText:S.header_text,onTryButton:this.onTryButton,pngImageUrl:y,tryButtonText:t?S.experimental_text:S.primary_button_text,usePreviewPaneStyles:a,computeActionData:this.computeActionData})}}N.defaultProps={usePreviewPaneStyles:!1};const T=e=>({openLinkModal:()=>e({type:m.a.LINK_MODAL_OPENED})}),A=(e,t)=>{const{getRetailersSelectors:a,isFeatureEnabled:n}=Object(_.b)(e),{getDisplayNameFromRetailerId:s,getRetailerIdFromEmail:i}=a();return{retailerName:s(i(t.senderEmail)),showTextVariant:n(d.kb.QUOTIENT_TEXT_VARIANT)}};t.default=Object(l.b)(A,T)(N)},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(1);const l=e=>"click"===e.userAction?babelHelpers.extends({type:o.a.CARD_TRY_NOW_REQUESTED,fromFeature:e.name},e):babelHelpers.extends({type:o.a.CARD_CLOSED},e),c=e=>babelHelpers.extends({type:o.a.CARD_MARK_AS_SHOWN_REQUESTED},e);var d=a(5),m=a(35),_=a.n(m),u=a(13);function h(e,t,a=!0){const n=e.displayName||e.name;function i(){r.a.Component.apply(this,arguments)}Object.assign(i.prototype,r.a.Component.prototype),i.displayName="CardConnector("+n+")",i.contextTypes=t,i.propTypes={cardName:s.a.string,onShow:s.a.func,close:s.a.bool,onClick:s.a.func,closeCard:s.a.func,markCardAsShown:s.a.func,computeActionData:s.a.func},i.defaultProps={onShow:()=>{},onClick:()=>{},computeActionData:()=>({})},Object.assign(i.prototype,{componentDidMount(){const{cardName:e,computeActionData:t,markCardAsShown:a,onShow:n}=this.props,s={sec:d.g.FEATURE_CARD,mKey:"card_"+e+"_invoke"};s.actionData=t(s.mKey),a({name:e,i13nModel:s}),setTimeout(()=>n(),0)},handleCloseCard(e,t){const a=Object.assign({sec:d.g.FEATURE_CARD,mKey:`card_${this.props.cardName}_${e}`},t.i13nModel),{userResponse:n}=t,s={name:this.props.cardName,i13nModel:a,userAction:e};n&&(s.userResponse=n),this.props.closeCard(s)},componentWillReceiveProps(e){e.close&&this.handleCloseCard("close",{i13nModel:{mKey:"card_"+this.props.cardName+"_success",interactionType:d.d.click}})},render(){const t=e.prototype&&e.prototype.isReactComponent?{ref:"wrappedElement"}:null,a=_()(this.props,["onShow","onClose"]);return r.a.createElement(e,babelHelpers.extends({},a,t,{onClose:this.handleCloseCard.bind(this,"close"),persistent:!0,onSuccess:this.handleCloseCard.bind(this,"click")}))}});return a?Object(u.b)(null,e=>({closeCard:t=>e(l(t)),markCardAsShown:t=>e(c(t))}),null,{withRef:!0})(i):i}a.d(t,"a",function(){return h})},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"hd_n Q_6Fd5 Y_6Fd5 X_0",itemContainer:"D_F M_fq7",itemInfo:"X_fq7 ek_BB C_Z281SGl",itemSize:"kk_6DUj C_Z1YRXYn"}},_key:"10Vyi0"}},function(e,t,a){"use strict";e.exports={className:{default:{printView:"ir_n",header:"P_S9pNs M_2ae0fr m_Z14vXdP",subjectHeaderRow:"D_F el_EZ jb_6Eb4 U_eo6 m_Z14vXdP",subjectBody:"C_Z281SGl A_6FsP i_6FIA y_Z2uhb3X",headerTable:"D_FY",headerRow:"D_GE",label:"C_Z1YRXYn D_FZ je_fq7",fieldBody:"C_Z281SGl D_FZ X_fq7 je_fq7",buttonContainer:"M_Z2iDC9F D_F ek_FB",button:"P_0 M_Z1fenNR",offerHeader:"t_C A_6FsP"}},_key:"Z1JLHK2"}},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(377),l=a(1038),c=a.n(l);class d extends r.a.Component{render(){const e=this.context.getCss(c.a,{modalStyle:this.props.isModalStyle});return r.a.createElement(o.a,{top:0,left:0},r.a.createElement("div",{className:e.container},this.props.children))}}d.contextTypes={getCss:s.a.func},t.a=d},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB j_Z2nrtxD e_dRA T_e5X L_e5X h_16WrXa p_a a_3Diky q_52qC P_yJhcT",confirmationContainer:"I_52qC P_yJhcT s_3qWeB a_3zJDR D_F ek_BB j_Z2nrtyE e_dRA L_e5X h_1BKU51 p_a W_3vhr3",header:"i_6MGW A_6FsP u_e69 C_Z281SGl U_fq7",body:"A_6EqO i_6FIA C_Z281SGl U_fq7",undo:"C_Z2aVTcY u_N",closeWrapper:"E_6Eb4 Y_6Eb4 R_0 p_a T_0",counter:"C_Z1YRXYn",unsubscribeContainer:"D_F ab_C H_6TV4 m_1iPe0w p_R A_6EqO i_6FIA o_h X_eo6",senders:"D_F o_h G_e em_N",senderName:"u_b E_fq7 i_6Fd5 J_EN",senderEmail:"i_6Fd5 C_Z1YRXYn o_h G_e E_6LEV",cleanedList:"i_6Fd5 C_Z1YRXYn o_h G_e J_EN E_6LEV Q_fq7",actionContainer:"D_F gl_FM P_203zQW ab_C",unsubscribeLink:"E_6LEV C_Z2aVTcY r_P u_N",hideLink:"C_Z1YRXYn r_P u_N"}},_key:"1xiT7u"}},function(e,t,a){"use strict";e.exports={className:{default:{badge:"p_R T_0 L_0 H_6VdP W_6VdP Z_N",orb:"p_a T_0 L_0 aw_eYAlb j_ZD8w6D e_6FsP Z_N ah_2cWUOh H_6D6F W_6D6F b_0 D_F gl_FL ab_C r_P",pulse1:"ah_Z2ker5M Z_nF p_a T_0 L_0 I_Z2aVTcY H_6D6F W_6D6F O_0 e_6FIA cZW7ROP_n",pulse2:"ah_YMIOh Z_nG p_a T_0 L_0 I_Z2aVTcY H_6D6F W_6D6F O_0 e_6FIA cZW7ROP_n"},bigBadge:{badge:"W_7aG4 H_7aG4",orb:"e_6Mrc",pulse1:"e_6Mrc"},smallBadge:{badge:"H_6LEV W_6LEV",orb:"ah_1GPc07",pulse1:"ah_Z1W2WoW",pulse2:"ah_1CfAVj"},hoveredOver:{pulse1:"ah_Z15oIdf",pulse2:"ah_1jeJAY"}},_key:"Z1WULKL"}},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(11),r=a.n(i),o=a(1043),l=a.n(o),c=a(4),d=a(29),m=(a(8),a(60)),_=a(0),u=a(35),h=a.n(u);const p=Object(c.h)({defaultTheme:{id:"theme-default",defaultMessage:"Default"},purpleDefaultTheme:{id:"theme-purple-default",defaultMessage:"Purple"},sunriseTheme:{id:"theme-sunrise",defaultMessage:"Sunrise"},aquaGreenTheme:{id:"theme-aqua-green",defaultMessage:"Aqua green"},aquaBlueTheme:{id:"theme-aqua-blue",defaultMessage:"Aqua blue"},deepPurpleTheme:{id:"theme-deep-purple",defaultMessage:"Deep purple"},blueNightTheme:{id:"theme-blue-night",defaultMessage:"Blue night"},nightLandscapeTheme:{id:"theme-night-landscape",defaultMessage:"Night landscape"},roadtripTheme:{id:"theme-roadtrip",defaultMessage:"Roadtrip"},sunsetAussieTheme:{id:"theme-sunset-aussie",defaultMessage:"Sunset aussie"},lighthouseTheme:{id:"theme-lighthouse",defaultMessage:"Lighthouse"}});let g={DEFAULT:p.defaultTheme,SUNRISE:p.sunriseTheme,AQUA_GREEN:p.aquaGreenTheme,AQUA_BLUE:p.aquaBlueTheme,DEEP_PURPLE:p.deepPurpleTheme,BLUE_NIGHT:p.blueNightTheme,NIGHT_LANDSCAPE:p.nightLandscapeTheme,ROADTRIP:p.roadtripTheme,SUNSET_AUSSIE:p.sunsetAussieTheme,LIGHTHOUSE:p.lighthouseTheme,ATT:p.defaultTheme,FRONTIER:p.defaultTheme,ROGERS:p.defaultTheme,BT:p.defaultTheme,SKY:p.defaultTheme};function E({themeSetting:e,onChange:t,liteVersion:a,photoThemes:n=!1,cueMode:i=!1,partnerBrand:o},c){const u=function(e){const t=h()(d.g,[...Object.keys(d.c)]);switch(e){case _.Cd.ATT:return g=babelHelpers.extends({},g,{DEFAULT:p.purpleDefaultTheme}),babelHelpers.extends({[d.c.ATT]:d.d.ATT},h()(t,[d.g.AQUA_BLUE]));case _.Cd.FRONTIER:return babelHelpers.extends({[d.c.FRONTIER]:d.d.FRONTIER},h()(t,[d.g.DEFAULT]));case _.Cd.ROGERS:return g=babelHelpers.extends({},g,{DEFAULT:p.purpleDefaultTheme}),babelHelpers.extends({[d.c.ROGERS]:d.d.ROGERS},h()(t,[d.g.BLUE_NIGHT]));case _.Cd.BT:return g=babelHelpers.extends({},g,{DEFAULT:p.purpleDefaultTheme}),babelHelpers.extends({[d.c.BT]:d.d.BT},h()(t,[d.g.DEEP_PURPLE]));case _.Cd.SKY:return g=babelHelpers.extends({},g,{DEFAULT:p.purpleDefaultTheme}),babelHelpers.extends({[d.c.SKY]:d.d.SKY},h()(t,[d.g.AQUA_BLUE]));default:return t}}(o),E=h()(u,[...Object.keys(d.e)]);let b=n?u:E;b=i&&n?Object.assign({},d.e,E):b;const C=r()(l.a,{liteVersion:a,cueMode:i,[`theme-${e}`]:!0}),f=r()(l.a,{[`selected_${a}`]:!0,cueMode:i}),{formatMessage:v}=c.intl,I=Object.keys(b).map(a=>{const n=e===d.g[a],i=v(g[a]);return s.a.createElement("li",{key:a,className:n?f.themeDotContainer:C.themeDotContainer},s.a.createElement("input",{type:"radio",name:"themeOption",value:d.g[a],checked:n,onChange:t,className:C.accessible,id:"themeOption-"+a}),s.a.createElement("label",{htmlFor:"themeOption-"+a,className:C.themeDot,style:{backgroundImage:Object(d.j)(d.h[a],m.a)},title:i},s.a.createElement("span",{className:C.accessible},i)))});return s.a.createElement("div",{"data-test-id":"theme-chooser"},s.a.createElement("ul",{className:C.themeChooser},I))}E.contextTypes={intl:c.i.isRequired},t.a=E},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(11),r=a.n(i),o=a(1044),l=a.n(o),c=a(4),d=a(29);a(8);const m=Object(c.h)({lightThemeMode:{id:"theme-mode-light",defaultMessage:"Light"},mediumThemeMode:{id:"theme-mode-medium",defaultMessage:"Medium"},darkThemeMode:{id:"theme-mode-dark",defaultMessage:"Dark"}}),_={LIGHT:m.lightThemeMode,MEDIUM:m.mediumThemeMode,DARK:m.darkThemeMode},u=r()(l.a,{selected:!0});function h({themeSetting:e,themeModeSetting:t,onChange:a,liteVersion:n,cueMode:i=!1},o){const{formatMessage:c}=o.intl,m=r()(l.a,{cueMode:i,liteVersion:n,["theme_"+e]:!0}),h=Object.keys(d.f).map(e=>{const n=t===d.f[e],r=c(_[e]);return s.a.createElement("li",{key:e},s.a.createElement("div",{className:n&&i?m.themeModeBorderedContainer:m.themeModeContainer},s.a.createElement("label",{className:n?m.themeModeChecked:m.themeMode,htmlFor:"theme-mode-"+e,title:r},s.a.createElement("div",{className:m["themeMode"+e]},s.a.createElement("span",{className:m.accessible},r))),i?s.a.createElement("input",{id:"theme-mode-"+e,className:i?m.accessible:m.radioButton,type:"radio",name:"themeModeOption",checked:n,value:d.f[e],onChange:a,title:r}):s.a.createElement("div",{className:n?u.labelTextContainer:m.labelTextContainer},s.a.createElement("input",{id:"theme-mode-"+e,className:i?m.accessible:m.radioButton,type:"radio",name:"themeModeOption",checked:n,value:d.f[e],onChange:a,title:r}),s.a.createElement("label",{className:m.label,htmlFor:"theme-mode-"+e,title:r},r))),i?s.a.createElement("div",{className:n?u.cueLabelTextContainer:m.cueLabelTextContainer},s.a.createElement("label",{className:m.label,htmlFor:"theme-mode-"+e,title:r},r)):null)});return s.a.createElement("div",{className:m.chooser,"data-test-id":"theme-mode-chooser"},s.a.createElement("ul",{className:m.themeModeChooser},h))}h.contextTypes={intl:c.i.isRequired},t.a=h},function(e,t,a){"use strict";e.exports={className:{default:{container:"q_52qC D_F ek_BB eo_x ab_C e_eo6 jb_72FG W_3A1b8",close:"ac_CH H_6EqO W_6Eb4 h_Z1kaEH9",closeVideo:"H_6EqO W_6Eb4 h_Z1kaEH9 p_a T_0 R_0 Z_N",videoContainer:"p_R",heading:"A_6EWk i_6Mbr W_3zBDu d_6VdP ab_C u_e69 t_C je_6LEV",description:"je_6Eb4 A_6EqO i_6FIA W_3vX1s d_6VdP C_Z1Vxdfo t_C",headerSection:"D_F gl_C ek_BB W_3vqYW H_7qGO Y_6MGW U_fq7",imageWrapper:"D_F gl_C",adBlockBackground:"D_F W_3vqYW gl_C",thinkingEmoji:"H_7yHc",adblockOption:"D_F ab_C gl_C Y_6LEV W_3vVYr",adblockUpsell:"a_3z5BY A_6EqO u_b Y_eo6",optionHeading:"em_N",optionButton:"s_7ALe d_6Urz D_B C_q",videoThankYouContainer:"D_F ab_C I_52qC ek_BB W_3zmEK e_dRA",videoThankYouHeaderContainer:"ab_C t_C je_6LEV jb_7bcz",videoThankYouImage:"Y_72FG",videoThankYouHeader:"A_6EWk u_b",videoThankYouSubHeader:"A_6Eb4 je_eo6"},isCompact:{adblockOption:"ek_BB F_N",optionHeading:"t_C",optionButtonContainer:"Y_fq7"},nonCompact:{optionHeading:"em_N"}},_key:"Z2ll0eR"}},function(e,t,a){"use strict";a.d(t,"a",function(){return i});const n=new RegExp(/^[a-zA-Z]{2}-[a-zA-Z]{4}-[a-zA-z]{2}$|^[a-zA-z]{2,3}-[a-zA-Z]{2}$|^[a-zA-Z]{2}-\d{3}$/),s=new RegExp(/^\w{2}-\d{3}$/);function i(e){const t=s.test(e)?4:3;return"string"==typeof e&&n.test(e)?e.substring(0,e.length-t).toLowerCase():"en"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_e5X D_F gl_FM",date:"Q_fq7",day:"aw_Z1XPDyi e_dRA W_72FG A_6LEV H_6LEV C_52qC je_6DEy jb_6DEy t_C",month:"C_ZKWIFy A_6DUj W_72FG t_C u_b i_6LEV",cardInfo:"b_Z14vXdP e_O em_O M_Z1JcDnD H_74JI D_F gl_FM ab_C P_6Fd5 o_h",cardDetails:"o_h W_eE1",cardDescription:"i_6EWk U_eo6 K_6UbO o_h N_eo6",cardDealLink:"D_B i_6EWk U_eo6 K_6UbO o_h N_eo6 C4_Z2aVTcY",expiryTime:"C_Z1Xxgu0",buttonUnclipped:"I_52qC C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_Z28IeYL M_0 I4_1uvRUE I3_1uvRUE",buttonClipped:"I_Z287E9E C_52qC l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_Z1E2XDm M_0",buttonText:"Q_6Eb4 u_b J_EN",":focus":"I_1uvRUE"},fullWidth:{container:"W_6D6F D_F gl_FM"}},_key:"ZKn4qr"}},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(13),r=a(9),o=a(4),l=a(125),c=a(62),d=a(1016),m=a(14),_=a(5),u=a(1092),h=a.n(u),p=a(11),g=a.n(p),E=a(15),b=a(3),C=a(0),f=a(64),v=a.n(f),I=a(7);const y=g()(h.a),S=Object(o.h)({heading:{id:"blockSenders.heading",defaultMessage:"Block senders"},description:{id:"blockSenders.description",defaultMessage:"Please verify that you want to block messages from the following email senders:"},blockOption:{id:"blockSenders.blockOption",defaultMessage:"Block all future emails"},deleteOption:{id:"blockSenders.deleteOption",defaultMessage:"Delete all existing emails"}});class N extends s.a.Component{constructor(...e){var t;return t=super(...e),this.state={sendersChecked:{},blockSendersChecked:!0,deleteMessagesChecked:!0},this.handleConfirm=(e=>{e.stopPropagation();const{emailIds:t,handleBlockSenders:a,handleBlockSendersWithDelete:n,messageGroupIds:s,listId:i,folderId:r,permanent:o}=this.props,{sendersChecked:l,blockSendersChecked:c,deleteMessagesChecked:d}=this.state,u=t.filter(e=>l[e]),h={mKey:_.e.BLOCK_SENDERS_SUBMIT,sec:_.g.MSG_LIST_TOOLBAR_POPUP,interactionType:Object(m.i)(e)};if(0===u.length)return void this.props.onClose();const p=u.length,g=v()(this.props.blockedSenders.concat(u));if(d){const e={deleteItemsFromSenders:u,i13nModel:h,listId:i,messageGroupIds:s,delta:p,folderId:r,permanent:o};c&&(e.blockSenders=g),n(e)}else c&&a({blockSenders:g,i13nModel:h,delta:p});this.props.onClose()}),this.handleClose=(e=>{e.stopPropagation(),this.props.onClose()}),this.handleKeydown=((e,t)=>{/^( )$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e())}),this.toggleCheckStatus=(e=>{const t=Object.assign({},this.state.sendersChecked,{[e]:!this.state.sendersChecked[e]});this.setState({sendersChecked:t})}),this.renderItem=((e,t,a)=>s.a.createElement("a",{onClick:a,className:y.item,tabIndex:-1,onKeyDown:this.handleKeydown.bind(this,a)},s.a.createElement("span",{className:y.checkbox},s.a.createElement(E.b,{kind:e?b.b.CHECKBOX_ON:b.b.CHECKBOX_OFF,size:b.d.XS,colorState:e?b.a.SELECTED:b.a.COOL_FAINT})),s.a.createElement("span",null,t))),t}componentWillMount(){this.setState({sendersChecked:this.props.emailIds.reduce((e,t)=>babelHelpers.extends({},e,{[t]:!0}),{})})}render(){const{formatMessage:e}=this.context.intl,{sendersChecked:t,blockSendersChecked:a,deleteMessagesChecked:n}=this.state;return s.a.createElement(l.a,{onAbort:this.handleClose,onConfirm:this.handleConfirm,hideIcon:!0,title:e(S.heading),onOuterClick:()=>{}},s.a.createElement("div",{"data-test-id":"block-senders-dialog"},s.a.createElement("div",{className:y.description},e(S.description)),s.a.createElement("div",{className:y.list},s.a.createElement(c.a,{focusOnMount:!0,onEscape:this.props.onClose,tabIndex:0},this.props.emailIds.map(e=>s.a.createElement("li",{key:e},this.renderItem(t[e],e,this.toggleCheckStatus.bind(this,e)))))),s.a.createElement("div",{className:y.separator}),s.a.createElement("a",{onClick:()=>this.setState({blockSendersChecked:!a}),className:y.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,()=>this.setState({blockSendersChecked:!a}))},s.a.createElement("span",{className:y.checkbox},s.a.createElement(E.b,{kind:a?b.b.CHECKBOX_ON:b.b.CHECKBOX_OFF,size:b.d.XS,colorState:a?b.a.SELECTED:b.a.COOL_FAINT})),s.a.createElement("span",null,e(S.blockOption))),s.a.createElement("a",{onClick:()=>this.setState({deleteMessagesChecked:!n}),className:y.option,tabIndex:0,onKeyDown:this.handleKeydown.bind(this,()=>this.setState({deleteMessagesChecked:!n}))},s.a.createElement("span",{className:y.checkbox},s.a.createElement(E.b,{kind:n?b.b.CHECKBOX_ON:b.b.CHECKBOX_OFF,size:b.d.XS,colorState:n?b.a.SELECTED:b.a.COOL_FAINT})),s.a.createElement("span",null,e(S.deleteOption)))))}}N.contextTypes={intl:o.i.isRequired},N.defaultProps={blockedSenders:[]};t.a=Object(i.b)((e,t)=>{const{messageGroupIds:a,onClose:n}=t,{getSenderEmailIdsFromMessageGroup:s,getFeaturesSelectors:i,getFoldersSelectors:o}=Object(r.b)(e),l=s(a),c=i().getSetting(C.id.DELIVERY_BLOCKED_SENDERS),d=Object(I.m)(t.listId);return{emailIds:l,onClose:n,blockedSenders:c,folderId:d,permanent:!!d&&o().isPermDeleteFolderType(d)}},e=>({handleBlockSenders:t=>e(Object(d.b)(t)),handleBlockSendersWithDelete:t=>e(Object(d.a)(t))}))(N)},function(e,t,a){"use strict";a.d(t,"a",function(){return l});a(64);var n=a(1),s=a(0),i=a(9),r=a(55),o=a(274);const l=e=>(t,a)=>{const{getRoute:l,getFeaturesSelectors:c,getMainStreamListIds:d}=Object(i.b)(a()),m=d(l()),_=Object(r.a)(m),u=c().isEnabled(s.kb.CONVERSATIONS),h={triageActionType:s.Pd.DELETE_ALL_FROM_SENDERS,conversations:u};return t(babelHelpers.extends({},e,{name:s.id.DELIVERY_BLOCKED_SENDERS,type:n.a.BLOCK_SENDERS_WITH_DELETE_REQUESTED,streamId:_,allSelected:!0,destinationFolderType:s.sb.TRASH,triageActionType:s.Pd.DELETE_ALL_FROM_SENDERS,isAsync:!0,conversations:u,successAction:Object(o.b)(h),failureAction:Object(o.a)(h)}))};t.b=(e=>(t,a)=>{const{getRoute:o,getMainStreamListIds:l}=Object(i.b)(a()),c=l(o()),d=Object(r.a)(c);return t(babelHelpers.extends({},e,{type:n.a.BLOCK_SENDERS_REQUESTED,name:s.id.DELIVERY_BLOCKED_SENDERS,streamId:d}))})},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C bn_dBP bm_FJ bj_2spJWC p_R A_6EqO i_6FIA o_h X_eo6",link:"D_B I3_1I4z5p ir3_1JO2M7 I4_1I4yPF",check:"en_0 i_0 E_689y Z_f8a k_w",readIcon:"M_SkAgv",ybadgeIcon:"P_0 b_0 M_SkAgv",starIcon:"P_3gIMd E_eo6",attachmentIcon:"s_6LEV en_0 i_0 M_3gJOe",gridB1:"D_F o_h ab_C H_6D6F a_3vhr3 em_qk ej_0",gridB2:"D_F o_h ab_C H_6D6F em_sL ej_0",participants:"o_h J_x G_AY em_N",dateWrapper:"ab_C gl_CH D_F em_0 en_0 s_7jIs N_fq7 Q_fq7 A_6DUj C_Z1TsNWR",message:"D_F ab_C o_h H_6D6F em_N E_fq7 J_x",subjectContainer:"en_0 a_6D6F D_F ab_C",subject:"en_N",snippetContainer:"Q_fq7",snippet:"C_Z1VRpVF",highlightedTerm:"P_3zDxc",messageCount:"en_0 P_3gJiI Q_fq7 I_ZpQYvz",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",draftIndicator:"en_0 s_6NIX Q_fq7 C_ZnTFMv",messageDestinationLabel:"M_3gJOe W_7yHc en_0",senders:"D_F o_h G_e em_N",noSubject:"M_3gI0W",iconB2:"p_R D_F ek_EZ ab_C H_6D6F"},"isRead-false":{subject:"u_b",participants:"u_b",participantSolo:"u_b"},hasJustOneMessage:{messageCount:"W_0 O_0"},"highlightPosition-LEFT":{snippet:"Q_0 E_36IIE t_l"},"highlightPosition-CENTER":{snippet:"Q_36IIE E_36IIE t_C"},"highlightPosition-RIGHT":{snippet:"Q_36IIE E_0 t_r"},isHovered:{container:"I_1I4yPF"},showSubjectSearchAndHovered:{subjectContainer:"a_1BBI71",subjectSearchIcon:"Q_68F4 E_69H5"},selected:{container:"I_1I4z5p I4_1I4z5p"},active:{container:"I_1I4z5p I4_1I4z5p"},"themeMode-DARK":{link:"I3_ZFyHXD I4_Z1BIENj",active:"I_iJ8JF",selected:"I_iJ8JF I4_iJ8JF"},borderless:{container:"bm_n"}},_key:"Z2gWrjx"}},function(e,t,a){"use strict";e.exports={className:{default:{popoverContainer:"D_F",popoverContent:"P_3Y3Gk W_3qWeB",button:"P_fQq0A ab_C gl_FM je_eo6 jb_eo6 D_F r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",label:"D_F",hint:"D_F ab_C Q_eo6 O_cMq O4_N cdPFi4_Z281SGl",separator:"m_Z14vXdP M_3HLUz"},disabled:{button:"O_cMq r_BN I4_52qC"}},_key:"pxI9Q"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB",heading:"D_F gl_FM ab_C A_6FsP P_ZDKXs7 k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",groceryViewHeading:"D_F gl_FM ab_C A_6FsP P_Z8E2tx k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",helper:"D_F gl_C ab_C A_6Eb4 r_P E_e8l",backButton:"W_7Ig6 r_P",summaryRow:"D_F m_Z1lusya",infoText:"D_F ab_C A_6Eb4 C_Z281SGl y_Z2uhb3X E_eo6",print:"D_F ab_C M_3gJOe",pContent:"D_F ek_BB P_1d6dau",body:"r_P jb_6Fd5 C4_Z2aVTcY"},smartView:{groceryViewHeading:"gl_C"},"themeMode-DARK":{groceryViewHeading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",summaryRow:"I_52qC"}},_key:"Z23e4El"}},function(e,t,a){"use strict";e.exports={className:{default:{row:"D_F gl_FM H_d4J P_3Y3Gk k_w",container:"W_Z2wlC3b D_F o_h ab_C P_0 e_eo6 q_ZnkeaL bm_n C_Z281SGl k_w q4_1I4z5p",image:"W_3mS2U H_3mS2U im_BH eh_1AmJOD",content:"F_N D_F o_h P_6Eb4 ek_BB gl_C",fromName:"cZ1zaJgg_B o_h J_x G_e A_6FsP i_6LUG",description:"cZ1zaJgg_B o_h J_x G_e A_6EWk i_6FsP M_Z26RiTK",expiration:"cZ1zaJgg_B o_h J_x G_e M_Z26RiTK"},isWideView:{container:"W_1FN8Lk"},"themeMode-DARK":{container:"q_1YEmYj C_ZpQYvz q4_ZFyHXD"}},_key:"AEIDI"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",headerWrapper:"em_N iz_A P_ZzaS5e",pageHeader:"U_72FG",section:"Y_6Eb4"}},_key:"1itegU"}},function(e,t,a){"use strict";e.exports={className:{default:{accordionWrapper:"D_F",accordionContainer:"M_0 P_0 em_N D_F hd_n ek_BB",arrow:"W_6LEV H_6LEV",accordionPanel:"P_6LEV D_n ek_BB",itemContainer:"m_Z14vXdP m8_n",itemTitle:"D_F P_3gIMd r_P u_e69 ab_C H_6VdP ir3_1JO2M7"},isActive:{accordionPanel:"D_B",arrow:"h_22ufi4"}},_key:"lrlaB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F W_3vPwA x_Z14vXdP",right:"D_F em_N ek_BB o_A",getMailPro:"P_0 hd_n Y_72FG",plans:"P_0 hd_n M_0 z8_Z14vXdP",name:"M_0 u_e69 D_F i_6FIA",price:"M_0 P_6Eb4",priceName:"M_0 u_dPo D_F i_6FIA cZ1jMJ1e_AT",hint:"C_Z1VRpVF i_6EGz A_6EqO Y_fq7 U_fq7",date:"C_Z1VRpVF i_6EGz A_6EqO X_eo6",mainWrapper:"em_N iz_A D_F ek_BB P_ZzaS5e",manageSubscription:"Y_6Eb4 U_6LEV",manageMailPro:"P_0 hd_n Y_72FG m_Z14vXdP",subscriptionIcon:"X_72FG p_R B_dRA L_6UX5",mailProButton:"q_52qC C_Z2aVTcY l_Z2aVTcY e_dRA cn_dRA k_w r_P H_6VdP s_3nx4N en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO",selectedPlan:"q_Z2aVTcY e_dRA k_w r_P H_73cc s_3nx4N en_0 M_1gLo4F V_M cZ1RN91d_n y_Z2uhb3X A_6EqO b_0 C_52qC I4_Z29WjXl ir3_1JO2M7 it3_dRA",buttonContainer:"W_e5X"}},_key:"Z2c0Iyd"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F W_6D6F I_52qC m_Z14vXdP en_0",columnLeft:"D_F ab_C F_N P_1UqJXO o_h",columnCenter:"D_F ab_C eo_HB F_0 P_JMIAn",columnRight:"D_F gl_CH F_N ab_C P_1HT1B4 t_r s_3qWeB",backButton:"D_F ab_C P_eo6 i_6EWk r_P O4_cMr",backButtonLabel:"P_eo6 J_x",filename:"u_b o_h J_x G_e",pageNav:"C_Z1VRpVF J_x",currentPage:"I_ZpQYvz cn_0 e_dRA P_3gJOe",totalPages:"Q_eo6",pageNavInput:"a_6LEV I_ZpQYvz cn_0 e_dRA P_3gJOe C_Z1HyqBV A_6EqO",pageNavInputContainer:"D_I",pageLabel:"E_eo6",buttonContainer:"E_6Eb4 r_P",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC ",currentPageTheme:"I_Z1EVJaD"},"fullScreenMode-true":{columnCenter:"gl_C",filename:"A_6EWk",pageNav:"Y_eo6 C_ak5lC",container:"I_T H_7iGr C_52qC",pageNavInput:"C_ak5lC",buttonContainer:"E_6LEV",columnRight:"je_6Fd5 jb_fq7"}},_key:"2iA2mk"}},,function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN k_w D_F ek_BB ab_C cZ1RN91d_GG en_0 a_3vpWV M_0",header:"A_6EqO k_w i_CS W_6D6F P_PEFpM t_C C_Z1VRpVF D_F gl_FM ab_C",headerText:"A_6EWk C_Z281SGl u_e69",icon:"D_F C_ZpQYvz",title:"Q_fq7 u_b",partnerLogo:"H_6LEV r_P",submitButton:"H_6TFj s_3nF5b I_T b_2fAfSG e_dRA C_Z2aVTcY A_6Eb4 u_b r_P M_Z18KXHe a_3v1qi G_e o_h J_x",travelCardsContainer:"M_0 W_3vpWV a_3vpWV cg_FJ cn_3vzlv l_ZpQYvz"},"themeMode-MEDIUM":{container:"I_sgPuT",header:"C_ZpQYvz",headerText:"C_ZpQYvz",submitButton:"b_2oWau5 C_Z21zYBA",travelCardsContainer:"cn_0"},"themeMode-DARK":{container:"I_sgPuT",header:"C_ZpQYvz",headerText:"C_ZpQYvz",submitButton:"b_2oWau5 C_Z21zYBA",travelCardsContainer:"cn_0"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"1FJAuS"}},function(e,t,a){"use strict";a(6);var n=a(2),s=a.n(n),i=a(1236),r=a.n(i),o=a(11),l=a.n(o),c=a(4),d=a(16),m=(a(38),a(1004)),_=a(14),u=a(30),h=a(21),p=a(3),g=a(10);const E=Object(c.h)({close:{id:"cue.close",defaultMessage:"Close"}}),b={width:`${42.25*g.GRID_UNIT}px`};class C extends s.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(e=>{e.stopPropagation();const{computeActionData:t,onSuccess:a,onTryButton:n}=this.props;n(e),a({i13nModel:{actionData:t(),interactionType:Object(_.i)(e)}})}),this.onMayBeLater=(e=>{this.props.onClose({i13nModel:{mKey:"card_"+this.props.cardName+"_later",interactionType:Object(_.i)(e)},userResponse:this.props.userResponse?this.props.userResponse:null})}),this.onClose=(e=>{this.props.onClose({i13nModel:{interactionType:Object(_.i)(e)}})}),this.getHeader=(()=>{const{formatMessage:e}=this.context.intl;return"object"==typeof this.props.headerText?{ariaLabel:e(this.props.headerText),content:s.a.createElement(c.c,this.props.headerText)}:{ariaLabel:this.props.headerText,content:this.props.headerText}}),this.getBody=(()=>{const{formatMessage:e}=this.context.intl,t=this.props.bodyText,{values:a}=t,n=babelHelpers.objectWithoutProperties(t,["values"]);return"object"==typeof this.props.bodyText?{ariaLabel:e(n,a),content:s.a.createElement(c.b,this.props.bodyText)}:{ariaLabel:this.props.bodyText,content:this.props.bodyText}}),t}render(){const{formatMessage:e}=this.context.intl,{pngImageUrl:t,useCueAsCard:a,isShopRunner:n,isShopRunnerPostSignUp:i,useCueInMessageRead:o,lessImportantBody:m}=this.props,_=l()(r.a,{useCueInMessageRead:o,useCueAsCard:a,isShopRunner:n,isShopRunnerPostSignUp:i,lessImportantBody:m}),g=this.getHeader(),C=this.getBody();return s.a.createElement("div",{className:_.cueContainer,"data-test-id":this.props.cardName},n||i?null:s.a.createElement("div",{className:_.svgStyle},t?s.a.createElement("img",{className:_.image,src:t}):null),s.a.createElement("div",{className:_.cueContainerWrapper},n?s.a.createElement("img",{className:_.image,src:t}):null,s.a.createElement("div",{className:_.messageContainerWrapper},s.a.createElement("div",{className:_.messageContainer},n?null:s.a.createElement("div",{className:_.header,"aria-label":g.ariaLabel},g.content),s.a.createElement("div",{className:_.body,"aria-label":C.ariaLabel},C.content)),this.props.useCloseIcon?s.a.createElement("div",{className:_.closeContainer},s.a.createElement(h.a,{"data-test-id":"learn-more-cue-close-icon",onClick:this.onClose,kind:p.b.CLOSE,size:p.d.XXXS,title:e(E.close)})):null,this.props.isShopRunnerPostSignUp?s.a.createElement("div",{className:_.actionContainer},s.a.createElement("a",{onClick:this.onTryButton,title:e(this.props.tryButtonText),"data-test-id":"learn-more-button",kind:u.a.PRIMARY,"aria-label":e(this.props.tryButtonText)},s.a.createElement(c.c,this.props.tryButtonText))):null),s.a.createElement("div",{className:_.actionContainer},this.props.isShopRunnerPostSignUp?null:s.a.createElement(d.a,{style:n?b:{},onClick:this.onTryButton,title:e(this.props.tryButtonText),"data-test-id":"learn-more-cue-button",kind:u.a.PRIMARY,"aria-label":e(this.props.tryButtonText)},s.a.createElement(c.c,this.props.tryButtonText)),this.props.useCueInMessageRead?null:s.a.createElement(d.a,{onClick:this.onMayBeLater,title:e(this.props.mayBeLaterButtonText),"data-test-id":"maybe-later-cue-button",kind:u.a.CHROMELESS,"aria-label":e(this.props.mayBeLaterButtonText)},s.a.createElement(c.c,this.props.mayBeLaterButtonText)))))}}C.contextTypes={intl:c.i.isRequired},C.defaultProps={useCueInMessageRead:!1,computeActionData:()=>{}},t.a=Object(m.a)(C)},function(e,t,a){"use strict";a.d(t,"a",function(){return E});var n=a(2),s=a.n(n),i=(a(6),a(11)),r=a.n(i),o=a(4),l=a(1239),c=a.n(l),d=(a(38),a(16)),m=a(30),_=a(10),u=a(960),h=a(0),p=a(1004);const g={[h.kb.MSG_READ_EARNY_CARD]:{minWidth:`${42.5*_.GRID_UNIT}px`,height:`${10*_.GRID_UNIT}px`,marginTop:`${7.75*_.GRID_UNIT}px`},[h.kb.QUOTIENT_LINKED_CARD]:{minHeight:`${8*_.GRID_UNIT}px`,marginTop:"0"}};class E extends s.a.Component{constructor(...e){var t;return t=super(...e),this.handlePrimaryButtonClick=(e=>{const{onTryButton:t,onSuccess:a}=this.props;t(),a(e)}),this.useFallbackImage=(e=>{const{fallbackImage:t}=this.props;return Object(u.a)(e,t)}),t}render(){const{formatMessage:e}=this.context.intl,{bodyText:t,tryButtonText:a,cardName:n,image:i,headerText:l,seperatorText:_,usePreviewPaneStyles:u}=this.props,p="object"==typeof l?e(l):l,E="object"==typeof _?e(_):_,b="object"==typeof t?e(t):t,C="object"==typeof a?e(a):a,f=n.includes("msgReadEarny")?h.kb.MSG_READ_EARNY_CARD:n,v=r()(c.a,{[f]:!0});return s.a.createElement("div",{className:u?v.ppContainer:v.container},f===h.kb.QUOTIENT_LINKED_CARD?null:s.a.createElement("div",{className:v.containerBorder}),s.a.createElement("div",{className:u?v.ppCardContainer:v.cardContainer,"data-test-id":f},s.a.createElement("div",{className:v.layoutContainer},s.a.createElement("div",{className:v.imageContainer},s.a.createElement("img",{src:i,className:v.image,"data-test-id":"card-image",onError:this.useFallbackImage}),f===h.kb.QUOTIENT_LINKED_CARD?s.a.createElement("div",{className:v.overlayContainer},s.a.createElement("div",{className:v.overlay})):null),s.a.createElement("div",{className:v.messageContainer},f===h.kb.QUOTIENT_LINKED_CARD?s.a.createElement("div",null,s.a.createElement("div",{className:v.header},p),s.a.createElement("div",null,s.a.createElement("p",{className:v.subTitle},E),b)):s.a.createElement("div",{className:v.messageText},s.a.createElement("div",{className:v.body},s.a.createElement(o.b,t))),s.a.createElement(d.a,{onClick:this.handlePrimaryButtonClick,title:C,"data-test-id":"try-card-button",kind:m.a.PRIMARY,"aria-label":C,style:g[f]},C)))))}}E.contextTypes={intl:o.i.isRequired},E.defaultProps={onSuccess:()=>{}},t.b=Object(p.a)(E)},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(26),l=a.n(o),c=a(4),d=a(11),m=a.n(d),_=a(13),u=a(1042),h=a.n(u),p=a(1009),g=a.n(p),E=a(1010),b=a(1011),C=a(986),f=a.n(C),v=a(0);a(8);const I=Object(c.h)({wideList:{id:"wide-list-preview-pane",defaultMessage:"List"},rightPane:{id:"right-preview-pane",defaultMessage:"Right"},bottomPane:{id:"bottom-preview-pane",defaultMessage:"Bottom"}}),y={NO:I.wideList,RIGHT:I.rightPane,BOTTOM:I.bottomPane},S=m()(f.a,{selected:!0});function N({previewPaneSetting:e,onChange:t,liteVersion:a},n){const{formatMessage:s}=n.intl,i=m()(f.a,{liteVersion:a}),o=Object.keys(v.Bc).map(a=>{const n=e===v.Bc[a],o=s(y[a]);return r.a.createElement("li",{key:a,className:i.previewPaneModeContainer},r.a.createElement("label",{htmlFor:"previewPane-mode-"+a},r.a.createElement("div",{className:i.previewPaneMode,title:o},r.a.createElement("div",{className:i.blockContainer},r.a.createElement("span",{className:i["previewPane"+a]}),r.a.createElement("span",{style:"BOTTOM"===a?{display:"none"}:{},className:i["previewPane"+a]}),r.a.createElement("span",{style:"BOTTOM"===a?{display:"none"}:{},className:i["previewPane"+a]}),r.a.createElement("span",{style:"NO"===a?{display:"none"}:{},className:i["previewPaneDark"+a]})))),r.a.createElement("div",{className:n?S.labelTextContainer:i.labelTextContainer},r.a.createElement("input",{id:"previewPane-mode-"+a,className:i.radioButton,type:"radio",name:"previewOption",checked:n,value:v.Bc[a],onChange:t,title:o}),r.a.createElement("label",{className:i.label,htmlFor:"previewPane-mode-"+a,title:o},o)))});return r.a.createElement("div",{"data-test-id":"previewPane-mode-chooser"},r.a.createElement("ul",{className:i.previewPaneModeChooser},o))}N.contextTypes={intl:c.i.isRequired};var T=N,A=a(1045),M=a.n(A);const D=Object(c.h)({slimDensity:{id:"slim-msg-density",defaultMessage:"Small"},regularDensity:{id:"regular-msg-density",defaultMessage:"Medium"},relaxedDensity:{id:"relaxed-msg-density",defaultMessage:"Large"}}),O={SLIM:D.slimDensity,NORMAL:D.regularDensity,RELAXED:D.relaxedDensity},k=m()(M.a,{selected:!0});function R({msgListDensity:e,onChange:t,liteVersion:a},n){const s=m()(M.a,{liteVersion:a}),{formatMessage:i}=n.intl,o=Object.keys(v.ac).map(a=>{const n=e===v.ac[a],o=i(O[a]);return r.a.createElement("li",{key:a,className:s.msgListDensityModeContainer},r.a.createElement("label",{htmlFor:"msgListDensity-mode-"+a},r.a.createElement("div",{className:s.msgListDensityMode,title:o},r.a.createElement("div",{className:s.blockContainer},r.a.createElement("span",{className:s["msgListDensity"+a]}),r.a.createElement("span",{style:"RELAXED"===a?{display:"none"}:{},className:s["msgListDensity"+a]}),r.a.createElement("span",{style:"NORMAL"===a||"RELAXED"===a?{display:"none"}:{},className:s["msgListDensity"+a]})))),r.a.createElement("div",{className:n?k.labelTextContainer:s.labelTextContainer},r.a.createElement("input",{id:"msgListDensity-mode-"+a,className:s.radioButton,type:"radio",name:"msgListDensity",checked:n,value:v.ac[a],onChange:t,title:o}),r.a.createElement("label",{className:s.label,htmlFor:"msgListDensity-mode-"+a,title:o},o)))});return r.a.createElement("div",{"data-test-id":"msgListDensity-mode-chooser"},r.a.createElement("ul",{className:s.msgListDensityModeChooser},o))}R.contextTypes={intl:c.i.isRequired};var x=R,P=a(5),w=a(14),F=a(360),L=a(15),B=a(3),H=a(61),U=a(1032);const j=40,W=Object(c.h)({tabs:{id:"tabs_aria_label",defaultMessage:"Tabs"},snippets:{id:"snippets_aria_label",defaultMessage:"Message preview"},tabsLabel:{id:"tabs_label",defaultMessage:"Message tabs"},tabsHint:{id:"tabs_option",defaultMessage:"Turn on tabs to multitask"},restoreLabel:{id:"restore_label",defaultMessage:"Always restore tabs"},restoreHint:{id:"restore_option",defaultMessage:"Restore tabs from your previous session when you sign in to Mail on a different browser or device"},restoreWarning:{id:"restore_warning",defaultMessage:"This feature is available when you have message tabs enabled."},snippetsLabel:{id:"snippets_label",defaultMessage:"Message preview"},snippetsHint:{id:"snippet_hint",defaultMessage:"Show message preview in inbox"}});class G extends r.a.Component{constructor(...e){var t;return t=super(...e),this.state={expandButtonClicked:!1,expandButtonHovered:!1,themeSetting:this.context.getTheme(),themeModeSetting:this.context.getThemeMode()},this.handleHoverState=(e=>{this.setState({expandButtonHovered:e})}),this.handleClickToScroll=(()=>{this.setState({expandButtonClicked:!0});const e=l.a.findDOMNode(this._settingsForm);this.props.handleClickToScroll(e)}),this.updateTheme=(e=>{const{liteVersion:t,updateTheme:a}=this.props,n=e.currentTarget.value;if(n===this.state.themeSetting)return;const s={mKey:t?P.e.SETTINGS_POPUP_THEME:P.e.SETTINGS_THEME,sec:t?P.g.SETTINGS_POPUP:P.g.SETTINGS_INBOX_TAB,interactionType:Object(w.i)(e)};t&&(window.showSettingsPopover=!0),this.setState({themeSetting:n},()=>{this.updateThemeVariableStyles(n,this.state.themeModeSetting),a(n,s)})}),this.updateThemeMode=(e=>{const{liteVersion:t,updateThemeMode:a}=this.props,n=e.currentTarget.value;if(n===this.state.themeModeSetting)return;const s={mKey:t?P.e.SETTINGS_POPUP_THEME_MODE:P.e.SETTINGS_THEME_MODE,sec:t?P.g.SETTINGS_POPUP:P.g.SETTINGS_INBOX_TAB,interactionType:Object(w.i)(e)};t&&(window.showSettingsPopover=!0),this.setState({themeModeSetting:n},()=>{this.updateThemeVariableStyles(this.state.themeSetting,n),a(n,s)})}),this.updatePreviewPane=(e=>{const{liteVersion:t,previewPaneSetting:a,updatePreviewPane:n}=this.props,s=Number(e.currentTarget.value);s!==a&&n(s,{mKey:t?P.e.SETTINGS_POPUP_PREVIEW_PANE:P.e.SETTINGS_PREVIEW_PANE,sec:t?P.g.SETTINGS_POPUP:P.g.SETTINGS_INBOX_TAB,interactionType:Object(w.i)(e)})}),this.updateMultiTaskMode=(e=>{const{liteVersion:t,updateMultiTaskMode:a,multiTaskModeSetting:n}=this.props;a(!n,{mKey:t?P.e.SETTINGS_POPUP_TAB_SETTING:P.e.SETTINGS_TAB_SETTING,sec:t?P.g.SETTINGS_POPUP:P.g.SETTINGS_INBOX_TAB,interactionType:Object(w.i)(e)})}),this.updateSnippets=(e=>{const{liteVersion:t,updateSnippets:a,snippets:n}=this.props;a(!n,{mKey:t?P.e.SETTINGS_POPUP_SNIPPET:P.e.SETTINGS_SNIPPET,sec:t?P.g.SETTINGS_POPUP:P.g.SETTINGS_INBOX_TAB,interactionType:Object(w.i)(e)})}),this.updateMessageListDensity=(e=>{const{liteVersion:t,msgListDensity:a,updateMessageListDensity:n}=this.props,s=Number(e.currentTarget.value);s!==a&&n(s,{mKey:t?P.e.SETTINGS_POPUP_MSG_LIST_DENSITY:P.e.SETTINGS_MSG_LIST_DENSITY,sec:t?P.g.SETTINGS_POPUP:P.g.SETTINGS_INBOX_TAB,interactionType:Object(w.i)(e)})}),t}componentWillUnmount(){clearInterval(this._scrollInterval)}updateThemeVariableStyles(e,t){document.getElementById("themer").innerHTML=Object(U.a)(e,t)}render(){const{formatMessage:e}=this.context.intl,{multiTaskModeSetting:t,previewPaneSetting:a,msgListDensity:n,snippets:s,liteVersion:i,hasScrolled:o,theming:l,photoThemes:d,menuItemQuickAccessHeight:_,partnerBrand:u}=this.props,{themeSetting:p,themeModeSetting:C,expandButtonHovered:f}=this.state,v=m()(h.a,{liteVersion:i}),I=m()(g.a,{smallBadge:i,hoveredOver:f}),y=_-j;return r.a.createElement("form",{ref:e=>this._settingsForm=e,className:v.form,onSubmit:e=>e.preventDefault()},r.a.createElement("ul",{className:v.menuList},l?r.a.createElement("li",null,r.a.createElement("p",{className:v.name},r.a.createElement(c.c,{id:"theme_label",defaultMessage:"Theme"})),r.a.createElement(E.a,{themeSetting:p,onChange:this.updateTheme,liteVersion:i,photoThemes:d,partnerBrand:u}),r.a.createElement(b.a,{themeSetting:p,themeModeSetting:C,onChange:this.updateThemeMode,liteVersion:i})):null,r.a.createElement("li",{className:v.previewOptions,"data-test-id":"preview-pane-options"},r.a.createElement("p",{className:v.name},r.a.createElement(c.c,{id:"layout_label",defaultMessage:"Message layout"})),i?null:r.a.createElement("span",{className:v.hint},r.a.createElement(c.c,{id:"layout_hint",defaultMessage:"Choose to show lists and messages side-by-side"})),r.a.createElement("div",{className:v.layoutOptions,"data-test-id":"preview-pane-options"},r.a.createElement(T,{onChange:this.updatePreviewPane,previewPaneSetting:a,liteVersion:i}))),r.a.createElement("li",{className:v.msgListDensityOptions},r.a.createElement("p",{className:v.name},r.a.createElement(c.c,{id:"msg_list_density_label",defaultMessage:"Inbox spacing"})),i?null:r.a.createElement("span",{className:v.hint},r.a.createElement(c.c,{id:"msg_list_density_hint",defaultMessage:"Choose a comfortable message list density"}))),!i||this.state.expandButtonClicked||o?null:r.a.createElement("div",{className:v.blurredContainer},r.a.createElement("div",{ref:e=>this._expandButtonContainer=e,className:v.expandButtonContainer,onMouseEnter:this.handleHoverState.bind(this,!0),onMouseLeave:this.handleHoverState.bind(this,!1),style:{top:y}},r.a.createElement("div",{className:v.expandButton},r.a.createElement("div",{className:I.badge},r.a.createElement("div",{className:I.pulse1}),r.a.createElement("div",{className:I.pulse2}),r.a.createElement("div",{className:I.orb,onClick:this.handleClickToScroll},r.a.createElement(L.b,{kind:B.b.CHEVRON_UP,size:B.d.XS,rotate:B.c.D180,colorState:B.a.INVERTED})))))),r.a.createElement("li",{className:v.layoutOptions,"data-test-id":"message-list-density-options"},r.a.createElement(x,{msgListDensity:n,onChange:this.updateMessageListDensity,liteVersion:i})),r.a.createElement("li",{className:v.settingControl,"data-test-id":"multi-tasking-toggle"},r.a.createElement(F.a,{canToggle:!0,subHeader:!0,toggleEnabled:t,header:e(W.tabsLabel),hint:e(W.tabsHint),onToggle:this.updateMultiTaskMode})),i?null:r.a.createElement("li",{className:v.settingControl,"data-test-id":"snippets-toggle"},r.a.createElement(F.a,{canToggle:!0,subHeader:!0,toggleEnabled:s,header:e(W.snippetsLabel),hint:i?null:e(W.snippetsHint),onToggle:this.updateSnippets}))))}}G.contextTypes={intl:c.i.isRequired,config:s.a.object,executeAction:s.a.func,navigateTo:s.a.func,getTheme:s.a.func,getThemeMode:s.a.func},G.defaultProps={liteVersion:!1};t.a=Object(_.b)(void 0,e=>({updateTheme:(t,a)=>e(Object(H.a)({name:v.id.THEME,value:t,runV3:!0,i13nModel:a})),updateThemeMode:(t,a)=>e(Object(H.a)({name:v.id.THEME_MODE,value:t,runV3:!0,i13nModel:a})),updatePreviewPane:(t,a)=>e(Object(H.a)({name:v.id.PREVIEW_PANE,value:t,runV3:!0,i13nModel:a})),updateMultiTaskMode:(t,a)=>e(Object(H.a)({name:v.id.MAIL_TABS,value:t,runV3:!0,i13nModel:a})),updateSnippets:(t,a)=>e(Object(H.a)({name:v.id.SNIPPETS,value:t,runV3:!0,i13nModel:a})),updateMessageListDensity:(t,a)=>e(Object(H.a)({name:v.id.MSG_LIST_DENSITY,value:t,runV3:!0,i13nModel:a}))}))(G)},function(e,t,a){"use strict";var n=a(2),s=a.n(n),i=a(368),r=a.n(i),o=a(4),l=a(6),c=a.n(l),d=a(993),m=a(1013),_=a(23),u=a(167);const h=Object(o.h)({stationery_placeholder:{id:"stationery_placeholder",defaultMessage:"Start here ..."},msg_footer:{id:"msg_footer",defaultMessage:"{mailBrandNameString} Stationery"},clear_stationery:{id:"clear_stationery",defaultMessage:"Clear stationery"},clear_default:{id:"clear_default",defaultMessage:"Clear default"},vday_text:{id:"vday_text",defaultMessage:"Spread the love across your inboxes."},multi_mailbox_text:{id:"multi_mailbox_text",defaultMessage:"Connect and send a message from Gmail, Outlook, AOL, and more!"}}),p="https://s.yimg.com/tq/stationery/150917194743/img/pp_logo.png",g="https://overview.mail.yahoo.com/features/multiplemailboxes",E="https://overview.mail.yahoo.com/features/stationery",b='url("https://pclick.internal.yahoo.com/p/s=1197769629&t=qVvyLzQyVO")';class C extends s.a.Component{constructor(...e){var t;return t=super(...e),this.createMarkup=(()=>{const{themeObj:e}=this.props;return{__html:e.messageText}}),this.buildImageUrl=(e=>{const{themeObj:t}=this.props,{uniqueThemeName:a,mobstorPath:n,themeVersion:s}=t;return e&&n+s+"/"+a+"/"+e}),this.isUnoTemplate=(()=>{const{themeObj:e}=this.props;return"uno_template"===e.templateName}),this._renderUnoTopTable=(()=>{const{themeDisplayName:e,topImg_src:t,topImg_width:a}=this.props.themeObj,n=this.buildImageUrl(t);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("img",{alt:e,className:"top-img yahoo-ignore-inline-image resImage anim",src:n,width:a,style:{display:"block",border:0,margin:"0 auto"}})))))}),this._renderMiddleTable=(()=>{const{formatMessage:e}=this.context.intl,{mainContent_style:t,fontFamily:a}=this.props.themeObj,n=Object(d.b)(t);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",{className:"mainContent",width:"100%",style:n},s.a.createElement("div",{style:{fontFamily:a,lineHeight:"150%",marginBottom:0,marginTop:0}},s.a.createElement("div",{id:"middleBody","data-ph":e(h.stationery_placeholder),contentEditable:"true",dangerouslySetInnerHTML:this.createMarkup()}))))))}),this._renderUnoBottomTable=(()=>{const{themeDisplayName:e,bottomImg_src:t,bottomImg_width:a}=this.props.themeObj,n=this.buildImageUrl(t);return s.a.createElement("table",{className:"yahoo-ignore-table",cellPadding:"0",cellSpacing:"0",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,s.a.createElement("img",{alt:e,className:"yahoo-ignore-inline-image resImage",src:n,width:a,style:{display:"block",border:0,margin:"0 auto"}})))))}),this._renderBodyTable=(()=>{const{themeDisplayName:e,clickgenre:t,template_width:a,background_color:n,wrapperTable_style:i,bannerTop_style:r,topImg_src:o,topImg_size:l}=this.props.themeObj,c=Object(d.b)(i),m=this.buildImageUrl(o);let _={};return r&&(_=Object(d.b)(r)),s.a.createElement("table",{className:`wrapper ${this.isUnoTemplate()?"uno":"motif"}`+" yahoo-ignore-table","data-test-id":"stationery-wrapper",clickgenre:t,cellPadding:"0",cellSpacing:"0",width:a,style:Object.assign({backgroundColor:`${n}`,margin:"0 auto",maxWidth:"800px"},c)},s.a.createElement("tbody",null,s.a.createElement("tr",null,this.isUnoTemplate()?s.a.createElement("td",{className:"mobileBannerTop"},this._renderUnoTopTable()):s.a.createElement("td",{className:"bannerTop",width:"100%",style:_},s.a.createElement("img",{alt:e,className:"top-img yahoo-ignore-inline-image resImage anim",src:m,width:l,style:{display:"block",border:0,margin:"0 auto"}}))),s.a.createElement("tr",null,s.a.createElement("td",{style:{verticalAlign:"top"}},this._renderMiddleTable())),this.isUnoTemplate()&&s.a.createElement("tr",null,s.a.createElement("td",{className:"mobileBannerBottom",style:{verticalAlign:"bottom"}},this._renderUnoBottomTable()))))}),this._renderFooterTable=(()=>{const{formatMessage:e,locale:t}=this.context.intl,a=this.context.mailBrandNameString||e(u.a.mailBrandName),n="en"===Object(m.a)(t),{themeProviderName:i,uniqueThemeName:r,yahooStationery:o,valentineDay:l,actionStyle:c,creditStyle:d,senderLang:C}=this.props.themeObj,f=o&&n;return s.a.createElement("table",{width:"100%",className:"bottomTable yahoo-ignore-table",style:{margin:"0 auto",maxWidth:"800px"}},s.a.createElement("tbody",null,s.a.createElement("tr",null,"Paperless Post"===i&&s.a.createElement("td",{height:"40",className:"footer",style:d},s.a.createElement("a",{href:"https://www.paperlesspost.com/ystationery?utm_medium=referral&utm_source=yahoo_birdlogo&utm_campaign=birdlogo&pp_channel=yahoo&pp_theme="+`${r}&lang=${C}`,target:"_blank",rel:"noopener"},s.a.createElement("img",{src:p,alt:"Paperless Post",className:"yahoo-ignore-inline-image",width:"57",height:"32",style:{cursor:"pointer !important"}}))),l&&s.a.createElement("td",{height:"40",className:"footer",style:d},s.a.createElement("div",{style:{fontSize:"13px",color:"#444"}},e(h.vday_text),s.a.createElement("br",null),s.a.createElement("a",{href:g,style:{textDecoration:"none",cursor:"pointer"},rel:"noopener"},e(h.multi_mailbox_text)))),s.a.createElement("td",{height:"40",className:"footer",style:c},s.a.createElement("span",{className:"btn-clear btn-clear-stationery",title:e(h.clear_stationery)}),s.a.createElement("span",{className:"btn-clear btn-clear-divider btn-clear-default-divider"}),s.a.createElement("span",{className:"btn-clear btn-clear-default",title:e(h.clear_default)}),f&&s.a.createElement("span",{className:"btn-clear btn-clear-divider"}),f&&s.a.createElement("span",{className:"promotion-url"},s.a.createElement("a",{href:E,target:"_blank",className:_.HYPERLINK_PLUGIN_IGNORE_CLASS,style:{display:"block",lineHeight:"24px",fontSize:"12px",fontFamily:"Georgia, Timew New Roman, serif",fontStyle:"italic",color:"#999999"},rel:"noopener"},e(h.msg_footer,{mailBrandNameString:a}),s.a.createElement("span",{className:"ytrackb",style:{display:"block",width:1,height:1,background:b}})))))))}),t}render(){return s.a.createElement("table",{className:"wrapper-hf yahoo-ignore-table",width:"100%"},s.a.createElement("tbody",null,s.a.createElement("tr",null,s.a.createElement("td",null,this._renderBodyTable())),s.a.createElement("tr",null,s.a.createElement("td",{height:"40"},this._renderFooterTable()))))}}C.contextTypes={intl:o.i.isRequired,mailBrandNameString:c.a.string};var f=C;var v=a(187),I=a(5);a.d(t,"a",function(){return T});const y='[class*="rte-stationery-core"]',S='[id$="middleBody"]',N=`[class$="${v.a}"]`;class T{constructor(e){this.rte=e.rte,this.htmlAnnotations=e.htmlAnnotations,this.onThemeChange=e.onThemeChange,this.onDefaultThemeChange=e.onDefaultThemeChange,this.context=e.context,this.commands={[_.ToolbarActions.UPDATE_STATIONERY]:{action:(e,t)=>{this.update(t)},worksInNonEditable:!0}},this.stationeryUsed=!1,this.fontFamily=e.fontFamily,this.rtl=e.rtl,this.rte.element.addEventListener("click",this.handleRTEClick.bind(this))}static makeNonEditable(e){if(e.querySelector(y)){const t=e.querySelector(S);t.contentEditable=!1,t.setAttribute("contenteditable",!1)}}getStationeryMarkup(e,t){const{lang:a}=this.context.intl,n=t.isDefaultTheme?"showClearDefault":"",i=e.querySelector(S)||e;return t.yahooStationery=!0,t.valentineDay=!1,t.clickgenre=t.clickgenre?t.clickgenre:"",t.actionStyle={textAlign:this.rtl?"left":"right",backgroundColor:"#ffffff"},t.creditStyle={textAlign:this.rtl?"right":"left",backgroundColor:"#ffffff"},t.senderLang=a,t.messageText=i.innerHTML,t.fontFamily=this.fontFamily,function(e,t){return`<div class="rte-stationery-core ${e}" contenteditable="false" >`+'\x3c!--[if gte mso 9]><table class="yahoo-ignore-table" align="center" width="800" ><![endif]--\x3e'+`${r.a.renderToStaticMarkup(s.a.createElement(o.f,window.AppIntl,s.a.createElement(f,{themeObj:t})))}`+'\x3c!--[if gte mso 9]></table><img src="https://pclick.internal.yahoo.com/p/s=1197769629&t=qVvyLzQyVO" width="1" height="1"/><![endif]--\x3e</div>'}(n,t)}update(e){e?this.applyTheme(e):this.clearStationery()}applyTheme(e){const t=this.rte.element,a=this.rte.getRawHTML(),{quote:n,nonQuote:s}=Object(v.c)(a,this.htmlAnnotations),i=document.createElement("div");i.innerHTML=s,this.rte.setHTML(`${this.getStationeryMarkup(i,e)} ${n}`),this.stationeryUsed=!0;const r=t.querySelector(y),o=t.querySelector(N);if(t.setAttribute("contenteditable",!1),t.contentEditable=!1,r){const e=t.querySelector(S);e.setAttribute("contenteditable",!0),e.contentEditable=!0}o&&(o.setAttribute("contenteditable",!0),o.contentEditable=!0)}checkAndSetDraft(){const e=this.rte.element,t=e.querySelector(y),a=e.querySelector(N);if((!a||!a.contains(t))&&t){const t=e.querySelector(S);t.contentEditable=!0,e.contentEditable=!1,t.setAttribute("contenteditable",!0),e.setAttribute("contenteditable",!1),this.stationeryUsed=!0,a&&(a.contentEditable=!0,a.setAttribute("contenteditable",!0))}}clearStationery(){const e=this.rte.element,t=e.querySelector(S),a=e.querySelector(N);if(!a||!a.contains(t)){if(t){const{quote:a}=Object(v.c)(e.innerHTML,this.htmlAnnotations);this.rte.setHTML(t.innerHTML+a),this.stationeryUsed=!1}e.contentEditable=!0,e.setAttribute("contenteditable",!0)}}isStationeryUsed(){return this.stationeryUsed}handleRTEClick(e){const{target:t}=e,a=this.rte.element.querySelector(N);if(a&&a.contains(t))return;if(t.className.indexOf("btn-clear-stationery")>-1)return this.clearStationery(),this.onThemeChange(""),void this.rte.contentChanged({type:_.EDITOR_EVENTS.stationery_cleared,eventData:{sec:I.g.COMPOSE_MSG}});if(t.className.indexOf("btn-clear-default")>-1)return this.clearStationery(),this.onDefaultThemeChange(""),void this.rte.contentChanged({type:_.EDITOR_EVENTS.default_stationery_cleared,eventData:{sec:I.g.COMPOSE_MSG}});const n=this.rte.element.querySelector(y);if(n&&(n===t||n.contains(t))){n.querySelector(S).focus()}}}},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(16),c=a(15),d=a(3),m=a(0),_=a(5),u=a(13),h=a(959),p=a(11),g=a.n(p),E=a(1086),b=a.n(E),C=a(73),f=a(21),v=a(30),I=a(10),y=a(17),S=a(82),N=a(9);class T extends i.Component{constructor(e){super(e),this.timerId=0,this.timerId3p=0,this.beaconSent=!1,this.beacon3pSent=!1,this.clearTimers=this.clearTimers.bind(this),this.sendGeminiBeacon=this.sendGeminiBeacon.bind(this),this.send3pBeacon=this.send3pBeacon.bind(this),this.startTimers=this.startTimers.bind(this)}clearTimers(){this.timerId&&!this.beaconSent&&(clearTimeout(this.timerId),this.timerId=0),this.timerId3p&&!this.beacon3pSent&&(clearTimeout(this.timerId3p),this.timerId3p=0)}sendGeminiBeacon(){const{beacon:e}=this.props;Object(S.a)(e),this.beaconSent=!0}send3pBeacon(){const{staticView3p:e}=this.props;Object(S.a)(e),this.beacon3pSent=!0}startTimers(){const{duration:e,duration3p:t,staticView3p:a}=this.props;!this.timerId&&!this.beaconSent&&e>=0&&(this.timerId=setTimeout(this.sendGeminiBeacon,1e3*e)),!this.timerId3p&&!this.beacon3pSent&&t>=0&&a&&(this.timerId3p=setTimeout(this.send3pBeacon,1e3*t))}componentWillReceiveProps({isAppVisible:e}){const{isAppVisible:t}=this.props;e!==t&&(e?this.startTimers():this.clearTimers())}componentDidMount(){const{partialView:e,isAppVisible:t}=this.props;this.adTime=Date.now(),e&&Object(S.a)(e),t&&this.startTimers()}componentWillUnmount(){this.clearTimers()}render(){const{onClick:e,ctaURL:t}=this.props;return r.a.createElement("a",{rel:"noreferrer",onClick:e,className:this.props.className,href:t,target:"_blank"},this.props.children)}}T.defaultProps={duration3p:-1,continuous3p:!1,percentage3p:-1,partialView:"",staticView3p:"",className:"",onClick:()=>{}};var A=Object(u.b)(e=>{const{isAppVisible:t}=Object(N.b)(e);return{isAppVisible:t()}})(T),M=a(957),D=a(902),O=a.n(D);const k=()=>{},R=g()(b.a),x={margin:`0 ${2*I.GRID_UNIT}px 0 0`};class P extends r.a.Component{constructor(){super(),this._stopPropagation=(e=>{e.stopPropagation(),e.preventDefault()}),this._handleClose=((e,{mKey:t=_.e.COUPON_REC_CLOSED,sec:a=_.g.CPN_RECOMMENDATION,actionData:n={}}={})=>{const{onClose:s,couponRecommendationsClosed:i,cardMid:r}=this.props;this._stopPropagation(e),i({cardMid:r,i13nModel:{mKey:t,sec:a,actionData:n}}),s()}),this._handleViglinkClick=((e,{index:t,cardMid:a,clipped:n}={})=>{const{couponRecommendationsViglinkClicked:s}=this.props;s({cardMid:a,i13nModel:{mKey:_.e.COUPON_VIGLINK_CLICKED,sec:_.g.CPN_RECOMMENDATION,actionData:{index:t,cardMid:a,clipped:n}}})}),this._getCouponClipButton=(({cardMid:e,schemaId:t,clipped:a,index:n})=>{const s=g()(b.a),{clip:i,unclip:m}=this.props;return a?r.a.createElement(l.a,{className:s.buttonClipped,onClick:a=>{this._stopPropagation(a),m({cardMid:e,schemaId:t,i13nModel:{mKey:_.e.COUPON_UNCLIPPED,sec:_.g.CPN_RECOMMENDATION,actionData:{index:n}}})},"data-test-id":"unsave-coupon-btn"},r.a.createElement(c.b,{kind:d.b.SCISSORS,size:d.d.XXS,colorState:d.a.INVERTED}),r.a.createElement("span",{className:s.buttonText},r.a.createElement(o.c,{id:"coupon_card.unsave",defaultMessage:"Saved!"}))):r.a.createElement(l.a,{className:s.buttonUnclipped,onClick:a=>{this._stopPropagation(a),i({cardMid:e,schemaId:t,i13nModel:{mKey:_.e.COUPON_CLIPPED,sec:_.g.CPN_RECOMMENDATION,actionData:{index:n}}})},"data-test-id":"save-coupon-btn"},r.a.createElement(c.b,{kind:d.b.ADD,size:d.d.M,colorState:d.a.SUCCESS}),r.a.createElement("span",{className:s.buttonTextUnclipped},r.a.createElement(o.c,{id:"coupon_card.save",defaultMessage:"Save coupon"})))}),this._adChoiceClicked=((e,t)=>{e.stopPropagation(),window.open(t,"_blank")}),this._adClick=(e=>{e.stopPropagation(),this.props.couponRecommendationsAdClicked({i13nModel:{mKey:_.e.PENCIL_AD_GEMINI_CLICKED,sec:_.g.CPN_RECOMMENDATION}})}),this._getCouponAd=(({adImg:e,adSource:t,creativeId:a,clickUrl:n,callToAction:s,isBold:i,aboutAdUrl:l,adHeadline:c,rules:{viewabilityDefStatic:{c:d=!1,d:m=-1,p:_=-1}={},viewabilityDefStatic3P:[{c:u=!1,d:h=-1,p:p=-1}={}]=[]}={},actionUrls:{PARTIAL_VIEW:[E=""]=[],STATIC_VIEW_3P:[C=""]=[]}={},beacon:f=""})=>{const v=g()(b.a);return a?r.a.createElement(A,{continuous:!!d,duration:m,beacon:f,partialView:E,staticView3p:C,percentage:_,continuous3p:u,duration3p:h,percentage3p:p,onClick:e=>this._adClick(e),key:a,creativeId:a,className:v.adRowContainer,"data-test-id":"coupon-recommendations-ad-container",ctaURL:n},r.a.createElement("div",{"data-test-id":"coupon-ad-vendor"},r.a.createElement("svg",{className:v.avatar,width:I.AVATAR_SIZE_COMPACT,height:I.AVATAR_SIZE_COMPACT,viewBox:"0 0 20 20"},r.a.createElement("image",{ref:"image",xlinkHref:e,width:"20",height:"20",clipPath:"url(#clip-orb)"}))),r.a.createElement("div",{className:v.content},r.a.createElement("div",{className:v.contentRow},r.a.createElement("span",{className:v.vendorName},t),r.a.createElement("div",{rel:"noreferrer","data-test-id":"coupon-ad-sponsored",className:v.sponsored,href:l,target:"_blank",onClick:e=>this._adChoiceClicked(e,l)},r.a.createElement(o.c,{id:"coupon_card_rec_ad.sponsored_message",defaultMessage:"AD"}))),r.a.createElement("span",{className:v.description},c)),this._getAdButton({callToAction:s,isBold:i,aboutAdUrl:l,clickUrl:n})):null}),this._getAdButton=(({callToAction:e,isBold:t,aboutAdUrl:a})=>{const n=g()(b.a,{boldButton:t});return r.a.createElement("div",{className:n.couponAdButton,"data-test-id":"coupon-ad-btn"},r.a.createElement("div",{rel:"noreferrer","data-test-id":"coupon-ad-button-icon",href:a,onClick:e=>this._adChoiceClicked(e,a),target:"_blank",className:n.couponAdIconWrapper},r.a.createElement(c.b,{kind:d.b.SPONSORED,size:d.d.M,colorState:d.a.SUCCESS})),r.a.createElement("span",{className:n.buttonTextUnclipped},e||r.a.createElement(o.c,{id:"coupon_card_ad.learn_more",defaultMessage:"Learn More"})))}),this._getCouponRecommendationsItem=((e=[])=>{const{vendorIcon:t}=this.props;return e.map((a,n)=>{let{cmid:s="",schemaId:i="",description:o="",domain:l="",email:c="",expirationTime:{dateDiff:d=-1,isInferred:m}={},clipped:_=!1,isAd:u=!1,dealLink:h}=a,p=babelHelpers.objectWithoutProperties(a,["cmid","schemaId","description","domain","email","expirationTime","clipped","isAd","dealLink"]);const E=n===e.length-1||e[n+1].isAd,f=g()(b.a,{noBottomBorder:E});return u?this._getCouponAd(babelHelpers.extends({},p)):r.a.createElement("a",{href:h,target:"_blank",key:s,onClick:e=>this._handleViglinkClick(e,{cardMid:s,schemaId:i,clipped:_,index:n})},r.a.createElement("div",{className:f.rowContainer,"data-test-id":"coupon-recommendations-container"},t?r.a.createElement("div",{"data-test-id":"coupon-vendor-xavatar"},r.a.createElement(C.c,{className:f.avatar,contact:{email:c},size:C.b.C})):null,r.a.createElement("div",{className:f.content},r.a.createElement("div",{className:f.contentRow},r.a.createElement("span",{className:f.vendorName},l),r.a.createElement("span",{className:f.expirationTime},r.a.createElement(M.a,{daysUntilExpiry:d,isInferred:m}))),r.a.createElement("span",{className:f.description},o)),this._getCouponClipButton({cardMid:s,schemaId:i,clipped:_,index:n})))})}),this._goToCouponsView=(()=>{const{navigateTo:e}=this.context,{accountId:t,couponRecommendationsClosed:a,onClose:n}=this.props;a({i13nModel:{mKey:_.e.COUPONS_SMARTVIEW,sec:_.g.CPN_RECOMMENDATION}}),n(),e({route:Object(y.t)(m.td.COUPONS,{accountIds:t})})}),this.dispatchOnShow=null}componentDidMount(){this.dispatchOnShow=null}render(){const{formatMessage:e}=this.context.intl,t=e({id:"dualActionDialog.close",description:"Tooltip for a button that closes the dialog.",defaultMessage:"Close"}),{couponRecommendations:a,couponRecommendationsOpened:n,cardMid:s}=this.props;return null===this.dispatchOnShow&&(this.dispatchOnShow=O()(({couponRecommendations:e,couponRecommendationsOpened:t,cardMid:a})=>{t({i13nModel:{mKey:_.e.COUPON_REC_OPENED,sec:_.g.CPN_RECOMMENDATION,actionData:{recommendationsShown:e.filter(({isAd:e=!1})=>!e).map(({cmid:e})=>e),cardMid:a}}})})),this.dispatchOnShow({couponRecommendations:a,couponRecommendationsOpened:n,cardMid:s}),r.a.createElement("div",{className:R.dialog,"data-test-id":"coupons-rec-dialog"},r.a.createElement("div",{className:R.close},r.a.createElement(f.a,{onClick:this._handleClose,kind:d.b.CLOSE,size:d.d.XXXS,title:t,"aria-label":t,"data-test-id":"coupons-rec-close-btn"})),r.a.createElement("div",{className:R.title,"data-test-id":"coupons-rec-title"},r.a.createElement(o.c,{id:"coupon_recommendations.title",defaultMessage:"We’ve found some expiring deals you may be interested in."})),this._getCouponRecommendationsItem(a),r.a.createElement("div",{className:R.controls},r.a.createElement(l.a,{onClick:this._handleClose,style:x,"data-test-id":"coupons-rec-primary-btn"},r.a.createElement(o.c,{id:"coupon_recommendations.done",defaultMessage:"Done"})),r.a.createElement(l.a,{onClick:this._goToCouponsView,kind:v.a.SECONDARY,style:x,"data-test-id":"coupons-rec-secondary-btn"},r.a.createElement(o.c,{id:"coupon_recommendations.goToView",defaultMessage:"Go to the Deals view"}))))}}P.contextTypes={intl:o.i.isRequired,navigateTo:s.a.func},P.defaultProps={onPrimaryButtonClick:k,onSecondaryButtonClick:k,onClose:k};var w=Object(u.b)(h.c,h.d)(P),F=a(137),L=a(78),B=a(1014),H=a.n(B);a.d(t,"b",function(){return j});const U=()=>{},j=Object(o.h)({month_0:{id:"coupon_card.january",defaultMessage:"JAN"},month_1:{id:"coupon_card.february",defaultMessage:"FEB"},month_2:{id:"coupon_card.march",defaultMessage:"MAR"},month_3:{id:"coupon_card.april",defaultMessage:"APR"},month_4:{id:"coupon_card.may",defaultMessage:"MAY"},month_5:{id:"coupon_card.june",defaultMessage:"JUN"},month_6:{id:"coupon_card.july",defaultMessage:"JUL"},month_7:{id:"coupon_card.august",defaultMessage:"AUG"},month_8:{id:"coupon_card.september",defaultMessage:"SEP"},month_9:{id:"coupon_card.october",defaultMessage:"OCT"},month_10:{id:"coupon_card.november",defaultMessage:"NOV"},month_11:{id:"coupon_card.december",defaultMessage:"DEC"},sponsoredByViglink:{id:"viglink.sponsored_by_viglink",defaultMessage:"Sponsored link by Viglink"}});class W extends r.a.Component{constructor(){super(),this._getDateInfo=(()=>{const{formatMessage:e}=this.context.intl,{expirationTime:{date:t,month:a,dateDiff:n,isInferred:s}}=this.props;return{day:t,month:e(j[`month_${a}`]),dateDiff:n,isInferred:s}}),this._hideCouponRecommendations=(()=>{this.shouldShowRecommendations=!1}),this._showCouponRecommendations=(()=>{const{cmid:e,parentMessageId:t,hasRecommendations:a}=this.props;return this.shouldShowRecommendations&&a?r.a.createElement(F.a,{onOuterClick:U,onClose:this._hideCouponRecommendations},r.a.createElement(w,{cardMid:e,parentMessageId:t,onClose:this._hideCouponRecommendations})):null}),this._handleViglinkClick=(()=>{this.props.viglinkClicked({i13nModel:{mKey:_.e.COUPON_CARD_VIGLINK_CLICKED,sec:_.g.MSG_BODY,actionData:{url:this.props.dealLink?this.props.dealLink:this.props.contactLink,cardMid:this.props.cmid}}})}),this.shouldShowRecommendations=!1}render(){const{cmid:e,description:t,clipped:a,clip:n,unclip:s,theme:i,dealLink:u,contactLink:h,viglinkEnabled:p,schemaId:E,fullWidth:b}=this.props,C=g()(H.a,{theme:i,fullWidth:b}),{day:f,month:v,dateDiff:I,isInferred:y}=this._getDateInfo(),S=u||h;return r.a.createElement("div",{"data-test-id":"coupon_card",className:C.container},r.a.createElement("div",{"data-test-id":"coupon_card_date",className:C.date},r.a.createElement("div",{className:C.day},f),r.a.createElement("div",{className:C.month},v)),r.a.createElement("div",{"data-test-id":"coupon_card_info",className:C.cardInfo},r.a.createElement("div",{className:C.cardDetails},p&&S?r.a.createElement("a",{target:"_blank",href:Object(L.c)(S,m.C),title:t,rel:"noreferrer",className:C.cardDealLink,onClick:this._handleViglinkClick,"data-test-id":"viglink-anchor"},t):r.a.createElement("div",{className:C.cardDescription},t),r.a.createElement("div",{className:C.expiryTime},r.a.createElement(M.a,{daysUntilExpiry:I,isInferred:y}))),r.a.createElement("div",{"data-test-id":"coupon_card_button",className:C.buttonContainer},a?r.a.createElement(l.a,{className:C.buttonClipped,onClick:()=>{this.shouldShowRecommendations=!1,s({cardMid:e,schemaId:E,i13nModel:{mKey:_.e.COUPON_UNCLIPPED,sec:_.g.MSG_BODY}})},"data-test-id":"unsave-coupon-btn"},r.a.createElement(c.b,{kind:d.b.SCISSORS,size:d.d.XXS,colorState:d.a.INVERTED}),r.a.createElement("span",{className:C.buttonText},r.a.createElement(o.c,{id:"coupon_card.unsave",defaultMessage:"Saved!"}))):r.a.createElement(l.a,{className:C.buttonUnclipped,onClick:()=>{n({cardMid:e,schemaId:E,i13nModel:{mKey:_.e.COUPON_CLIPPED,sec:_.g.MSG_BODY},recommendations:!0}),this.shouldShowRecommendations=!0},"data-test-id":"save-coupon-btn"},r.a.createElement(c.b,{kind:d.b.ADD,size:d.d.M,colorState:d.a.SUCCESS}),r.a.createElement("span",{className:C.buttonTextUnclipped},r.a.createElement(o.c,{id:"coupon_card.save",defaultMessage:"Save coupon"}))))),this._showCouponRecommendations())}}W.contextTypes={intl:o.i.isRequired},W.defaultProps={hasRecommendations:!1};t.a=Object(u.b)(h.b,h.d)(W)},function(e,t,a){"use strict";var n=a(29),s=a(60);const i={GRADIENT_COLOR_1:"--gradient-color1",GRADIENT_COLOR_2:"--gradient-color2",GRADIENT_COLOR_3:"--gradient-color3",HIGHLIGHT:"--highlight",COMPOSE_BUTTON_COLOR:"--compose-btn-color",SEGMENT_BORDER_COLOR:"--segment-border-color",SEGMENT_BACKGROUND_COLOR:"--segment-bgcolor",SEGMENT_HOVER_COLOR:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR:"--folder-actived-bg-color",FOLDER_HOVERED_BACKGROUND_COLOR:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER:"--folder-actived-border",ITEM_SELECTED_BGCOLOR:"--item-selected-bgcolor",ITEM_HOVERED_BGCOLOR:"--item-hovered-bgcolor",PREVIEWR_TOOLBAR_COLOR:"--previewr-toolbar",CLIP_BUTTON_COLOR:"--clip-btn-color",BG_BACKGROUND_COLOR:"--bg-background-color",BACKGROUND_COLOR:"--bg-color",BACKGROUND_SIZE:"--bg-size",MAX_BACKGROUND_SIZE:"--max-bg-size",BACKGROUND_REPEAT:"--bg-repeat",BACKGROUND_REPEAT_IMAGE:"--bg-repeat-img",BACKGROUND_REPEAT_IMAGE_SIZE:"--bg-repeat-img-size",BACKGROUND_REPEAT_IMAGE_POSITION:"--bg-repeat-img-position",BACKGROUND_IMAGE:"--bg-img"},r={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",SEGMENT_BORDER_COLOR_PARTNER_DARK:"--segment-border-color",SEGMENT_BACKGROUND_COLOR_PARTNER_DARK:"--segment-bgcolor",SEGMENT_HOVER_COLOR_PARTNER_DARK:"--segment-hover-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"},o={COMPOSE_BUTTON_COLOR_PARTNER_DARK:"--compose-btn-color",FOLDER_ACTIVED_BACKGROUND_COLOR_PARTNER_DARK:"--folder-actived-bg-color",FOLDER_HOVERD_BACKGROUND_COLOR_PARTNER_DARK:"--folder-hovered-bg-color",FOLDER_ACTIVED_BORDER_PARTNER_DARK:"--folder-actived-border"};a(3);a.d(t,"a",function(){return d});const l=function(e){return Object.keys(e).reduce((t,a)=>{return`${t}${a}:${e[a]};`},"")};function c({themeInput:e,themeModeInput:t,Themes:a=n.g}){let s=e;Object.keys(a).indexOf(e)<0&&(s=a.DEFAULT);let i=t;return!Object.keys(n.f).indexOf(t)<0&&(i=n.f.LIGHT),{theme:s,themeMode:i}}const d=function(e,t){const{theme:a,themeMode:d}=c({themeInput:e,themeModeInput:t}),m=function(e,t){if(Object(n.l)(e))switch(t){case n.f.LIGHT:return i;case n.f.MEDIUM:return babelHelpers.extends({},i,o);case n.f.DARK:return babelHelpers.extends({},i,r)}return i}(a,d),_={};return Object.keys(m).forEach(e=>{_[m[e]]=n.h[a][e]}),_[i.BACKGROUND_IMAGE]=Object(n.j)(n.h[a],s.a),_[i.BACKGROUND_REPEAT_IMAGE]=n.h[a].BACKGROUND_REPEAT_IMAGE?`url(${Object(s.a)(n.h[a].BACKGROUND_REPEAT_IMAGE)})`:"none",`:root {${l(_)}}`}},function(e,t,a){"use strict";var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(137),c=a(21),d=a(91),m=a(15),_=a(16),u=a(207),h=a(261),p=a(63),g=a(57),E=a(40),b=a(12),C=a(10),f=a(13),v=a(9),I=a(140),y=a(55),S=a(7),N=a(0);var T=Object(f.b)((e,{messageId:t,listId:a})=>{const{doesMessageIdExist:n,getMessageSnippet:s,getMessageSubject:i,getAttachmentsByMessageId:r,getMessageFlags:o}=Object(v.b)(e),l=n(t),c=r(t);return{isLoaded:l,flags:l?o(t):{},attachments:c,contentType:Object(S.q)(a),subject:l?i(t):"",snippet:l?s(t):""}},(e,{listId:t,onClose:a})=>{const n=Object(y.a)([t]);return{onCancel:({i13nModel:t})=>{e(Object(I.g)({i13nModel:t})),a()},onDeleteMessage:({i13nModel:s,groupId:i,messageId:r})=>{e(Object(I.a)({conversations:!1,streamId:n,i13nModel:s,streamItem:{id:i,messageIds:[r],listId:Object(S.Q)(t,{listContentType:N.Db.MESSAGES}),isAffected:!0},triageActionType:N.Pd.DELETE_SELECTED_ITEMS})),a()}}}),A=a(30),M=a(17),D=a(56),O=a(14),k=a(5),R=a(3),x=a(1129),P=a.n(x),w=a(11);const F=a.n(w)()(P.a),L=Object(o.h)({delete_message_warning:{id:"delete_preview.delete_message_warning",defaultMessage:"Delete the message containing this {contentType, select,\n            IMAGES {photo}\n            DOCUMENTS {document}\n            other {attachment}\n        }?"},delete_message_button:{id:"delete_preview.delete_message_button",defaultMessage:"Delete message"},delete_warning_tooltip:{id:"delete_preview.delete_warning_tooltip",defaultMessage:"To delete this {contentType, select,\n            IMAGES {photo}\n            DOCUMENTS {document}\n            other {attachment}\n        }, the message it’s attached to and any other attachments below must also be deleted."},view_original:{id:"delete_preview.view_message",defaultMessage:"View original message"},cancel:{id:"confirm.cancel",defaultMessage:"Cancel"},close:{id:"confirm.close",defaultMessage:"Close"},info:{id:"confirm.info",defaultMessage:"Information"}});class B extends r.a.Component{constructor(...e){var t;return t=super(...e),this.handleDeleteMessage=(e=>{e.stopPropagation(),this.props.onDeleteMessage({i13nModel:{interactionType:Object(O.i)(e),mKey:this.props.contentType===N.Db.IMAGES?k.e.PHOTO_MESSAGE_DELETE:k.e.DOC_MESSAGE_DELETE,sec:this.props.contentType===N.Db.IMAGES?k.g.PHOTO_LIST:k.g.DOC_LIST},messageId:this.props.messageId,groupId:this.props.groupId})}),this.handleClose=(e=>{e.stopPropagation(),this.props.onCancel({i13nModel:{interactionType:Object(O.i)(e),mKey:this.props.contentType===N.Db.IMAGES?k.e.PHOTO_DELETE_PREVIEW_CLOSE:k.e.DOC_DELETE_PREVIEW_CLOSE,sec:this.props.contentType===N.Db.IMAGES?k.g.PHOTO_LIST:k.g.DOC_LIST}})}),this.navigateToMessage=(e=>{e.stopPropagation(),e.preventDefault();const{listId:t,groupId:a,messageId:n}=this.props,s=Object(M.n)(t,a);this.context.navigateTo({hashParams:{messageId:n},route:s,i13nModel:{interactionType:Object(O.i)(e),mKey:this.props.contentType===N.Db.IMAGES?k.e.PHOTO_DELETE_PREVIEW_READ_MSG:k.e.DOC_DELETE_PREVIEW_READ_MSG,mKeyGroup:k.f.open_msg,sec:this.props.contentType===N.Db.IMAGES?k.g.PHOTO_LIST:k.g.DOC_LIST}}),this.props.onClose()}),this.renderAttachments=(()=>{const{attachments:e,subject:t}=this.props;return e&&e.length?r.a.createElement(h.a,{attachments:e,readOnly:!0,allowDownload:!1,mayContainVirus:!1,message:{headers:{subject:t}},onAttachmentPreview:this.navigateToMessage,shouldShowSpamAttachmentWarning:!1,allowInline:!0,isCompact:!0}):null}),t}render(){const{formatMessage:e}=this.context.intl,t={margin:"16px 8px 16px 0"},{isLoaded:a,subject:n,snippet:s,flags:i,contentType:o}=this.props;return r.a.createElement(l.a,{onClose:this.handleClose},r.a.createElement("div",{className:F.container,"data-test-id":"delete-preview-dialog"},r.a.createElement("div",{className:F.header},r.a.createElement("div",{className:F.heading},r.a.createElement(m.b,{kind:R.b.EXCLAMATION_ALT,size:R.d.XS,colorState:R.a.WARNING,title:e(L.close),"aria-label":e(L.close)}),r.a.createElement("div",{className:F.title,"data-test-id":"title"},e(L.delete_message_warning,{contentType:o})),r.a.createElement("div",{className:F.info},r.a.createElement(p.a,{className:F.popoverContainer},r.a.createElement(g.a,null,r.a.createElement("div",{className:F.popoverAnchor},r.a.createElement(d.a,{kind:R.b.INFO,size:R.d.XS,colorStates:{normal:R.a.SECOND_LEVEL_GRAY,hovered:R.a.TOUCH_PRIMARY},"aria-label":e(L.info),paddingLess:!0}))),r.a.createElement(E.b,{permittedArrowDirections:[b.g.UP],isArrowVisible:!0,triggerOn:b.h.HOVER,align:b.a.START,zAltitude:C.ZIndices.MODAL,offset:12},r.a.createElement("div",{className:F.tooltip},e(L.delete_warning_tooltip,{contentType:o})))))),r.a.createElement("div",{className:F.close},r.a.createElement(c.a,{onClick:this.handleClose,kind:R.b.CLOSE,size:R.d.XS,title:e(L.close),"aria-label":e(L.close),"data-test-id":"close-btn"}))),r.a.createElement("div",{className:F.messageContent,"data-test-id":"mail-content"},a?r.a.createElement("div",{className:F.content},r.a.createElement("div",{className:F.subject,"data-test-id":"subject"},n),r.a.createElement("div",{className:F.msgHeader},r.a.createElement(u.a,{conversations:!1,message:{id:this.props.messageId,flags:i},expanded:!0,idx:0,onToggleRead:()=>{},onToggleStar:()=>{},isOnModal:!0,onAttachmentClick:()=>{}})),r.a.createElement("div",{className:F.snippet,"data-test-id":"snippet"},s),r.a.createElement("div",{className:F.attachments},this.renderAttachments())):r.a.createElement("div",{className:F.spinner},r.a.createElement(D.b,null))),r.a.createElement("div",{className:F.controls},r.a.createElement("div",{className:F.buttonContainer},r.a.createElement(_.a,{onClick:this.handleDeleteMessage,style:t,"data-test-id":"delete-btn"},e(L.delete_message_button)),r.a.createElement(_.a,{onClick:this.handleClose,kind:A.a.SECONDARY,style:t,"data-test-id":"cancel-btn"},e(L.cancel))),r.a.createElement("div",{className:F.viewMessageContainer},r.a.createElement("a",{onClick:this.navigateToMessage,className:F.viewMessage,"data-test-id":"view-link"},e(L.view_original))))))}}B.contextTypes={intl:o.i.isRequired,navigateTo:s.a.func.isRequired};t.a=T(B)},function(e,t,a){"use strict";e.exports={className:{default:{container:"ab_C D_F F_ZmdwxM M_2qs2uB K_n P_6Eb4",svgStyle:"H_7iGr E_6Fd5 W_7iGr",cardDetails:"F_Z2uTegI o_h N_6Eb4",cardDescription:"C_Z1VRpVF i_6FIA o_h G_e J_N",cardTitle:"u_b i_6EWk U_eo6 K_6UbO o_h",boldGray:"C_Z1VRpVF u_b",icon:"H_7iGr W_7iGr"}},_key:"Z11JBRI"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R q_Z281SGl r_P e_dRA",stretchedBox:"ir_n M_0 P_0 b_0 H_6D6F W_6D6F p_a o_h"}},_key:"2a2gv"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_6D6F m_Z14vXdP k_w D_F je_6MGW X_6MGW N_6LEV H_7bcz en_0 p_R",closeWrapper:"p_R B_fq7",categoryFilterContainer:"r_P I_ZnIF8Y e_dRA H_6D6F P_Zl3sKS U_fq7 D_F ab_C p_R B_fq7",categoryFilterHeader:"M_82XEY E_A y_Z2uhb3X A_6EqO W_3rui8 J_x G_e o_h",checkMark:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",channelTab:"W_3rv4o X_6LEV J_x G_e o_h"}},_key:"7vA6H"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6D6F D_F ek_BB I_52qC",contentContainer:"p_R iz_FF H_1HKkit",videoContainer:"M_1EAG48 D_B W_3DVPV H_3rRhf cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy",header:"t_C A_6FsP y_12BoOJ C_Z281SGl Y_6MGW U_6LEV I_52qC",subHeader:"A_6EqO C_Z1VRpVF W_3vVYr Q_A E_A Y_eTB"},videoHidden:{subHeader:"C_Z2aVTcY C4_Z29WjXl r4_P",header:"Y_7sfl H_1HKkit"},aolVideoPlayer:{videoContainer:"W_3HK1R H_3vNsy cZ1YE9Aj_3HK1R cZ1YE9Ay_3vNsy"}},_key:"p6BJF"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_f T_0 R_0 B_0 L_0 q_ajRa9 D_F",button:"E_6Eb4"},"themeMode-MEDIUM":{container:"q_sgPuT"},"themeMode-DARK":{container:"q_sgPuT"},modalStyle:{container:"q_sgPwq"}},_key:"1XW5Xb"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"z_Z14vXdP P_1v4Bxs",heading:"A_6FsP u_e69 U_fq7",subheading:"A_6EqO jb_fq7",item:"D_F Y_fq7 ab_C",itemIconContainer:"p_R o_h e_6UbO W_6UbO H_6UbO E_fq7",itemIconCheck:"W_6UbO H_6UbO D_F ab_C gl_C I_Z287E9E p_a Z_N",itemIcon:"W_6UbO H_6UbO p_a ba_BH",itemDetails:"A_6EqO em_N",itemEmail:"C_Z1YRXYn",itemName:"C_Z281SGl u_b",itemSubscribeFailedContainer:"D_F ek_BB ab_CH en_0",itemSubscribeContainer:"D_F ab_C en_0",itemSubscribeLink:"X_6Eb4 u_N C_Z2aVTcY r_P",itemSubscribeFailedIcon:"D_X E_eo6 V_M",itemSubscribeFailedText:"C_Znn46r",tcText:"A_6DUj C_Z1VRpVF je_6Fd5",tcItemSubscribeLink:"u_dPo A_6DUj C_Z2aVTcY r_P"}},_key:"Zk23GA"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_ZVJJuR M_0 o_h a_3s8Nv",header:"D_F gl_FM i_6LEV W_3rSz1",headerText:"A_6EqO u_b P_Z1yLCgE",close:"p_a R_eo6 T_eo6",body:"A_6Eb4 P_Z1yLCgE C_Z1YRXYn",coloredBar:"W_fq7 p_a L_0 T_0 B_0"},ATT:{coloredBar:"I_Z2dxrGx"},FRONTIER:{coloredBar:"I_Z1A0QhA"},ROGERS:{coloredBar:"I_Z21W7Hh"},BT:{coloredBar:"I_Z20SNAa"},SKY:{coloredBar:"I_Z2dycH0"},DEFAULT:{coloredBar:"I_Z2aVTcY"},SUNRISE:{coloredBar:"I_ZmlXUP"},AQUA_GREEN:{coloredBar:"I_Z1UHURv"},AQUA_BLUE:{coloredBar:"I_Z280Xf5"},DEEP_PURPLE:{coloredBar:"I_Zwa5YI"},BLUE_NIGHT:{coloredBar:"I_Z21zYBA"},NIGHT_LANDSCAPE:{coloredBar:"I_Z1UEcsX"},ROADTRIP:{coloredBar:"I_ZrkPvI"},SUNSET_AUSSIE:{coloredBar:"I_ZmlXUP"},LIGHTHOUSE:{coloredBar:"I_Z1VDTK1"}},_key:"BLJGB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_Zx4FOE M_0 o_h D_F",animation:"aw_Zcaf9J az_DW ba_BE H_73cc N_0 E_eo6 Y_68F4 W_73HH",header:"W_3rui8",headerText:"A_6EqO u_b i_6FIA",bodyText:"A_6Eb4 P_Z2rzEzV C_Z1YRXYn i_6FIA",close:"p_a R_0 T_0"}},_key:"ZaXPpu"}},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",form:"b_efTvb",layoutOptions:"Y_6Fd5 Q_fq7",msgListDensityOptions:"Y_72FG",previewOptions:"Y_72FG",settingControl:"M_1NXh2I",header:"D_F",name:"M_0 D_F u_b i_6FIA",toggleBtn:"Q_A",hint:"C_Z1VRpVF i_6EGz A_6DUj"},liteVersion:{form:"P_Z1StkHV",layoutOptions:"Y_6Eb4 Q_0",msgListDensityOptions:"Y_6MGW",previewOptions:"Y_6MGW",settingControl:"M_1tDEvS",blurredContainer:"cZ1UAA4K_n",expandButtonContainer:"aw_Z16Embo p_a D_F gl_C o_h W_3v1qi H_6Fd5 je_6MGW Q_36RhU",expandButton:"D_F gl_C B_69bz",name:"M_0 D_F u_b i_6FIA N_6Fd5 o_h G_e"}},_key:"GRhja"}},function(e,t,a){"use strict";e.exports={className:{default:{themeChooser:"hd_n P_0 D_F ab_C eo_HB M_1VPfch",themeDotContainer:"A_0 b_tw30f e_6D6F H_6UbO P_e8l U_6Eb4 E_eTB",themeDot:"D_X W_6UbO H_6UbO e_6D6F r_P ba_BH ay_C cZPx57W_l",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"},selected_true:{themeDotContainer:"E_3qHvC cZ1UAA4J_eTB b_Z1dQEKn"},selected_false:{themeDotContainer:"b_Z1dQEKn"},liteVersion:{themeChooser:"M_Z1eDWt9 W_A",themeDotContainer:"E_3qHvC cZ1UAA4J_eTB"},cueMode:{themeChooser:"hd_n P_0 D_F ab_C eo_x M_829jJ",themeDotContainer:"H_6VJl",themeDot:"W_6VJl H_6VJl"}},_key:"Z1Y5uPm"}},function(e,t,a){"use strict";e.exports={className:{default:{themeModeChooser:"hd_n P_1Bs8Qs D_F gl_FM M_Z27rj8q W_3rRhf",themeModeBorderedContainer:"A_0 b_Z1dQEKn e_eo6 P_e8l",themeMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_4ssuT ab_CH gl_C r_P ay_C",themeModeLIGHT:"I_52qC D_X z_Z1a7UWG H_6VdP W_6D6F",themeModeMEDIUM:"I_52qC D_X z_Z1a7UWG H_6VdP W_73HH n_Z1a7UWG x_Z1a7UWG",themeModeDARK:"O_0",cueLabelTextContainer:"D_F gl_C ab_C Y_eo6 i_6FIA",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy W_6FIA H_6FIA r_P D_F ac_FO",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",label:"r_P a_7ceA G_e o_h"},liteVersion:{themeModeChooser:"M_Z26RiTK W_A"},selected:{labelTextContainer:"u_e69",cueLabelTextContainer:"u_e69 Y_dBP"},cueMode:{themeModeChooser:"P_0 U_6Fd5",themeModeContainer:"A_0 b_tw30f e_eo6 P_e8l",chooser:"Y_68F4",label:"a_n"},theme_ATT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_ZvJQac ab_CH gl_C r_P ay_CS ba_BH"},theme_FRONTIER:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z21mNgp ab_CH gl_C r_P ay_CS ba_BH"},theme_ROGERS:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_cqhYR ab_CH gl_C r_P ay_CS ba_BH"},theme_BT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_fyCuS ab_CH gl_C r_P ay_CS ba_BH"},theme_SKY:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_2i3i9C ab_CH gl_C r_P ay_CS ba_BH"},theme_DEFAULT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1oGKIG ab_CH gl_C r_P ay_CS ba_BH"},theme_SUNRISE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_j5A3N ab_CH gl_C r_P ay_CS ba_BH"},theme_AQUA_GREEN:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1TaR3H ab_CH gl_C r_P ay_CS ba_BH"},theme_AQUA_BLUE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_lYTmB ab_CH gl_C r_P ay_CS ba_BH"},theme_DEEP_PURPLE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z2r9M2j ab_CH gl_C r_P ay_CS ba_BH"},theme_BLUE_NIGHT:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_ZhWBiv ab_CH gl_C r_P ay_CS ba_BH"},theme_NIGHT_LANDSCAPE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_1EcdPV ab_CH gl_C r_P ay_CS ba_BH"},theme_ROADTRIP:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z29MWQS ab_CH gl_C r_P ay_CS ba_BH"},theme_SUNSET_AUSSIE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_Z1FJaQI ab_CH gl_C r_P ay_l ba_Z2qIBs0"},theme_LIGHTHOUSE:{themeModeChecked:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_ZnIF8Y aw_DHTjP ab_CH gl_C r_P ay_CS ba_BH"}},_key:"Z1iK24z"}},function(e,t,a){"use strict";e.exports={className:{default:{msgListDensityModeChooser:"hd_n P_1Bs8Qs D_F gl_FM Y_6Fd5 U_6UbO W_3rRhf",msgListDensityMode:"D_F e_dRA b_Z1a7UWG W_7sfl H_7bcz I_52qC ab_CH gl_C r_P o_h",blockContainer:"H_6UHk W_7bcz ac_C",msgListDensitySLIM:"D_B b_n l_T e_dRA H_fq7 I_ZnIF8Y U_eDQ Y_0",msgListDensityNORMAL:"D_B b_n l_T e_dRA H_6EqO I_ZnIF8Y U_fq7 Y_0",msgListDensityRELAXED:"D_B b_n l_T e_dRA H_6FIA I_ZnIF8Y Y_fq7 U_fq7",labelTextContainer:"D_F gl_C ab_C Y_6DEy i_6FIA a_7sKQ",radioButton:"M_Z1oluSy W_6FIA H_6FIA r_P D_F ac_FO",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",label:"r_P a_7ceA G_e o_h"},selected:{labelTextContainer:"u_e69"},liteVersion:{msgListDensityModeChooser:"Y_0 U_0 W_A"}},_key:"1RVbtq"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC b_Z14vXdP k_w",header:"M_0 P_1UqJXO A_6EqO C_Z1Xxgu0",retailers:"ha_n M_1Eu7sD D_F P_0",deals:"ha_n M_Z24zbI0 P_0 K_7Ig6 o_h",retailer:"W_7He5 H_7He5 D_F ek_BB gl_C ab_C b_Z14vXdP e_dRA E_eo6 E8_0 r_P",retailerName:"A_6DUj i_6Fd5 u_b t_C K_6UbO o_h y_12BoOJ",deal:"i_6MGW I_ZnIF8Y D_X A_6EqO P_3gIMd M_Z2rzDxU a_e5X G_e J_x o_h V_AP",recentSearches:"ha_n M_Z24zbI0 P_0",recentSearch:"D_F ab_C H_74JI r_P I4_2iedUU",searchIcon:"E_6Fd5"}},_key:"GYwtM"}},function(e,t,a){"use strict";e.exports={className:{default:{buttonContainer:"D_F gl_CH ab_C",searchBtnWrapper:"M_0",resetBtnWrapper:"E_6LEV"}},_key:"Z1gRdlz"}},function(e,t,a){"use strict";e.exports={className:{default:{checkboxContainerWrapper:"U_6Fd5",checkboxGroupLabelWrapper:"P_3Y3Gk m_Z14vXdP",checkboxGroupLabel:"A_6EqO C_Z281SGl u_b",checkboxWrapper:"D_F ab_C H_6VdP I4_1I4yPF",checkboxLabel:"A_6EqO C_Z281SGl",checkboxButton:"E_eo6 it_68F4"},checkboxSelected:{checkboxWrapper:"I_1I4z5p I4_1I4z5p"}},_key:"2Tpip"}},function(e,t,a){"use strict";e.exports={className:{default:{pills:"k_w D_F ab_C W_6D6F p_R r_P H_6D6F",pillOuter:"D_F ac_C en_0",pillsContainer:"hd_n em_N el_EZ D_F M_0 P_3HLUz ir_0",pillsContainerChild:"em_N o_h D_F",typeahead:"ac_C W_6D6F",typeaheadInput:"A_6EqO y_Z2uhb3X C_Z281SGl k_w b_0 W_6D6F H_6VdP P_3gJOe I_T ir_n p_R Z_N",typeaheadInputContainer:"p_R",suggestionDropdown:"W_6D6F Z_6D6Q I_52qC k_w ha_n L_0 T_6UHk M_0 P_Z2rzFgL b_Z14vXdP e_dRA j_Zm8rYD p_a o_A",typeaheadInputHint:"A_6EqO y_Z2uhb3X C_ZvsWfq k_w b_0 W_6D6F H_6VdP P_3gJOe I_T ir_n Z_0 p_a q_T L_0"}},_key:"DRigK"}},function(e,t,a){"use strict";e.exports={className:{default:{dateFieldWrapper:"D_F ab_AJ U_6Eb4",dateRangeWrapper:"Y_6Eb4",selectbox:"W_6D6F",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7"}},_key:"q1Lgx"}},function(e,t,a){"use strict";e.exports={className:{default:{dateWrapper:"D_F ab_C gl_FM",datepicker:"W_3niBz"}},_key:"1KKfoQ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3A1b8 q_52qC D_F ek_BB eo_x ab_C e_eo6 p_f T_fq7 R_fq7",close:"ac_CH H_6EqO W_6Eb4 h_Z1kaEH9",heading:"y_Z2uhb3X A_6EWk i_6Mbr W_3vxrN ab_C u_e69 t_C U_6Fd5",subHeadingText:"D_B",description:"y_Z2uhb3X A_6EqO i_6FIA W_3vGuc C_Z1YRXYn t_CY U_6LEV",headerSection:"D_F gl_C ek_BB Y_6Eb4 U_fq7",feedbackContainer:"U_6MGW t_C",feedbackLink:"C_Z2aVTcY",upsellOptionLink:"C_Z2aVTcY u_b r_P",adblockUpsellBtnContainer:"U_6LEV"},pageTwoUi:{description:"W_3w5L5 U_eo6",adblockUpsellBtnContainer:"D_F U_6MGW",whitelistStepContainer:"D_F U_6Fd5",stepCountContainer:"y_Z2uhb3X A_6EqO C_Z281SGl t_C u_b",stepDetailContainer:"W_3vpHb Q_6Eb4 y_Z2uhb3X A_6EqO C_Z1YRXYn t_CY i_6FIA",boldText:"u_b C_Z281SGl",footerText:"U_6LEV y_Z2uhb3X A_6EqO C_Z1YRXYn t_C i_6FIA"},centerDescriptionText:{description:"t_C"}},_key:"Z2aBqwC"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R I_52qC e_eo6",close:"H_6EqO W_6Eb4 h_Z1kaEH9 p_a T_0 R_0 Z_N",imageWrapper:"D_F gl_C",imageBackground:"D_F W_3vqYW gl_C",thinkingEmoji:"H_7yHc",thankYouContainer:"D_F ab_C I_52qC ek_BB W_3zmEK e_dRA",thankYouHeaderContainer:"ab_C t_C je_6LEV jb_7bcz",thankYouImage:"Y_72FG",thankYouHeader:"A_6EWk u_b",thankYouSubHeader:"A_6Eb4 je_eo6",adContainer:"D_F H_7iGr A_6Eb4 gl_FM",adDetails:"D_F",adImage:"D_F ab_C M_1Eu7sD",adDescription:"D_F ek_BB gl_C a_3A1b8 o_h",cta:"b_n C_52qC P_1JNv2M M_1e3IG8 I_ZamTeg e_dRA D_F ab_C",adIcon:"A_6DEy I_ZxFlP3 u_b b_0 r_P Q_fq7 P_3gIgH C_52qC",adSource:"u_b",adHeadline:"C_ZxFlP3"}},_key:"Z2o37rS"}},function(e,t,a){"use strict";e.exports={className:{default:{helpUrlContainer:"je_fam",helpUrl:"C_Z2aVTcY"}},_key:"QaE6B"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3MdeG d_3EmpA q_Z1ryveK D_F ek_BB eo_x ab_C e_eo6",header:"q_ZR1uyF e_C04i4",close:"ac_CH H_dm5 W_dm5 h_Z1kaEH9",headerImg:"q_Z4ViiF ba_Z2fG6XF H_3nOD5 W_3Lqsb P_1zAauG e_C04i4 cZ1wD64L_Z1MDPo3",heading:"je_6LEV A_6TFj u_b i_6VdP",description:"je_6DEy A_6FsP i_6MGW X_6LEV N_6LEV",separator:"W_6D6F d_eTB q_2aMzKt ba_6D6F h_ZQwKon",taskPanel:"D_F ek_EZ ab_C H_3nOnk M_tmjsk",panelText:"A_6EqO u_e69 C_Z1Vxdfo Y_6DEy t_C",task:"D_F ek_BB ab_C E_7rIP",themeTaskImg:"aw_Z5EfUP az_DW ba_BE H_3niBz W_3nj85 cZ1O4M9E_Z1eX9zc",notificationsTaskImg:"aw_uQqtx az_DW ba_BE H_3niBz W_3nj85 cZ1O4M9E_Z26AiBs",imapTaskImg:"aw_ZEgcLN az_DW ba_BE H_3niBz W_3nj85 cZ1O4M9E_Z1IP27f",skipBtn:"r_P A_6EqO C_Z2aW2JT i_6MGW M_UlG8b"},"partner-ATT":{headerImg:"q_Z1ecfY cZ1wD64L_1eYSnp"},"partner-FRONTIER":{headerImg:"q_Z2tBJGm cZ1wD64L_Z2jEAWD"},"partner-ROGERS":{headerImg:"q_2npMkq cZ1wD64L_27b98K"},"partner-BT":{headerImg:"q_Z1X8WM1 cZ1wD64L_Z26y0Jw"},"partner-SKY":{headerImg:"q_2nMjrx cZ1wD64L_WOo4R"}},_key:"8Yunl"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"D_F ek_BB W_3v9Wb H_A gl_C ab_C je_6Eb4 jb_6LEV X_6VdP N_6VdP I_52qC t_C",close:"ac_CH h_Z2wK9kJ cdPFi4_Z2aVTcY",image:"W_3rv4o H_7bI5 aw_11T0x2 ba_93CzH az_DW",header:"A_6FsP mq_AQ u_N D_F ek_BB ab_C i_6Mbr Y_6MGW U_6Fd5 gp_1Fqk81",description:"U_6VdP i_6LEV A_6EqO C_Z1VRpVF",tryButton:"r_P mq_AQ d_6VdP W_3v9Wb e_dRA",cancelButton:"r_P mq_AQ d_6VdP W_3v9Wb Y_eo6 C_Z2aVTcY"}},_key:"ZwSHJU"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_a T_0 L_e5X h_Z1ffcnk Y_7zJd Z_7G9R I_eQoim b_2fA7lL e_e8l",imageContainer:"X_6FIA jb_6FIA N_6FIA",closeWrapper:"f_r",infoContainer:"a_3vHwd N_6FIA A_6EWk u_e69 C_Z281SGl i_6FIA",messageContainer:"X_6FIA"}},_key:"riGj1"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC W_6D6F D_F ek_BB gl_C p_f B_69H5 L_0 R_0 H_3vasG",close:"p_a T_6Fd5 R_6Fd5",separator:"q_5ooIw ba_93CzH W_6D6F H_eTB",content:"q_Z2bBkdL C_Z281SGl H_3v3uk W_6D6F",heading:"P_Z2wNDYJ A_6LEV u_e69 i_6MGW D_F gl_C",description:"D_F gl_C C_Z1VRpVF A_6Fd5 u_dPo i_6LEV",settingCover:"D_F gl_C",settings:"P_0 W_3vzvP",buttonContainer:"u_b D_F gl_C W_6D6F p_a B_6NIX"},animated:{container:"ah_1GGYdE"}},_key:"PFMqe"}},function(e,t,a){"use strict";e.exports={className:{default:{link:"C_Z2aVTcY"}},_key:"Z13ntBJ"}},function(e,t,a){"use strict";e.exports={className:{default:{earnyDialog:"D_F W_3DVPV H_3v1qi I_52qC",leftLayout:"em_N D_F el_BB ab_C",closeButton:"Q_3D9NF Y_6DEy",earnyDialogHeader:"u_b A_6FsP i_6MGW jb_fq7"}},_key:"1cbpXO"}},function(e,t,a){"use strict";e.exports={className:{default:{dialog:"W_3vNsy I_52qC D_F ek_BB e_eTB gl_C ab_C jb_6Eb4",close:"ac_CH M_C04i4",imgContainer:"D_F ab_C Y_6LEV U_6Fd5",logo:"H_7Ig6 W_7Ig6 e_e5X",inputContainer:"D_F F_N s_6D6F k_w M_1Eu7sD",inputField:"q_T H_6MGW em_N A_6LEV jw_n y_Z2uhb3X b_n t_C ir_n cZ2ocs2w_cMr",policy:"A_6EqO C_Z1VRpVF M_1Eu7sD t_C",error:"C_ZnTFMv A_6EWk u_e69 M_nqdUE",noError:"v_h M_nqdUE",registrationInfo:"M_Z1xuDWa t_C C_Z1VRpVF",errorInfo:"M_Z1xuDWa t_C C_ZnTFMv",noInfo:"v_h",overlayContainer:"W_0",overlay:"W_7Ig6 H_7Ig6 h_ZDQxMr q_Z1WGv5u O_6uA1 e_e5X"}},_key:"10XaOB"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3HSxK H_3DqAG q_52qC D_F ek_BB eo_x ab_C e_eo6",header:"q_Z1IpxNS e_C04i4 W_3HSxK H_3rmxv",close:"ac_CH H_dm5 W_dm5 h_Z1kaEH9",yahoologo:"W_3mS2U H_6VtA",listv2:"je_73cc X_7bI5",textv2:"D_B H_6FIA y_2q13n9 A_6EqO u_b C_52qC",srlogo:"W_3nFkV H_6TV4 X_eo6",list:"jb_fq7",textImg:"X_3nNlj je_6LUG",truck:"f_l W_3naQW H_7sfl im_BE N_6UX5",toplogo:"je_6LEV W_3Hmwf H_3n25j im_BE I_52qC",heading:"je_6MGW u_e69 W_3o5DP H_6MGW y_2q13n9 t_C A_6FsP",images:"X_3nVRc je_72FG",description:"je_6DEy A_6FsP i_6MGW",text:"X_3ny6O D_B jb_eo6 H_6FIA y_2q13n9 A_6EqO u_b C_52qC",panelText:"A_6DUj u_e69 C_Z1Vxdfo Y_6DEy",notNowBtn:"W_3n2AO H_6VdP r_P A_6EqO C_Z2aW2JT i_6MGW f_r je_6MGW u_b"},srVariant2:{textImg:"X_3r6h0 je_dRA",truck:"f_l W_3naQW H_7sfl im_BE X_6Eb4"}},_key:"Q8ffp"}},,function(e,t,a){"use strict";e.exports={className:{default:{resultsContainer:"H_3s2lE X_6LEV N_6LEV o_A",loadingContainer:"D_F gl_C ab_C H_q",results:"F_1Gydiz ac_CI",peopleName:"C_Z281SGl A_6EqO i_6MGW D_F",emailText:"o_h G_e J_x C_Z1Xxgu0 A_6EqO i_6MGW",avatarContainer:"D_F ab_C P_1Eu6qC",emailNameContainer:"o_h F_N D_F gl_C aa_C ek_BB",contact:"W_6D6F b_n r_P t_l o_h q_T i_6VdP A_6EqO p_R H_74JI q4_2iedUU",contactSelected:"W_6D6F b_n r_P t_l o_h q_2ieeaE i_6VdP A_6EqO p_R H_74JI q4_2iedUU",highlighteredText:"u_b",highlighteredTextContainer:"o_h G_e J_x",noAvailable:"A_6FsP C_Z1Xxgu0",listItemContainer:"D_F H_q",checkboxWrapper:"D_F gl_C ab_C"}},_key:"Z1F9UU3"}},function(e,t,a){"use strict";e.exports={className:{default:{searchContainer:"P_Z1Ve0sQ",header:"C_Z281SGl A_6FsP u_b U_eo6",searchInput:"A_6EqO C_Z281SGl F_P I_ZnIF8Y H_6UbO b_0 Z_N li_6UbO W_6D6F p_R T_0 L_0 e_dRA",listDropDownText:"I_ZpQYvz A_6EqO C_Z281SGl F_N",flexbox:"D_F Y_fq7",searchFlex:"F_O p_R E_fq7",selectFlex:"F_N",inputSearchIcon:"p_a L_fq7 T_fq7",hintInput:"A_6EqO C_ZvsWfq F_P I_ZpQYvz H_6UbO b_0 Z_0 li_6UbO W_6D6F p_a T_0 L_0 e_dRA",selectLabel:"I_ZnIF8Y H_6UbO D_F gl_FL C_Z281SGl m_Z14vXdP i_6VdP X_fq7 e_dRA"}},_key:"Z2iPyGW"}},function(e,t,a){"use strict";e.exports={className:{default:{contactPickerContainer:"I_52qC s_3zDHw d_3zlCJ p_R j_ZqTdtW",bottomSection:"D_F P_6LEV je_6Fd5 aa_FL z_Z14vXdP",buttonGroup:"F_N a_3nyCk",itemCounts:"F_N i_6UbO t_r r_BN",spacer:"M_KXYok W_7yHc P_0",buttonWidth:"W_7bI5",closeButton:"p_a R_6Fd5 T_6Eb4 r_P",limitReached:"C_Znn46r Q_fq7 D_X"},bottomDisabled:{bottomSection:"O_cMq"}},_key:"1e1Y9v"}},function(e,t,a){"use strict";e.exports={className:{default:{hoverContainer:"D_F I_T Z_d48 ab_CI gl_CH",icon:"W_6MGW H_6MGW r_P e_e5X I_52qC j_ZqTdtW h_Z26hN4S D_F gl_C ab_C",popoverContainer:"D_F",menuContainer:"P_13uJXY",menuItem:"J_x I4_2ieea9 C4_Z2aVTcY",divider:"z_Z163u0T",checkmarkIcon:"p_a L_fq7",paddingLeft:"X_6LEV"},shown:{hoverContainer:"b_2fAfSG"},isSelected:{hoverContainer:"I_Z1owzvw"}},_key:"1pDk7H"}},function(e,t,a){"use strict";e.exports={className:{default:{categoryContainer:"D_F ab_CI P_Z1fegk0",categoryList:"P_0 M_24YU4B ha_n",category:"C_Z1YRXYn P_3PUiW A_6EqO r_P C4_Z2aVTcY"},selected:{category:"C_Z281SGl u_b C4_Z281SGl"}},_key:"18bfU9"}},function(e,t,a){"use strict";e.exports={className:{default:{defaultThemeContainer:"D_F ek_BB gl_C ab_C I_ptT19 P_1Eu7sD",themeThumbnailImage:"W_3mS2U H_3n93F I_52qC P_0 M_1HT1B4",defaultText:"t_C A_6EqO C_Z1VRpVF",clearText:"t_C C_Z2aVTcY r_P",noneText:"t_C C_Z1VRpVF"}},_key:"1ebw9F"}},function(e,t,a){"use strict";e.exports={className:{default:{item:"D_F ek_BB M_Z2kmMaB r_P ir_n",thumbnailContainer:"p_R b_Z14vXdP M_1PXnfL l4_Z2aVTcY",itemThumbnailImage:"D_B W_3mS2U H_3n93F",selectionOverlay:"p_a W_6D6F B_0 o_h J_N t_C C_52qC i_6EqO k_w P_3Y3Gk I_Z1owzvw w_AS I4_Z1owzuv",itemName:"o_h t_C G_e C_Z1YRXYn W_3mT4V",itemProviderName:"o_h t_C G_e C_Z1YRXYn W_3mT4V"},selected:{thumbnailContainer:"b_Z1dQEKn M_Zm1Iab",itemName:"u_b"},hideStationeryTitle:{item:"M_Z2kmxbR"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{item:"i_6Fd5 U_6Eb4",itemThumbnailImage:"W_7rdk H_1WugET",itemName:"W_7sfl",itemProviderName:"W_7sfl"}},_key:"Z2wc6iA"}},function(e,t,a){"use strict";e.exports={className:{default:{backdrop:"p_R T_0 L_0 R_0 B_0 Z_f8a",wrapperContainer:"D_F p_a L_0 B_7iGr H_3rdfm W_6D6F k_w I_52qC b_Z14vXdP e_dRA j_20baFh A_6DUj ir_n Z_f8a",stationeryContainer:"D_F em_N ek_BB P_Z1fenNR",clearStationeryButtonContainer:"t_r je_eo6 D_Z1YJkyX gl_CH ab_C",clearStationeryButton:"C_Z2aVTcY r_P N_6LEV",closeWrapper:"N_eo6 je_eo6 T_dm5 R_dm5",carouselContainer:"D_F em_N ek_BB E_6Fd5"},"toolbarKind-VACATION_RESPONSE_SETTINGS":{wrapperContainer:"H_3nNB4",stationeryContainer:"X_fq7",carouselContainer:"E_fq7",clearStationeryButtonContainer:"je_eo6 N_eo6",clearStationeryButton:"N_fq7"}},_key:"16WPrh"}},function(e,t,a){"use strict";e.exports={className:{default:{backdrop:"p_a T_0 L_0 R_0 B_0 Z_7G9R",gifFinderContainer:"k_w p_a B_7iGr j_nWwhY I_52qC P_Z2okp9v Z_7G9R iy_h",resultSection:"aa_C ab_C gl_C D_F H_3rtg7 M_Z2eeeUH",toolbarGifIcon:"I_ZnIF8Y",gifPopupTopArea:"D_F gl_CH P_C04i4"}},_key:"1AEV7g"}},function(e,t,a){"use strict";e.exports={className:{default:{errMsg:"F_N t_C"}},_key:"fOtwS"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_X E_eo6 o_h p_R V_GM",overlay:"ab_C q_ak5kB b_Z1dQEKn k_w C_Z2aVTcY r_P D_F L_0 P_3gJOe p_a t_C T_0 W_6D6F",overlayText:"A_6DUj ge_A i_6EqO J_N W_q mq_AQ",img:"I_ZpQYvz"}},_key:"V76dH"}},function(e,t,a){"use strict";e.exports={className:{default:{rowContainer:"J_x"}},_key:"Z1ywoRP"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6D6F W_6D6F iz_FF",gifLoadingSection:"P_3mS2U"}},_key:"Z1Ub3Ln"}},function(e,t,a){"use strict";e.exports={className:{default:{searchSection:"D_F Y_6Fd5 p_R o_A t_l",categoryContainer:"k_w F_dHh ha_n M_0 P_0 D_F N_fq7",categoryDiv:"J_x",hiddenBoldCategoryText:"D33_B dq33_Z1WN6IG u33_b H33_dBP C33_T o33_h v33_h U33_68pj",categories:"C_Z1YRXYn r_P D_X H_6UbO i_6UbO Q_6MGW",categorySelected:"C_Z281SGl r_P D_X H_6UbO i_6UbO Q_6MGW m_mRxou u_b",clearButtonContainer:"W_6NIX"}},_key:"da9fO"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_C",button:"C_Z2aVTcY M_E8xte C4_Z29WjXl r4_P i_6FYl"},cardExpanded:{container:"ab_CI"}},_key:"ZSaS8V"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_CI W_3zLco j_ZqTdtW I_4SSH",bottom:"Y_6Eb4 D_F",mainContent:"P_1DTVp9 W_3ze8R",close:"M_fq7",cancel:"b_n A_6EqO Q_fq7 C_Z2aVTcY I_52qC r4_P P_Zlnyey",address:"u_e69",buttonText:"a_3np4q i_6FIA",loadingIndicator:"D_F gl_C ab_C H_3rtg7 W_3ze8R",explanation:"C_Z1YRXYn Y_6Eb4",separator:"Y_6Eb4 m_Z14vXdP",label:"Q_eo6",option:"Y_6Eb4",text:"A_6FsP"}},_key:"oCnPQ"}},function(e,t,a){"use strict";e.exports={className:{default:{background:"I_52qC H_3mS2U D_F gl_C ab_C U_eo6",container:"D_F ab_C P_6DEy e_dRA z_16auq8 m_Z14vXdP x_Z14vXdP n_Z14vXdP",content:"D_F ab_C E_7bcz",imageContainer:"E_6LEV",button:"b_n P_0 ev_q H_72FG W_3nV5V I_ZamTeg C_52qC e_dRA u_e69 r_P",header:"E_eo6 u_b"},rightRail:{background:"D_B H_A",container:"ek_BB ab_CS P_ZClDBx",headersContainer:"D_F ek_BB",button:"H_6UbO Y_6LEV U_6LEV",subHeader:"C_ZxFlP3"},"themeMode-MEDIUM":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_sgPuT C_ZpQYvz"},"themeMode-DARK":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_sgPuT C_ZpQYvz"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_cOYF6 C_ZpQYvz"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_cOYF6 C_ZpQYvz"},"themeCombo-DARK_ROADTRIP":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_1iaDt1 C_ZpQYvz"},"themeCombo-MEDIUM_ROADTRIP":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_1iaDt1 C_ZpQYvz"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_2woj1H C_ZpQYvz"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_2woj1H C_ZpQYvz"},"themeCombo-DARK_LIGHTHOUSE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_t5YMW C_ZpQYvz"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"C_ZpQYvz m_efTvb x_efTvb n_efTvb",background:"I_t5YMW C_ZpQYvz"}},_key:"XQ7Gi"}},function(e,t,a){"use strict";e.exports={className:{default:{infoTable:"P_15dmEd",headingContainer:"D_F P_Ic91E",title:"W_3mS2U em_N u_b A_6EWk M_0 J_x o_h G_e",calendarLink:"C_Z2aVTcY A_6DUj",contentContainer:"D_F aa_CI ek_BB eo_HB H_7ALe",infoItem:"H_73HH W_e5X D_F ek_EZ P_1wVxIt k_w",infoItemFull:"H_73HH W_6D6F D_F ek_EZ",infoHeading:"A_6DUj C_Z1TsNWR i_6EWk",infoDescription:"a_3rdfm c26zcWN_3s0hC cZ10Gnka_3vxrN cWeabN_3z5BY A_6EqO i_6EGz",iconContainer:"N_6Fd5 D_F ab_C gl_C P_Z19ckRV",ellipsisText:"J_x o_h G_e",videoLink:"C_Z2aVTcY D_B i_6EGz",infoDetails:"o_h"},compact:{title:"W_3qWeB A_6EqO",infoDescription:"J_x A_6DUj"}},_key:"qPEuK"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"e_dRA p_R D_F ab_C gl_C H_3nWnH W_3nV5V F_27sF7m ek_BB",dateText:"p_a t_C H_6D6F W_6D6F i_3nG7c A_6TFj y_Z26egim u_b cZuy7p9_T",subText:"C_52qC y_Z2uhb3X A_6Eb4 u_b gp_dBP"},"size-L":{container:"M_0 W_3mT4V H_3nNQO",dateText:"ab_C A_6FsP jb_e8l",subText:"A_6DUj"},"theme-ATT":{container:"aw_Z2uFeNc",dateText:"q_Z2uFeNc C_Z2dxrGx"},"theme-FRONTIER":{container:"aw_Z16GALF",dateText:"q_Z16GALF C_Z1A0QhA"},"theme-ROGERS":{container:"aw_2eVLEa",dateText:"q_2eVLEa C_Z21W7Hh"},"theme-BT":{container:"aw_2dlp0g",dateText:"q_2dlp0g C_Z20SNAa"},"theme-SKY":{container:"aw_Z77h2R",dateText:"q_Z77h2R C_Z2dycH0"},"theme-DEFAULT":{container:"aw_Z1CkV98",dateText:"q_Z1CkV98 C_Z1XVK9k"},"theme-SUNRISE":{container:"aw_2bffSp",dateText:"q_2bffSp C_ZmGspq"},"theme-AQUA_GREEN":{container:"aw_1me547",dateText:"q_1me547 C_Z21AbCW"},"theme-AQUA_BLUE":{container:"aw_2wWOnw",dateText:"q_2wWOnw C_Z2bhAnS"},"theme-DEEP_PURPLE":{container:"aw_Z1V7woE",dateText:"q_Z1V7woE C_Z22C2iL"},"theme-BLUE_NIGHT":{container:"aw_ZRxwiL",dateText:"q_ZRxwiL C_Z285BEX"},"theme-NIGHT_LANDSCAPE":{container:"aw_PqDUS",dateText:"q_PqDUS C_Z1UEcsX"},"theme-ROADTRIP":{container:"aw_Z1P3J5w",dateText:"q_Z1P3J5w C_ZrkPvI"},"theme-SUNSET_AUSSIE":{container:"aw_2r9mbU",dateText:"q_2r9mbU C_ZmlXUP"},"theme-LIGHTHOUSE":{container:"aw_2lxUNE",dateText:"q_2lxUNE C_Z1VDTK1"}},_key:"Z1ElLSH"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_EZ P_WY39l z_Z12nDQf A_6DUj t_C",replyText:"X_fq7 N_fq7 A_6EqO C_Z2dxTPG D_F ab_C i_6MGW r4_P",edit:"A_6EqO C_Z2dxTPG D_F ab_C i_6MGW r4_P",confirmationText:"D_F ab_C M_3zDxc A_6DUj C_Z1TsWug i_6MGW",text:"N_fq7",showEdit:"D_F ab_C",yes:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z2dwhMO i_6MGW",no:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z1sxms7 i_6MGW",icon:"D_F N_fq7",loadingContainer:"D_F ab_C X_6Fd5 N_6Fd5 A_6EqO gl_C ek_BB",maybe:"N_6Fd5 D_F ab_C X_fq7 A_6EqO C_Z1rAmx3 i_6MGW"},isChecked:{replyText:"u_b"}},_key:"2pKGh5"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"b_Z12nDQf e_dRA o_h",container:"o_h D_F ek_EZ",content:"em_N D_F ek_BB",retryButton:"r_P C_Z2aVTcY A_6EqO b_n q_T",errorMessage:"M_fQoXz",loadingContainer:"H_3nV5V D_F gl_C ek_BB"},compact:{loadingContainer:"H_3nNQO W_3A8F0",container:"H_3nNQO W_3A8F0"}},_key:"jXC1z"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F",cardGroupContainer:"I_52qC W_6D6F",header:"u_b H_73HH i_73HH ab_C X_6Fd5 D_F ek_EZ",separator:"I_ZpQYvz H_eo6",cardContainer:"X_fq7 N_eo6 D_F eo_HB",expandContainer:"D_F",expandSpacing:"em_O",expandButton:"H_6LEV ab_C I_2iedUU e_dRA C_Z2aW2JT U_6Fd5 E_6Fd5 D_F X_fq7 N_eo6 A_6DUj r_P",expandButtonText:"em_O u_e69",autoClipToggle:"D_F ek_EZ ab_C E_6LEV Q_A",autoClipMessage:"u_dPo Q_6Eb4 A_6DUj",whiteSpaceBar:"je_6DEy W_6D6F c_AO",partnerAttributionIcon:"Q_eo6",sponsoredContainer:"D_F ab_C",sponsoredIcon:"D_F ab_C M_Z2qtLX C_Z2drWk6 cdPFi_Z2drWk6",sponsored:"A_6DEy ab_C D_F C_52qC P_3gIgH I_ZxFlP3 u_b gl_C H_6Fd5 e_dRA"},shareSpace:{cardGroupContainer:"W_e5X"}},_key:"ZBLYbN"}},function(e,t,a){"use strict";e.exports={className:{default:{dialog:"W_3DPo5 k_w I_52qC D_F ek_BB P_1wbmjs e_dRA gl_C",close:"ac_CH",title:"D_F Y_36JN3 U_6Eb4 A_6MGW i_6MGW ab_AJ H_74JI W_3w6xl",rowContainer:"D_F eo_x bn_dBP bm_FJ bj_2spJWC A_6EqO i_6FIA o_h gl_FM H_7iGr ab_C X_eo6 N_eo6",adRowContainer:"D_F eo_x bn_dBP bm_n bj_2spJWC A_6EqO i_6FIA o_h gl_FM H_7iGr ab_C X_eo6 N_fam r_P I_ZnIF8Y ac_C W_3DrSs e_eo6 k_w",avatar:"en_0 i_0 e_6D6F",content:"D_F ek_BB eo_x Q_fq7 E_fq7 W_0 em_N",contentRow:"D_F eo_x ab_AJ cZ14h4A4_6EGz",vendorName:"E_fq7 u_b o_h G_e J_EN",expirationTime:"o_h G_e J_EN",sponsored:"A_6DEy ab_C D_F C_52qC E_eo6 P_3gIgH I_ZxFlP3 u_b gl_C H_6Eb4 b_0",description:"C_Z1Xxgu0 o_h G_e J_x em_N cZ14cCcL_6EGz D_I",buttonUnclipped:"I_52qC C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C cZ14cCcL_6DEy W_3nhzy H_72FG P_eo6 em_0 I4_1uvRUE I3_1uvRUE",couponAdButton:"I_ZnIF8Y C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C cZ14cCcL_6DEy W_3nhzy H_72FG P_eo6 em_0 I4_1uvRUE I3_1uvRUE k_w",couponAdIconWrapper:"D_F gl_C ab_C H_6UbO W_6UbO",buttonClipped:"I_Z287E9E C_52qC l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_Z1E2XDm M_0",buttonText:"Q_6Eb4 u_b J_EN",buttonTextUnclipped:"Q_eo6 J_EN",controls:"je_eo6"},noBottomBorder:{rowContainer:"bj_T"},boldButton:{couponAdButton:"cn_e8l"}},_key:"cjh7N"}},function(e,t,a){"use strict";e.exports={className:{default:{filler:"em_N",container:"D_F ek_BB P_24ydJJ I_52qC",header:"D_F gl_FM H_6Urz ab_C",locationNearYou:"A_6EqO C_Z281SGl u_b",expandButton:"H_qc W_qc D_F gl_C ab_C",locatorContent:"em_N N_6Fd5 D_F H_3nhzy cn_dBP e_dRA cg_FJ l_ZnIF8Y U_fq7 Y_fq7",locatorIcon:"D_F gl_C ab_C E_6Fd5 H_qJ W_rd Q_6LEV",content:"D_F ab_C",mapContainer:"D_F W_3nhzy H_6D6F E_6Fd5 Q_67SN Y_67SN",mapImage:"H_6D6F W_6D6F",details:"D_F ek_BB em_N H_6D6F Y_6Eb4",storeDetails:"D_F H_7sv6",label:"D_F ab_C C_Z1TsNWR A_6DUj",nameAndUpdateLocation:"D_F gl_FM H_6FIA U_fq7",hoursAndPhone:"D_F ek_BB em_N gl_FM",locationAndDistance:"D_F ek_BB em_N gl_FM",name:"C_Z281SGl u_b A_6EWk H_pJ",updateLocation:"H_pJ C_1nv3qR A_6DUj r_P",hoursIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",hoursDetails:"D_F ek_BB H_6VdP",locationIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",locationDetails:"D_F ek_BB H_6VdP",callIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",callDetails:"D_F ek_BB H_6VdP",distanceIcon:"D_F gl_C ab_C E_6Fd5 H_3o33c W_3o33c",distanceDetails:"D_F ek_BB H_6VdP",text:"C_Z281SGl A_6EqO",textLink:"C_1nv3qR A_6EqO",separator:"I_ZpQYvz H_eo6"}},_key:"Z16VRuX"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"k_w W_Z2wm94G b_Z14vXdP P_fq7 M_ZOdT7q H_7zdH",anchor:"D_F",image:"s_7jIs W_7jIs H_7jIs M_1wVxIt im_BE",detail:"o_h D_F ek_BB gl_FM",priceContainer:"D_F",infoContainer:"D_F ek_BB em_N gl_FM",sauce:"u_b J_x G_e o_h",message:"A_6Eb4 i_6EqO C_Z1Xxgu0",price:"u_b A_6EWk E_eo6",originalPrice:"S_DB C_Z1Xxgu0"},fullWidth:{container:"W_Z2m5DMn"}},_key:"Z1WcTJX"}},function(e,t,a){"use strict";e.exports={className:{default:{embeddedMediaPlayer:"b_n",errorContainer:"P_Z1YYbzT I_Z281SGl C_52qC"},"animate-true":{embeddedMediaPlayer:"lv_ZhuFRe"},"beforeAnimation-true":{embeddedMediaPlayer:"W_dm5 H_dm5 Q_e5X Y_dPd O_0"}},_key:"24JU7M"}},function(e,t,a){"use strict";e.exports={className:{default:{anchorContainer:"I_ak5mD e_dRA j_2kgqsw P_wpoVE",shareLink:"P_Zlnyey i_dm5 A_6EWk D_B I4_2ieea9",shareLinkText:"Q_fq7 E_eo6 p_R B_eo6",shareMenuContainer:"P_Z2a0Hq8 s_3n2AO",menuButton:"P_Z1otACY H_6Fd5 W_6Fd5"}},_key:"2mq5PK"}},function(e,t,a){"use strict";e.exports={className:{default:{playButtonContainer:"p_a r_P P_6DEy",closeButtonContainer:"p_a T_6Fd5 R_6Fd5 W_6Fd5 H_6Fd5 e_fq7 j_1tmztg I_ak5mD",closeButtonPositioner:"p_a L_36Jhx T_1zJPzR",shareButtonContainer:"p_a T_6Fd5 R_6Fd5"},"cardSize-MINI":{shareButtonContainer:"T_fq7 R_fq7"},"cardSize-APPEND":{shareButtonContainer:"T_fq7 R_fq7"}},_key:"ZF6IWY"}},function(e,t,a){"use strict";e.exports={className:{default:{description:"u_dPo C_Z1YRXYn U_6Eb4",list:"Q_69rk K_3o5DP P_dBP iz_A",item:"D_F ab_C u_e69 r_P I4_1I4yPF I3_1I4yPF ir3_1JO2M7",separator:"m_Z14vXdP M_1HT1B4",checkbox:"P_eo6 D_F",option:"D_F ab_C Q_69bz u_e69 r_P ir3_1JO2M7"}},_key:"uRumm"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_6D6F H_6D6F cZ1RN91d_GG o_h p_a",mailReader:"D_F ab_FT em_N ek_BB",listWrapper:"D_F ab_FT em_N ek_BB",listContainer:"D_F H_6D6F ab_FT em_N p_R",toolbar:"en_0",leftPane:"en_0 ej_dAt p_R",fullPane:"W_6D6F",deadResizer:"en_0 ej_dBP",resizer:"en_0 ej_dBP",rightPane:"em_T ej_0 p_R D_F o_h",messageView:"p_R em_N ac_FT",blank:"M_1EtAWD I_ZnkeaL em_N ac_FT D_F",swipeableContainer:"F_N D_F ek_BB W_6D6F U_0",swipeableContent:"D_F ek_BB F_N",pullToRefreshContainer:"D_F ek_BB p_R F_N",loadingContainer:"T_dRK W_6D6F p_R",virtualListScroller:"p_a",virtualListUL:"I_52qC"},hasSelectedItems:{swipeableContainer:"U_7ceA"},"previewpane-0":{listContainer:"M_0 p_R"},"previewpane-1":{deadResizer:"I_ZpQYvz",resizer:"I_ZpQYvz r_CA ej_eo6 Z_N I4_ZroviD",blank:"M_0"},"previewpane-2":{listContainer:"ek_BB",leftPane:"d_3nV5V",deadResizer:"M_1EtAWD ej_fq7 I_ZpQYvz",resizer:"M_1EtAWD ej_fq7 I_ZnIF8Y r_EB Z_N I4_ZroviD"},"themeMode-DARK":{blank:"I_T",resizer:"I_ajP3z",virtualListUL:"I_Z29dUYT"}},_key:"2oL3jn"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6UbO k_w je_fq7 X_fq7 C_Z1YRXYn A_6EqO u_b I_52qC",listDivider:"W_6D6F H_dRA I_ZpQYvz M_Z3ND8M",infoText:"Q_6Eb4",couponHeader:"u_b C_Z281SGl E_eo6"},shadow:{container:"j_1OUMqq"},leftPadded:{container:"X_6LEV"},stickyTimechunk:{container:"X_6MGW U_dRA"},fixedInTravelCard:{container:"X_6MGW"},gray:{container:"D_F ab_C I_ZnIF8Y A_6EGz i_6FIA u_N C_Z1VRpVF N_6Fd5 X_6Fd5 je_0 m_Z14vXdP"},black:{container:"C_Z281SGl"},large:{container:"H_7rdk"},longAndWideDivider:{container:"je_0 X_0 U_6Fd5",listDivider:"H_eo6 U_6LEV"},noDivider:{container:"je_0 X_0 Y_6Fd5",listDivider:"H_eo6 U_6LEV",infoText:"Q_6Fd5"},extraMarginInfoText:{infoText:"Q_6LEV"},spacedHeader:{container:"je_6LEV U_fq7"},isDarkThemeMode:{container:"I_T C_52qC",listDivider:"I_ajOPR",couponHeader:"C_52qC"},flex:{container:"D_F ab_C gl_FM"},couponSeparator:{container:"gl_BZ"}},_key:"Z2scYxa"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ab_C H_sP p_R Q_6Eb4 Y_fq7 h_Z1H3PfF W_6D6F o_h",couponImage:"W_3n93F H_7sfl",descWrapper:"ek_BB A_6Eb4 Q_6Fd5 J_EN",heading:"C_Z1YRXYn u_b",description:"C_Z1VRpVF"},"themeMode-DARK":{heading:"C_2sqbRh",description:"C_2sqbRh"}},_key:"Z2gCSL0"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"H_6UbO k_w je_fq7 X_fq7 C_Z1YRXYn A_6EqO u_b I_52qC D_F ab_C gl_FM",expandButton:"i_6EWk P_Z2rzCvT",iconContainer:"D_F ab_C",partnerAttributionIcon:"Q_eo6",header:"u_b C_Z281SGl"},"themeMode-DARK":{container:"I_T",header:"C_52qC"}},_key:"Z1HNYqf"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"q_52qC D_F ab_C gl_C H_7ceA"},"themeMode-DARK":{container:"q_T"}},_key:"Z1ACwUA"}},function(e,t,a){"use strict";e.exports={className:{default:{participants:"o_h J_x em_N"},transparent:{participants:"em_0 v_h"}},_key:"rQEOQ"}},function(e,t,a){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",readIcon:"P_0 q_T b_0 r_P D_F en_0 ab_C W_6LEV A_0 cdPFi_ZpQYvz cdPFi4_Z1TsNWR"},"isRead-false":{readIcon:"cdPFi_Z2aVTcY cdPFi4_Z2aVTcY"},isDarkThemeMode:{readIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"ZIL0n1"}},function(e,t,a){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",replyIcon:"cZ17HJts_0 cZ17HJsU_T cZ17HJta_0 cZ17HJsT_P cZ17HJtE_F cF9SWM_0 cF9SUy_C cZ17HJtH_0 cZ17HJtl_6LEV cNhr4M_ZpQYvz c1Lk3cu_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{replyIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"rmcGT"}},function(e,t,a){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",forwardIcon:"cAll3f_0 cAll3M_T cAll3x_0 cAll3N_P cAll33_F cZ1QVRpD_0 cZ1QVRrR_C cAll30_0 cAll3m_6LEV cZ2hFlUN_ZpQYvz cZjAtd1_Z1gAvbx",indicator:"Q_e8l"},isDarkThemeMode:{forwardIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"dWqxk"}},function(e,t,a){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",starIcon:"k_BF q_T b_0 r_P D_F en_0 ab_C A_0 cdPFi_ZpQYvz cdPFi4_Z1TsNWR"},isDarkThemeMode:{starIcon:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"Z1fODRM"}},function(e,t,a){"use strict";e.exports={className:{default:{searchIcon:"D_F gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY P_3gIMd Q_eo6",contactSearchIconCompact:"D_Z1YJkyX gl_C ab_C k_BF q_T b_0 r_P A_0 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY Q_eo6 P_0"},isDarkThemeMode:{searchIcon:"cdPFi_ak5kB cdPFi4_ak5m8",contactSearchIconCompact:"cdPFi_ak5kB cdPFi4_ak5m8"}},_key:"2dNdlX"}},function(e,t,a){"use strict";e.exports={className:{default:{subject:"o_h G_e J_x",highlightedTerm:"I_2ieea9 D_X"}},_key:"1okHkV"}},function(e,t,a){"use strict";e.exports={className:{default:{snippet:"J_x o_h",snippetContainer:"J_x o_h G_e",highlightedTerm:"I_2ieea9 D_X"}},_key:"Z2piR2p"}},function(e,t,a){"use strict";e.exports={className:{default:{messageCount:"e_fFR A_6DUj",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"2bOBil"}},function(e,t,a){"use strict";e.exports={className:{default:{draftIndicator:"J_x A_fq7 cZ1RN91d_n lo_GT cZ1HOHqP_Zc28mn gp_3bdM8 u_e69",accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h"}},_key:"RjUyN"}},function(e,t,a){"use strict";e.exports={className:{default:{accessible:"p_a L_Z1r6ru5 T_A W_dBP H_dBP o_h",attachmentIcon:"D_F"}},_key:"OgOlY"}},function(e,t,a){"use strict";e.exports={className:{default:{attachmentsCarouselContainer:"D_F H_3mT4V P_3gIMd",attachmentsPopoverContainer:"D_F P_1Eu5U7",attachmentItem:"P_V9iAe M_3gIgH r_P"}},_key:"vDuNx"}},function(e,t,a){"use strict";e.exports={className:{default:{messageDestinationLabel:"o_h J_x G_e"}},_key:"Z24rH8W"}},function(e,t,a){"use strict";e.exports={className:{default:{ybadgeIcon:"q_T r_P D_F en_0 ab_C W_6LEV A_0 H_6D6F"}},_key:"Z11UQS6"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F",popoverListWrapper:"P_3Y3Gk",list:"hd_n D_F ab_C M_0 P_0",checkboxWrapper:"D_F",chevronWrapper:"D_F cdPFi_Z1Xxgu0 cdPFi4_Z2aVTcY"},"themeMode-DARK":{chevronWrapper:"cdPFi_ZpQYvz cdPFi4_52qC"}},_key:"Z22Yrri"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F",clippedContainer:"K_q o_h",label:"D_F ab_C y_Z2uhb3X A_6EqO P_eo6",itemLabel:"em_N P_0 o_h G_e",labelText:"X_eo6",customGroup:"K_3rehn iz_A iy_h P_3HLUz",systemGroup:"hd_n P_cFf M_0 m_Z14vXdP",lastGroup:"hd_n P_Z26RiTK M_0 m_0",popoverContainer:"D_F",popoverContent:"P_Z1gGUOP",shortcut:"ab_CH Q_fq7 Z_0",fullLabel:"D_F W_6D6F",anchorButton:"a_3rtg7",noResultContainer:"D_F ab_C C_Z1Xxgu0 i_6VdP k_w",inputContainer:"D_F ab_C k_w X_6EGz N_6Fd5 W_3rBgu",inputField:"em_N cn_0 W_6D6F H_6VdP N_0 X_0 A_6EqO C_Z281SGl ir3_0"}},_key:"ehSYa"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R X_eo6 h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_2spJWC A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_fq7 E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F a_3nq6r em_pO ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_th ej_0",vendorName:"Q_fq7 o_h G_e J_EN",clippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_Z287E9E C_52qC",unclippedButton:"l_Z287E9E e_dRA cn_dBP cg_FJ j_n r_P D_F ab_C P_Z2wYAaD M_Z1E2YFn I_52qC cdPFi_Z287E9E",description:"J_x Q_6Eb4 o_h G_e em_N",vigLinkDescription:"J_x Q_6Eb4 o_h G_e em_N C4_Z2aVTcY",dateWrapper:"D_F gl_CH en_N A_6DUj Q_6Eb4 J_EN s_3mS2U",unclippedCpnExpiryInfo:"C_Z1VRpVF",openEmailIcon:"cdPFi_Z1VRpVF cdPFi4_Z2aVTcY"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",vigLinkDescription:"C4_Z21zYBA",subContainer:"bj_ajOPR",unclippedButton:"I_T cdPFi_29F7yW l_29F7yW",clippedButton:"I_29F7yW l_29F7yW",unclippedCpnExpiryInfo:"C_2sqbQg",openEmailIcon:"cdPFi_2sqbQg cdPFi4_29F7yW"},hideBottomBorder:{subContainer:"bj_T"}},_key:"ZSEXmp"}},function(e,t,a){"use strict";e.exports={className:{default:{actionContainer:"D_F M_28eW7C",cueContainer:"D_F ek_EZ a_3zlCJ",cueContainerWrapper:"D_F ek_BB em_N P_ZH79gU I_52qC s_3qWeB a_3zJDR",svgStyle:"D_F gl_C ab_C I_52qC e_v8Hnf s_7bcz P_1KSxRP em_0",containerBorder:"W_q H_eo6 I_Z2aVTcY",close:"p_a T_6LEV R_6LEV"},"cardName-qtntviewMsgReadCard":{body:"A_6EqO i_6FIA C_Z1Xxgu0 M_Z26RiTK",container:"W_e5X D_F gl_FM ek_BB",ppContainer:"D_F gl_FM ek_BB em_N",containerBorder:"I_Z1YQ5if M_Z2fXxfr W_82XEY",cueContainer:"a_n b_Z14vXdP e_dRA M_Z2qz5Ct",cueContainerWrapper:"s_n a_n",header:"i_6FIA A_6EqO u_b C_Z281SGl",icon:"W_7iGr H_7iGr",svgStyle:"P_6LEV"}},_key:"ZnXCWJ"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB M_ix5XN",content:"ab_C D_F",image:"W_3mTkG",subtitle:"u_b",text:"D_F ek_BB",textline:"C_Z1VRpVF",title:"D_F u_b U_6Fd5"},"themeMode-DARK":{container:"C_52qC"}},_key:"Xd1F2"}},function(e,t,a){"use strict";e.exports={className:{default:{dialog:"D_F I_52qC e_dRA",svgContainer:"P_Z1hbyol",container:"N_6Fd5",header:"A_6FsP D_F ab_C gl_FM P_28J5sJ",listHeader:"X_6LEV",body:"P_2e6mAW"}},_key:"ZPonhM"}},function(e,t,a){"use strict";e.exports={className:{default:{dialog:"W_3vNsy I_52qC D_F ek_BB e_eTB gl_C ab_C jb_6UbO",close:"ac_CH M_C04i4",logo:"H_7iGr W_7iGr",header:"A_6FsP u_b P_Z1HS1SU",body:"P_ZpRGWy"}},_key:"ZFXPAk"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB H_3mTAr W_e5X",couponInfo:"C_Z281SGl u_e69 M_1e3P8Y",thumbnailsContainer:"D_F M_Z19maaf",thumbnails:"H_6UbO W_6UbO P_eo6 b_Z14vXdP M_3gIMd r_P e_dRA l4_Z29WjXl",overflowNumber:"H_6UbO W_6UbO P_eo6 b_Z14vXdP M_3gIMd r_P e_dRA l4_Z29WjXl C_Z1VRpVF u_e69 D_F gl_C ab_C",noCoupon:"C_Z1VRpVF Q_6LEV"},"themeMode-DARK":{thumbnails:"I_52qC"}},_key:"27DUbs"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F W_e5X",cardContainer:"D_F W_e5X P_KXYok",imageContainer:"D_F ab_C gl_C em_0 P_6Fd5",image:"W_72FG H_72FG e_e5X",messageContainer:"D_F ek_BB em_N A_6EGz P_1IaimO",header:"u_b",subTitle:"M_ni5xh C_Z1VRpVF A_6Eb4",savingContainer:"D_F gl_2qpK5e ek_BB W_e5X n_Z14vXdP P_1EudUu M_1HT1B4",total:"D_F gl_FM C_Z2ak3tK",coupons:"D_F gl_FM",overlayContainer:"W_0",overlay:"W_72FG H_72FG h_ZEcFM9 q_Z1WGv5u O_6uA1 e_e5X"}},_key:"2luWvG"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F r_P ab_C H_qN p_R h_Z1H3PfF I4_1I4yPF",subContainer:"D_F r_P ab_C H_qN bn_dBP bm_FJ bj_ZnIF8Y A_6EqO i_6FIA o_h W_6D6F",avatar:"en_0 Q_6DEy E_6FIA i_0",vendorGrid:"D_F o_h ab_C H_6D6F em_3qVd0 ej_0 p_R",infoGrid:"D_F o_h ab_C H_6D6F em_3Msdm ej_0",vendorName:"Q_fq7 o_h G_e J_EN",itemName:"J_x Q_6Eb4 o_h G_e",price:"J_x C_Z1TsNWR Q_6Eb4 G_e",dateWrapper:"D_F gl_CH em_N en_N A_6DUj Q_6Eb4 E_fq7 J_EN",date:"C_Z1TsNWR"},"themeMode-DARK":{container:"C_ZpQYvz I4_1YEmYj I3_1YEmYj",subContainer:"bj_ajOPR",date:"C_2sqbQg"},hideBottomBorder:{subContainer:"bj_T"}},_key:"ZyW7FA"}},function(e,t,a){"use strict";e.exports={className:{default:{heading:"D_F gl_C A_6FsP P_2bJhi k_efEYO m_Z14vXdP C_Z281SGl r_BN I_52qC",container:"P_8secV D_F gl_C",earnyUpsell:"D_F ek_BB a_3w5vk K_3na5G W_3w5vk H_3na5G b_Z14vXdP e_dRA I_52qC",refundEstimateUpsell:"D_F ek_BB a_3w5vk K_3na5G W_3w5vk H_3na5G b_Z14vXdP e_dRA I_52qC E_6Fd5 r_P",earnyTopDivider:"I_Z2aVTcY H_eo6 W_6D6F cj_dRA ck_dRA",refundEstimateTopDivider:"I_Zki04f H_eo6 W_6D6F cj_dRA ck_dRA",earnyUpsellContent:"D_F ek_EZ em_N",upsellHeader:"A_6EqO i_6FIA u_b",upsellBody:"C_Z1TsNWR i_6FIA",actionContainer:"D_F M_Z2gjVIH",earnyTextWrapper:"D_F ek_BB gl_C cZ148M3I_CI em_N P_ZUe8MS",svgStyle:"D_F ab_C Q_6Fd5 E_6Eb4 em_0",listDivider:"H_dRA I_ZpQYvz M_Z2eeeeR",refundEstimateUpsellContent:"H_7GHz m_Z14vXdP D_F ab_C em_0",refundEstimateOuterCircle:"D_F gl_C ab_C em_0 W_74JI H_74JI M_1Eu7sD I_T e_e5X b_BMenm",refundEstimateNumber:"A_6LEV",refundEstimateTextWrapper:"em_N",refundEstimateSavingsContent:"D_F ab_C em_N",bulletPointSpent:"W_fq7 H_fq7 e_e5X Q_6Fd5 E_fq7 I_ZpQYvz",refundEstimateSpent:"A_6DUj i_6FIA u_b",bulletPointSavings:"W_fq7 H_fq7 e_e5X Q_6Fd5 E_fq7 I_Zki04f",refundEstimateSavings:"A_6DUj i_6FIA u_b C_Zki04f"},avoidUpsells:{container:"P_0",listDivider:"H_dm5 M_dm5"},oneUpsell:{container:"gl_CI"},"themeMode-DARK":{heading:"m_ZYfFSw I_T C_52qC cdPFi_52qC",listDivider:"I_ajOPR",allPurchases:"I_T C_52qC",earnyUpsell:"b_ZYfFPt I_A55PK",refundEstimateUpsell:"b_ZYfFPt I_A55PK",upsellHeader:"C_52qC",upsellBody:"C_52qC",refundEstimateSpent:"C_52qC",refundEstimateNumber:"C_52qC"}},_key:"1X9cNm"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"b_Z163u0T H_3nymz s_3nWDs D_F ek_BB gl_CH ab_C M_fq7 e_dRA I4_1I4yPF r4_P",icon:"H_72FG D_F eo_x W_6D6F ab_C gl_C",image:"W_72FG H_72FG e_e5X",overlayContainer:"W_0",overlay:"W_72FG H_72FG h_ZEcFM9 q_Z1WGv5u O_6uA1 e_e5X",header:"y_Z2uhb3X u_b A_6EqO C_Z281SGl gp_0 t_C U_6LEV Y_fq7 a_3nV5V J_x o_h G_e",actionContainer:"W_6D6F H_750t z_Z14vXdP D_F gl_C ab_C",link:"y_Z2uhb3X A_6EqO C_Z2aVTcY gp_1zlpEt i_6FIA C4_Z29WjXl r4_P"},"themeMode-DARK":{container:"b_1iPdY0 I4_1YEmYj",header:"C_ZpQYvz",link:"C_Z21zYBA C4_52qC r4_P",actionContainer:"z_1iPdY0"}},_key:"1071rf"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F Q_6Eb4"}},_key:"1mesQ2"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F F_ZmdwxM b_Z14vXdP e_dRA M_2qs2uB ab_C P_6Eb4 o_h K_7jYd r_P",svgStyle:"E_6Fd5 W_7iGr H_7iGr",cardDetails:"o_h N_6Eb4 F_Z2uTegI",buttonUnclipped:"W_3ni64 I_52qC C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_ASEsw M_0 I4_1uvRUE I3_1uvRUE",buttonClipped:"I_52qC C_Z1VRpVF b_n A_6EqO D_F ab_C M_0",cardDescription:"C_Z1Xxgu0 i_6EqO J_x o_h G_e",cardTitle:"i_6EWk U_eo6 K_6UbO o_h u_b",expiryTime:"C_Z1Xxgu0",buttonTextUnclipped:"Q_eo6 J_EN",buttonTextAmount:"u_e69",icon:"W_7iGr H_7iGr"},expandedCardState:{container:"K_n",cardDescription:"J_N i_6FIA"}},_key:"Z1qMdWI"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F Q_6Fd5"}},_key:"fpnOi"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N gl_C ab_C W_6D6F H_6D6F",offersContainer:"D_F em_N gl_C ab_C W_6D6F H_6D6F",subContainer:"D_F em_N ek_BB ab_C gl_C W_3v9Wb a_3v9Wb",travelImage:"W_3v9Wb H_3nxAj",couponImage:"W_3zlCJ H_3rKOo",receiptImage:"W_3s13S H_3n13i",offerImage:"W_3s13S H_3n9zb",heading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",offersHeading:"D_F gl_C t_C A_6FsP u_e69 i_6MGW P_28NWDt C_Z1YRXYn",description:"A_6EqO i_6FIA gl_C t_C C_Z1YRXYn",addMailbox:"je_6DEy",addMailboxLink:"C_Z2aVTcY A_6EqO i_6FIA"},moreDescriptionPadding:{heading:"je_72FG"},"themeMode-DARK":{offersContainer:"q_52qC",heading:"C_2sqbRh",description:"C_2sqbRh"}},_key:"Z2kxgij"}},function(e,t,a){"use strict";e.exports={className:{default:{row:"D_F W_6D6F H_6D6F p_R P_3gIMd ir3_0"}},_key:"25sbPk"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3Hv38 k_w I_52qC D_F el_QDCVj",header:"M_0 P_Z2bdlcy A_6FsP i_6NIX D_F el_Z1mLfFl ab_1g38K5",heading:"je_6Fd5 em_N H_6NIX D_F ab_C",info:"X_eo6",popoverAnchor:"D_F",tooltip:"W_3qXgC P_6Eb4",popoverContainer:"D_F",close:"M_1r2gWB",title:"X_eTB",content:"P_0",messageContent:"D_F k_w ek_BB H_3rLkT W_3Hv38 P_14vJA9 J_x iz_A iy_h I_Z1syAID",spinner:"D_F ab_C gl_C em_N",subject:"A_6EWk i_6FIA G_e J_x o_h P_1EmYfa",msgHeader:"P_1DLYDz",snippet:"o_h J_x G_e A_6EqO i_6LEV P_EToGE",attachments:"X_6Eb4",viewMessage:"ab_CH r_P C_Z2aVTcY u_e69",icon:"p_a M_6Fd5",message:"P_ZG0ms9 w_AS ix_AS",controls:"D_F ab_C P_2gGPxM",buttonContainer:"em_N"}},_key:"Z4HPr6"}},function(e,t,a){"use strict";e.exports={className:{default:{loadingBar:"W_6D6F H_dRA h_2rNL56 Z_qc p_a I_Z2aVTcY ah_5h53M",loadingBarEnd:"W_6D6F h_Zc5EsY H_dRA Z_qc p_a I_Z2aVTcY ah_1MDq3I"},"themeMode-DARK":{loadingBar:"I_ZamTeg",loadingBarEnd:"I_ZamTeg"}},_key:"1xnb7N"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_EZ em_N W_3A2d9 ab_C",close:"p_a T_fq7 R_6Fd5",actions:"D_F gl_FM ab_C W_6D6F",buttonContainer:"M_6LEV",buttonText:"J_EN",buttonUnclipped:"I_52qC C_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n A_6EqO r_P D_F ab_C P_14vtzo I4_1uvRUE I3_1uvRUE",separator:"W_dRA H_7He5 I_ZpQYvz",info:"Q_6LEV H_3mS2U W_3nW7W D_F ek_BB gl_C",date:"M_2cGPEi",month:"C_ZKWIFy A_6DUj W_72FG t_C u_b i_6LEV",header:"J_x G_e o_h",body:"C_Z1Xxgu0",day:"aw_Z18KWI e_dRA W_72FG A_6LEV cZ2qqFA2_72FG H_6LEV C_52qC je_6DEy jb_6DEy t_C"}},_key:"oW8bv"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N ej_0 en_N D_F k_w I_52qC",navContainer:"D_F q_ptT19",mainContent:"em_N D_F",helpLinks:"hd_n P_eo6",quotaTotal:"M_0 A_6DUj",quotaUsed:"M_0 u_b"}},_key:"Z2s0MSp"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"em_N D_F",navContainer:"D_F I_ptT19 a_3rehn W_3o4BO s_3o4BO cZ10Gnkk_ZM1sUU",navContainerWide:"D_F I_ptT19 a_3rehn W_3rehn s_3rehn cZ10Gnkk_ZM1sUU",sidebar:"em_N D_F ek_BB C_Z1YRXYn je_6Fd5 I_ptT19 W_6D6F",arrowLeft:"P_2jztU D_F F_n",headerLink:"S_n D_X A_6EqO i_6Fd5 C_Z2aVTcY t_l k_w W_6D6F P_ZmsLix r_P ac_C",linksContainer:"em_N D_F iz_A iy_h ab_FT P_1Eu7sD ek_BB d_0",tabLinks:"em_N en_0 D_F",quotaTotal:"M_0 A_6DUj",quotaUsed:"M_0 u_b",navLinks:"M_0 em_N D_F hd_n ek_BB P_0 W_6D6F",navLink:"D_F ab_C",tabLinkText:"k_w W_6D6F P_1l1yrf r_P i_6EqO ir3_1JO2M7 it3_dBP I4_2ieeaE C_Z1TsNWR A_6DUj",tabNavText:"k_w W_6D6F P_1l1yrf r_P i_6Fd5 ir3_1JO2M7 it3_dBP I4_2ieeaE D_F gl_FM C_Z1YRXYn",footer:"ac_C W_3nF5b z_Z14vXdP Y_6Fd5 je_6MGW U_6MGW",footerContent:"X_6Fd5",rightAlign:"Y_689y U_69bz ac_C",loadingIndicator:"H_6D6F W_6D6F D_F ek_BB gl_C"},selected:{tabNavText:"u_b C_Z281SGl n_Z1dQEKn I_2ieeE8"},disabled:{tabNavText:"C_Z1TsNWR r4_DZ"}},_key:"slwgK"}},function(e,t,a){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F ek_BB eo_HB gl_C ab_C",errorMessage:"A_6FsP Q_fq7 ab_C gl_C",warning:"N_eo6 p_R T_eTB",retryMessage:"r_P C_Z2aVTcY"}},_key:"2jJYME"}},function(e,t,a){"use strict";e.exports={className:{default:{mainContent:"em_N D_F j_ZlOSbd"}},_key:"15eYCF"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_72FG",hint:"A_6DUj C_Z1TsNWR",title:"u_N A_6FsP M_Ic9xa"}},_key:"27hIRE"}},function(e,t,a){"use strict";e.exports={className:{default:{previewWrapper:"iz_A W_3vPwA P_ZzaS5e",previewTitle:"M_0 u_dPo C_Z1TsNWR U_fq7",container:"D_F aw_Z22yhkg ba_BH ek_BB H_3s0hC j_2c97b3",header:"D_F ab_C H_73HH",logo:"W_72FG Q_6Fd5",search:"F_N D_F ab_C gl_C",searchBox:"I_52qC e_dBP H_6Fd5 W_3nr8s",searchBtn:"W_72FG H_6Fd5 e_dRA M_3gIMd I_ak5jA",tabContainer:"I_a0xJ8 D_n",tabs:"M_0 P_0 D_F hd_n H_6D6F",tabItem:"H_6D6F E_dBP D_X W_7bcz I_a0xIC cj_dRA ck_dRA",leftRailTabSpacer:"H_6D6F E_0 D_X W_7rdk I_T cj_dRA ck_dRA",tabItemWhite:"H_6D6F E_dBP D_X W_7bcz I_52qC cj_dRA ck_dRA",mainContent:"F_N D_F o_h",rail:"F_27mRw7 I_ZnIF8Y",messageList:"F_N D_F ek_BB P_6Eb4 I_52qC",listItem:"D_F o_h",messageListItem:"M_1IaimO",firstColumn:"P_0 hd_n W_74JI M_3gJOe",sender:"H_eo6 W_74JI I_ZpQYvz e_6LEV",firstColumnSnippet:"D_n H_eo6 M_3HLUz W_74JI I_ZnIF8Y e_6LEV",secondColumn:"F_N P_0 hd_n W_7Ig6 M_3gJOe",wrapper:"D_F",subject:"H_eo6 E_eo6 I_ZpQYvz e_6LEV",secondColumnSnippet:"D_n",previewPane:"F_ZSWbjt je_6FIA",messageItems:"M_0 P_0 hd_n",avatar:"O_cMp e_e5X W_6MGW H_6MGW M_1Eu6qC",messageViewItem:"H_eo6 I_ZpQYvz e_6LEV M_Z3NB4K"},snippets:{secondColumnSnippet:"M_0 D_F H_eo6 I_ZnIF8Y e_6LEV"},multiTaskModeSetting:{tabContainer:"D_F H_6Fd5"},"previewPaneSetting-0":{previewPane:"D_n"},"previewPaneSetting-1":{messageList:"ek_EZ",secondColumn:"D_n"},verticalSnippets:{firstColumnSnippet:"D_B"},"msgListDensity-1":{messageListItem:"M_1HKSdG"},"msgListDensity-2":{messageListItem:"M_1HT1B4"},"themeMode-MEDIUM":{rail:"I_sgPuT",tabContainer:"I_sgPtS"},darkModeNonPhotoTheme:{rail:"I_sgPuT",tabContainer:"I_sgPtS",messageList:"I_sgPwq",tabItem:"I_sgPuT",tabItemWhite:"I_sgPwq"},darkModePhotoTheme_NIGHT_LANDSCAPE:{rail:"I_cOYCy",tabContainer:"I_cOYBx",tabItem:"I_cOYCy",messageList:"I_cOYF6",tabItemWhite:"I_1qHFVE"},darkModePhotoTheme_ROADTRIP:{rail:"I_1iaDqt",tabContainer:"I_1iaDps",tabItem:"I_1iaDqt",messageList:"I_1iaDt1",tabItemWhite:"I_Zrb5Uq"},darkModePhotoTheme_SUNSET_AUSSIE:{rail:"I_2woiYa",tabContainer:"I_2woiX9",tabItem:"I_2woiYa",messageList:"I_2woj1H",tabItemWhite:"I_2bmusn"},darkModePhotoTheme_LIGHTHOUSE:{rail:"I_t5YKp",tabContainer:"I_t5YJo",tabItem:"I_t5YKp",messageList:"I_t5YMW",tabItemWhite:"I_ZsxwGM"},cueMode:{previewWrapper:"W_3zSGg",search:"gl_CI Q_6Fd5",searchBox:"W_3o5DP",searchBtn:"W_74JI"}},_key:"1CL9G5"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_6UbO",hint:"A_6DUj C_Z1TsNWR",title:"u_N A_6FsP M_Ic9xa",categoryRightRailContainer:"P_6MGW ab_C D_F H_3s0hC gl_C W_3vPwA U_7iGr",categoryRightRailImg:"D_B K_3s0hC a_3vPwA"}},_key:"Z71Eyi"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"o_A em_N D_F",mainWrapper:"em_N iz_A P_ZzaS5e",pageHeader:"U_72FG",toggleBtn:"U_6UbO",formControl:"je_fq7 U_6Fd5",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7",mB40:"U_72FG",headerTitle:"D_F u_b A_6EqO M_Ic9xa",arrow:"h_22ufi4 W_6LEV H_6LEV"},disabled:{overlay:"O_cMp cZW7ROP_n"},stationery:{left:"W_3AhHo",fixedWidthOption:"W_3vqYW"}},_key:"2cNBoJ"}},function(e,t,a){"use strict";e.exports={className:{default:{previewSection:"W_3vPwA",mainWrapper:"em_N iz_A P_ZzaS5e",header:"D_F o_h ek_BB Q_6Fd5",avatar:"en_0 D_F",previewTitle:"M_ZlKroq u_dPo C_Z1TsNWR",listContainer:"F_N q_52qC P_6Fd5 j_ZdTu0m",listWrapper:"M_0 P_0 hd_n U_6Fd5",listItemHeader:"D_F ab_C gl_CI U_6LEV",listItem:"D_B w_AS i_CS Y_fq7 Q_7bcz U_fq7 o_A",msgPreview:"je_0",signaturePreview:"Y_fq7",accName:"u_b o_h J_x G_e",phoneText:"C_ZvsWfq",to:"u_b E_eo6 C_Z1TsNWR"},"kind-VACATION_RESPONSEWithStationery":{mainWrapper:"em_CS iz_v",previewSection:"W_3AiJp"},"kind-VACATION_RESPONSE-v2":{mainWrapper:"em_CS iz_v",previewSection:"W_3AiJp",previewTitle:"M_Z1bycTG"}},_key:"Z1uyuhC"}},function(e,t,a){"use strict";e.exports={className:{default:{tweetWrapper:"P_6Fd5 e_dRA b_Z14vXdP",tweet:"D_F ek_BB",twitterProfile:"D_F ab_C",twitterAccount:"em_N D_F ek_BB X_fq7",twitterAvatar:"e_dRA W_6UbO H_6UbO",userName:"u_b",userId:"C_ZvsWfq",tweetHeader:"D_F gl_FM",tweetBody:"Y_6Fd5 U_6Fd5",tweetFooter:"D_F ab_C",tweetDate:"A_6DUj C_ZvsWfq",tweetAction:"Q_A D_F ab_C gl_FL W_3mS2U"}},_key:"Z1YWKfK"}},function(e,t,a){"use strict";e.exports={className:{default:{domainNameControl:"M_1KmyGx",headerTitle:"D_F u_b A_6EqO M_Ic9xa",domainResponseWrapper:"b_efTvb P_3gIMd q_ptT19 j_ZMd7Gz",domainResponseSection:"U_6NIX",fixedWidthOption:"W_3vqYW"},extraEditorPadding:{editor:"P_eo6"},vacationResponseV2:{domainResponseWrapper:"Y_fq7",domainNameControl:"Y_fq7 U_6Fd5",domainResponseSection:"U_fq7"}},_key:"ZLcANA"}},function(e,t,a){"use strict";e.exports={className:{default:{editorWrapper:"q_52qC e_dRA b_2w4l8N",rte:"iz_A k_w P_6Fd5 H_3n93F C_ZxFlP3"},focused:{editorWrapper:"j_2uOW4F"},"kind-VACATION_RESPONSE_SETTINGS":{rte:"H_3v1qi"},"kind-VACATION_RESPONSE_SETTINGS-v2":{rte:"H_3zlCJ"}},_key:"Z1u7ePh"}},function(e,t,a){"use strict";e.exports={className:{default:{viewActions:"D_F ab_C H_6TFj M_1S6wUp",saveButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z29WjXl",cancelButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_52qC b_0 C_Z2aVTcY I4_2iedUU C4_Z29WjXl"},marginLess:{viewActions:"M_0"},disableSave:{saveButton:"O_cMq r_A I4_Z2aVTcY"}},_key:"UCERA"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_2Xpez",demoImgContainer:"ab_C D_F H_3s0hC gl_C W_3vPwA U_7iGr",demoImg:"D_B K_3s0hC a_3vPwA",header:"C_Z1YRXYn A_6EqO u_e69 U_6Fd5",listContainer:"hd_n P_0 M_0",listItem:"m_Z14vXdP m8_0",helpLink:"ab_C C_Z2aVTcY D_F H_73HH p_R",moreHelp:"I_2iedUU C_Z2aVTcY D_X A_6DUj u_e69 i_6VdP Y_6Fd5 P_1Eu7sD I4_2ieeaE"}},_key:"ZYywGY"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"o_A em_N D_F ek_BB",previewContainer:"U_6UbO",mainWrapper:"em_N iz_A P_ZzaS5e",listWrapper:"Y_6FIA P_0 hd_n",pageHeader:"U_72FG",toggleBtn:"U_6UbO",formControl:"je_fq7 U_6Fd5",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7",mB40:"U_72FG",headerTitle:"D_F u_b A_6EqO M_Ic9xa",arrow:"h_22ufi4 W_6LEV H_6LEV",btnPrimary:"r_P q_T D_X H_6UHk"},disabled:{overlay:"O_cMp cZW7ROP_n"}},_key:"2o6sq9"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C gl_ZEO9jm P_1BSkPU m_Z12nDQf q4_1I4yPF",expiredStatusWrapper:"Q_A ab_C A_6DUj i_6LEV",datesWrapper:"Q_6Eb4 o_h J_x C_Z1VRpVF ab_C gl_FM",datesArrow:"D_X H_6LEV V_AP ab_C Q_fq7 E_fq7",accountEmail:"M_1wVxIt u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",accountDescription:"M_0 u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",messageWrapper:"C_ZnTFMv",typeTextWrapper:"Q_eo6 u_e69",statusIcon:"W_6LEV H_6LEV",syncingStatusIcon:"M_3gJOe",errorWrapper:"D_F s_3mT4V ab_C C_Z1TsNWR",errorIcon:"M_3gJOe"},selected:{listItem:"q_1I4yPF"}},_key:"KeKsz"}},function(e,t,a){"use strict";e.exports={className:{default:{mB40:"U_72FG",mainWrapper:"em_N iz_A P_ZzaS5e",formWrapper:"W_3A2IE",headerTitle:"D_F u_b A_6EqO M_Ic9xa",formControl:"je_fq7 U_6Fd5",error:"A_6DUj C_ZnTFMv je_fq7 X_fq7",editorWrapper:"P_eo6 q_ptT19 b_efTvb",editor:"P_eo6",deleteButton:"Y_72FG",viewActionsContainer:"M_1xFF3T P_Z1Ve0sQ W_6D6F lv_Z243dI4"},disabled:{overlay:"O_cMp cZW7ROP_n"},viewActionsAnchored:{formWrapper:"jb_3mSyq U_74JI",viewActionsContainer:"j_ZXJQiW U_dm5 p_a I_52qC B_dm5 Z_d48"}},_key:"Z10l01i"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"x_Z14vXdP W_3vPwA iz_A P_ZzaS5e k_w",right:"em_N o_A D_F",pageHeader:"U_72FG",headerTitle:"M_0 D_F u_b A_6EqO",formControl:"U_72FG",selectbox:"W_6D6F",selectedTimeZone:"A_6DUj Y_eo6 C_ZvsWfq Q_6Fd5",sectionHeaderName:"M_ZlKroq D_F u_b i_6FIA",hint:"M_ZlKroq D_F A_6DUj C_Z1TsNWR",sectionHeaderContainer:"Y_72FG"}},_key:"1m6bBn"}},function(e,t,a){"use strict";e.exports={className:{default:{selectbox:"p_R",changeButtonContainer:"p_a T_0 R_0 Z_N P_fq7 cdPFi_Z1TsNWR cdPFi4_Z2aVTcY",clearIconContainer:"p_a T_0 R_0 Z_N P_fq7",relatedInfo:"A_6DUj C_Z1Xxgu0 M_Z15KeeM P_Z1HqVOA",hint:"M_ZlKroq D_F A_6DUj C_Z1TsNWR",typeahead:"",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T z_0 x_0 n_0 bm_FJ bn_dBP bj_Z1TsNWR J_x G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",typeaheadDropDown:"p_a ha_n P_0 M_0 W_3vqYW j_ZqTdtW I_52qC",typeaheadOption:"i_72FG P_1EudUu r_P J_x G_e o_h q_52qC q4_1I4yPF cZ1WADo5_1I4z5p",dropdownList:"p_a ha_n P_0 M_0 W_3vqYW j_ZqTdtW iz_A K_3z5BY q_52qC",timezoneUpdateTip:"C_ZkiIcp M_1IaimO"},error:{typeaheadInput:"bj_ZkiIcp bj3_ZkiIcp",relatedInfo:"C_ZkiIcp"}},_key:"1YFeeW"}},function(e){e.exports=[{timezone:{name:"Africa/Abidjan"},city:"Abidjan",state:"Lagunes",country:"Côte d´Ivoire"},{timezone:{name:"Africa/Accra"},city:"Accra",state:"Greater Accra",country:"Ghana"},{timezone:{name:"Australia/Adelaide"},city:"Adelaide",state:"South Australia",country:"Australia"},{timezone:{name:"Africa/Algiers"},city:"Algiers",state:"Alger",country:"Algeria"},{timezone:{name:"Asia/Amman"},city:"Amman",state:"Amman",country:"Jordan"},{timezone:{name:"Europe/Amsterdam"},city:"Amsterdam",state:"North Holland",country:"Netherlands"},{timezone:{name:"America/Anchorage"},city:"Anchorage",state:"Alaska",country:"United States"},{timezone:{name:"Indian/Antananarivo"},city:"Antananarivo",state:"Antananarivo",country:"Madagascar"},{timezone:{name:"Pacific/Apia"},city:"Apia",state:"Tuamasaga",country:"Samoa"},{timezone:{name:"America/Araguaina"},city:"Araguaina",state:"Tocantins",country:"Brazil"},{timezone:{name:"America/Aruba"},city:"Aruba",state:null,country:"Aruba"},{timezone:{name:"America/Asuncion"},city:"Asuncion",state:"Asuncion",country:"Paraguay"},{timezone:{name:"Europe/Athens"},city:"Athens",state:"Attica",country:"Greece"},{timezone:{name:"Pacific/Auckland"},city:"Auckland",state:"Auckland Region",country:"New Zealand"},{timezone:{name:"Asia/Baghdad"},city:"Baghdad",state:"Baghdad",country:"Iraq"},{timezone:{name:"America/Bahia"},city:"Bahia",state:"Bahia",country:"Brazil"},{timezone:{name:"Asia/Baku"},city:"Baku",state:"Baki",country:"Azerbaijan"},{timezone:{name:"Africa/Bamako"},city:"Bamako",state:"Bamako",country:"Mali"},{timezone:{name:"Asia/Bangkok"},city:"Bangkok",state:"Bangkok",country:"Thailand"},{timezone:{name:"Africa/Banjul"},city:"Banjul",state:"Banjul",country:"The Gambia"},{timezone:{name:"America/Barbados"},city:"Barbados",state:null,country:"Barbados"},{timezone:{name:"Asia/Beirut"},city:"Beirut",state:"Beirut",country:"Lebanon"},{timezone:{name:"America/Belem"},city:"Belem",state:"Para",country:"Brazil"},{timezone:{name:"Europe/Belgrade"},city:"Belgrade",state:"Beograd",country:"Serbia"},{timezone:{name:"America/Belize"},city:"Belize",state:null,country:"Belize"},{timezone:{name:"Europe/Berlin"},city:"Berlin",state:"Berlin",country:"Germany"},{timezone:{name:"Africa/Blantyre"},city:"Blantyre",state:"Scotland",country:"United Kingdom"},{timezone:{name:"America/Bogota"},city:"Bogota",state:"Distrito Especial",country:"Colombia"},{timezone:{name:"America/Boise"},city:"Boise",state:"Idaho",country:"United States"},{timezone:{name:"Australia/Brisbane"},city:"Brisbane",state:"Queensland",country:"Australia"},{timezone:{name:"Europe/Brussels"},city:"Brussels",state:"Capital Region of Brussels",country:"Belgium"},{timezone:{name:"Europe/Bucharest"},city:"Bucharest",state:"Bucharest",country:"Romania"},{timezone:{name:"Europe/Budapest"},city:"Budapest",state:"Budapest",country:"Hungary"},{timezone:{name:"America/Argentina/Buenos_Aires"},city:"Buenos Aires",state:"Autonomous City of Buenos Aires",country:"Argentina"},{timezone:{name:"America/Buenos_Aires"},city:"Buenos Aires",state:"Autonomous City of Buenos Aires",country:"Argentina"},{timezone:{name:"Africa/Bujumbura"},city:"Bujumbura",state:"Bujumbura Mairie",country:"Burundi"},{timezone:{name:"Africa/Cairo"},city:"Cairo",state:"Cairo",country:"Egypt"},{timezone:{name:"America/Campo_Grande"},city:"Campo Grande",state:"Mato Grosso do Sul",country:"Brazil"},{timezone:{name:"America/Los_Angeles"},city:"Canary",state:"Oregon",country:"United States"},{timezone:{name:"America/Cancun"},city:"Cancun",state:"Quintana Roo",country:"Mexico"},{timezone:{name:"America/Caracas"},city:"Caracas",state:"Distrito Federal",country:"Venezuela"},{timezone:{name:"Africa/Casablanca"},city:"Casablanca",state:"Greater Casablanca",country:"Morocco"},{timezone:{name:"America/Argentina/Catamarca"},city:"Catamarca",state:"Catamarca",country:"Argentina"},{timezone:{name:"America/Cayenne"},city:"Cayenne",state:"Cayenne",country:"French Guiana"},{timezone:{name:"America/Chicago"},city:"Chicago",state:"Illinois",country:"United States"},{timezone:{name:"America/Chihuahua"},city:"Chihuahua",state:"Chihuahua",country:"Mexico"},{timezone:{name:"Europe/Chisinau"},city:"Chisinau",state:"Chisinau",country:"Moldova"},{timezone:{name:"Asia/Colombo"},city:"Colombo",state:"Western",country:"Sri Lanka"},{timezone:{name:"Europe/Copenhagen"},city:"Copenhagen",state:"Hovedstaden",country:"Denmark"},{timezone:{name:"America/Argentina/Cordoba"},city:"Cordoba",state:"Andalusia",country:"Spain"},{timezone:{name:"America/Costa_Rica"},city:"Costa Rica",state:null,country:"Costa Rica"},{timezone:{name:"America/Cuiaba"},city:"Cuiaba",state:"Mato Grosso",country:"Brazil"},{timezone:{name:"America/Curacao"},city:"Curacao",state:null,country:"Curacao"},{timezone:{name:"Africa/Dakar"},city:"Dakar",state:"Dakar",country:"Senegal"},{timezone:{name:"Africa/Dar_es_Salaam"},city:"Dar es Salaam",state:"Dar es Salaam",country:"Tanzania"},{timezone:{name:"America/Dawson_Creek"},city:"Dawson Creek",state:"British Columbia",country:"Canada"},{timezone:{name:"America/Denver"},city:"Denver",state:"Colorado",country:"United States"},{timezone:{name:"America/Detroit"},city:"Detroit",state:"Michigan",country:"United States"},{timezone:{name:"Asia/Dhaka"},city:"Dhaka",state:"Dhaka",country:"Bangladesh"},{timezone:{name:"Africa/Douala"},city:"Douala",state:"Littoral",country:"Cameroon"},{timezone:{name:"Asia/Dubai"},city:"Dubai",state:"Dubai",country:"United Arab Emirates"},{timezone:{name:"Europe/Dublin"},city:"Dublin",state:"Dublin",country:"Ireland"},{timezone:{name:"America/Edmonton"},city:"Edmonton",state:"Alberta",country:"Canada"},{timezone:{name:"America/El_Salvador"},city:"El Salvador",state:null,country:"El Salvador"},{timezone:{name:"Pacific/Fiji"},city:"Fiji",state:null,country:"Fiji"},{timezone:{name:"America/Fortaleza"},city:"Fortaleza",state:"Ceara",country:"Brazil"},{timezone:{name:"Africa/Gaborone"},city:"Gaborone",state:"South-East",country:"Botswana"},{timezone:{name:"America/Grand_Turk"},city:"Grand Turk Island",state:null,country:"Turks and Caicos Islands"},{timezone:{name:"GMT"},city:"Granite Mountain Air Station",state:"Alaska",country:"United States"},{timezone:{name:"Pacific/Guam"},city:"Guam",state:null,country:"Guam"},{timezone:{name:"America/Guatemala"},city:"Guatemala",state:null,country:"Guatemala"},{timezone:{name:"America/Guayaquil"},city:"Guayaquil",state:"Guayas",country:"Ecuador"},{timezone:{name:"America/Guyana"},city:"Guyana",state:null,country:"Guyana"},{timezone:{name:"America/Halifax"},city:"Halifax",state:"Nova Scotia",country:"Canada"},{timezone:{name:"America/Havana"},city:"Havana",state:"Ciudad de la Habana",country:"Cuba"},{timezone:{name:"Europe/Helsinki"},city:"Helsinki",state:"Uusimaa",country:"Finland"},{timezone:{name:"America/Hermosillo"},city:"Hermosillo",state:"Sonora",country:"Mexico"},{timezone:{name:"Asia/Ho_Chi_Minh"},city:"Ho Chi Minh City",state:"Ho Chi Minh",country:"Vietnam"},{timezone:{name:"Pacific/Honolulu"},city:"Honolulu",state:"Hawaii",country:"United States"},{timezone:{name:"America/Indiana/Indianapolis"},city:"Indianapolis",state:"Indiana",country:"United States"},{timezone:{name:"America/Indianapolis"},city:"Indianapolis",state:"Indiana",country:"United States"},{timezone:{name:"Europe/Istanbul"},city:"Istanbul",state:"Istanbul",country:"Turkey"},{timezone:{name:"Asia/Jakarta"},city:"Jakarta",state:"DKI Jakarta",country:"Indonesia"},{timezone:{name:"America/Jamaica"},city:"Jamaica",state:null,country:"Jamaica"},{timezone:{name:"Asia/Jerusalem"},city:"Jerusalem",state:"Jerusalem",country:"Israel"},{timezone:{name:"Africa/Johannesburg"},city:"Johannesburg",state:"Gauteng",country:"South Africa"},{timezone:{name:"America/Argentina/Jujuy"},city:"Jujuy Province",state:"Jujuy Province",country:"Argentina"},{timezone:{name:"America/Juneau"},city:"Juneau",state:"Alaska",country:"United States"},{timezone:{name:"Asia/Kabul"},city:"Kabul",state:"Kabul",country:"Afghanistan"},{timezone:{name:"Africa/Kampala"},city:"Kampala",state:"Kampala",country:"Uganda"},{timezone:{name:"Asia/Karachi"},city:"Karachi",state:"Sindh",country:"Pakistan"},{timezone:{name:"Africa/Khartoum"},city:"Khartoum",state:"Al Khartum",country:"Sudan"},{timezone:{name:"Africa/Kigali"},city:"Kigali",state:"Kigali Province",country:"Rwanda"},{timezone:{name:"Africa/Kinshasa"},city:"Kinshasa",state:"Kinshasa",country:"Democratic Republic of Congo"},{timezone:{name:"Asia/Kolkata"},city:"Kolkata",state:"West Bengal",country:"India"},{timezone:{name:"Asia/Kuala_Lumpur"},city:"Kuala Lumpur",state:"Kuala Lumpur",country:"Malaysia"},{timezone:{name:"Asia/Kuwait"},city:"Kuwait",state:null,country:"Kuwait"},{timezone:{name:"Europe/Kiev"},city:"Kyiv",state:"Kyiv City Municipality",country:"Ukraine"},{timezone:{name:"America/La_Paz"},city:"La Paz",state:"La Paz Department",country:"Bolivia"},{timezone:{name:"America/Argentina/La_Rioja"},city:"La Rioja",state:"La Rioja",country:"Spain"},{timezone:{name:"Africa/Lagos"},city:"Lagos",state:"Lagos",country:"Nigeria"},{timezone:{name:"Africa/Libreville"},city:"Libreville",state:"Estuaire",country:"Gabon"},{timezone:{name:"America/Lima"},city:"Lima",state:"Lima Metropolitan Area",country:"Peru"},{timezone:{name:"Europe/Lisbon"},city:"Lisbon",state:"Lisbon",country:"Portugal"},{timezone:{name:"Europe/London"},city:"London",state:"England",country:"United Kingdom"},{timezone:{name:"America/Los_Angeles"},city:"Los Angeles",state:"California",country:"United States"},{timezone:{name:"America/Kentucky/Louisville"},city:"Louisville",state:"Kentucky",country:"United States"},{timezone:{name:"Africa/Luanda"},city:"Luanda",state:"Luanda",country:"Angola"},{timezone:{name:"Africa/Lubumbashi"},city:"Lubumbashi",state:"Katanga Province",country:"Democratic Republic of Congo"},{timezone:{name:"Africa/Lusaka"},city:"Lusaka",state:"Lusaka",country:"Zambia"},{timezone:{name:"Europe/Luxembourg"},city:"Luxembourg",state:null,country:"Luxembourg"},{timezone:{name:"America/Maceio"},city:"Maceio",state:"Alagoas",country:"Brazil"},{timezone:{name:"Europe/Madrid"},city:"Madrid",state:"Madrid",country:"Spain"},{timezone:{name:"Pacific/Majuro"},city:"Majuro",state:"Majuro",country:"Marshall Islands"},{timezone:{name:"Asia/Makassar"},city:"Makassar",state:"South Sulawesi",country:"Indonesia"},{timezone:{name:"Europe/Malta"},city:"Malta",state:null,country:"Malta"},{timezone:{name:"America/Managua"},city:"Managua",state:"Ciudad de la Habana",country:"Cuba"},{timezone:{name:"America/Manaus"},city:"Manaus",state:"Amazonas",country:"Brazil"},{timezone:{name:"Asia/Manila"},city:"Manila",state:"National Capital Region",country:"Philippines"},{timezone:{name:"Africa/Maputo"},city:"Maputo",state:"Maputo",country:"Mozambique"},{timezone:{name:"America/Martinique"},city:"Martinique",state:null,country:"Martinique"},{timezone:{name:"Indian/Mauritius"},city:"Mauritius",state:null,country:"Mauritius"},{timezone:{name:"Australia/Melbourne"},city:"Melbourne",state:"Victoria",country:"Australia"},{timezone:{name:"America/Argentina/Mendoza"},city:"Mendoza",state:"Mendoza",country:"Argentina"},{timezone:{name:"America/Merida"},city:"Merida",state:"Merida",country:"Venezuela"},{timezone:{name:"America/Mexico_City"},city:"Mexico City",state:"Distrito Federal",country:"Mexico"},{timezone:{name:"America/Moncton"},city:"Moncton",state:"New Brunswick",country:"Canada"},{timezone:{name:"America/Monterrey"},city:"Monterrey",state:"Nuevo Leon",country:"Mexico"},{timezone:{name:"America/Montevideo"},city:"Montevideo",state:"Montevideo",country:"Uruguay"},{timezone:{name:"America/Montreal"},city:"Montreal",state:"Quebec",country:"Canada"},{timezone:{name:"Europe/Moscow"},city:"Moscow",state:"Moscow Federal City",country:"Russia"},{timezone:{name:"Africa/Nairobi"},city:"Nairobi",state:"Nairobi Area",country:"Kenya"},{timezone:{name:"America/Nassau"},city:"Nassau",state:"New York",country:"United States"},{timezone:{name:"America/New_York"},city:"New York",state:"New York",country:"United States"},{timezone:{name:"Africa/Niamey"},city:"Niamey",state:"Niamey",country:"Niger"},{timezone:{name:"America/Nome"},city:"Nome",state:"Alaska",country:"United States"},{timezone:{name:"Africa/Nouakchott"},city:"Nouakchott",state:"Wilaya de Nouakchott",country:"Mauritania"},{timezone:{name:"Pacific/Noumea"},city:"Noumea",state:"Sud",country:"New Caledonia"},{timezone:{name:"Europe/Oslo"},city:"Oslo",state:"Oslo Fylke",country:"Norway"},{timezone:{name:"Africa/Ouagadougou"},city:"Ouagadougou",state:"Kadiogo",country:"Burkina Faso"},{timezone:{name:"America/Panama"},city:"Panama",state:null,country:"Panama"},{timezone:{name:"America/Paramaribo"},city:"Paramaribo District",state:"Paramaribo",country:"Suriname"},{timezone:{name:"Europe/Paris"},city:"Paris",state:"Ile-de-France",country:"France"},{timezone:{name:"Australia/Perth"},city:"Perth",state:"Western Australia",country:"Australia"},{timezone:{name:"Asia/Phnom_Penh"},city:"Phnom Penh",state:"Phnum Penh",country:"Cambodia"},{timezone:{name:"America/Phoenix"},city:"Phoenix",state:"Arizona",country:"United States"},{timezone:{name:"America/Port_of_Spain"},city:"Port of Spain",state:"Port of Spain",country:"Trinidad and Tobago"},{timezone:{name:"America/Port-au-Prince"},city:"Port-au-Prince",state:"Ouest Department",country:"Haiti"},{timezone:{name:"America/Porto_Velho"},city:"Porto Velho",state:"Rondonia",country:"Brazil"},{timezone:{name:"Africa/Porto-Novo"},city:"Porto-Novo",state:"Oueme",country:"Benin"},{timezone:{name:"Europe/Prague"},city:"Prague",state:"Prague",country:"Czech Republic"},{timezone:{name:"America/Puerto_Rico"},city:"Puerto Rico",state:null,country:"Puerto Rico"},{timezone:{name:"Asia/Qatar"},city:"Qatar",state:null,country:"Qatar"},{timezone:{name:"America/Recife"},city:"Recife",state:"Pernambuco",country:"Brazil"},{timezone:{name:"America/Regina"},city:"Regina",state:"Saskatchewan",country:"Canada"},{timezone:{name:"Atlantic/Reykjavik"},city:"Reykjavik",state:"Reykjavik",country:"Iceland"},{timezone:{name:"America/Rio_Branco"},city:"Rio Branco",state:"Acre",country:"Brazil"},{timezone:{name:"Asia/Riyadh"},city:"Riyadh",state:"Riyadh",country:"Saudi Arabia"},{timezone:{name:"Europe/Rome"},city:"Rome",state:"Lazio",country:"Italy"},{timezone:{name:"America/Argentina/Salta"},city:"Salta",state:"Salta",country:"Argentina"},{timezone:{name:"America/Argentina/San_Juan"},city:"San Juan",state:"San Juan",country:"Puerto Rico"},{timezone:{name:"America/Argentina/San_Luis"},city:"San Luis",state:"Colorado",country:"United States"},{timezone:{name:"America/Santarem"},city:"Santarem",state:"Para",country:"Brazil"},{timezone:{name:"America/Santiago"},city:"Santiago",state:"Santiago Metropolitan Region",country:"Chile"},{timezone:{name:"America/Santo_Domingo"},city:"Santo Domingo",state:"Distrito Nacional",country:"Dominican Republic"},{timezone:{name:"America/Sao_Paulo"},city:"Sao Paulo",state:"Sao Paulo",country:"Brazil"},{timezone:{name:"Asia/Seoul"},city:"Seoul",state:"Seoul",country:"South Korea"},{timezone:{name:"Asia/Shanghai"},city:"Shanghai",state:"Shanghai",country:"China"},{timezone:{name:"America/Shiprock"},city:"Shiprock",state:"New Mexico",country:"United States"},{timezone:{name:"Asia/Singapore"},city:"Singapore",state:null,country:"Singapore"},{timezone:{name:"Europe/Sofia"},city:"Sofia",state:"Sofiya-Grad",country:"Bulgaria"},{timezone:{name:"Atlantic/South_Georgia"},city:"South Georgia",state:null,country:"South Georgia and the South Sandwich Islands"},{timezone:{name:"Europe/Stockholm"},city:"Stockholm",state:"Stockholm",country:"Sweden"},{timezone:{name:"America/Swift_Current"},city:"Swift Current",state:"Saskatchewan",country:"Canada"},{timezone:{name:"Australia/Sydney"},city:"Sydney",state:"New South Wales",country:"Australia"},{timezone:{name:"Pacific/Tahiti"},city:"Tahiti Island",state:"Windward Islands",country:"French Polynesia"},{timezone:{name:"Asia/Tbilisi"},city:"Tbilisi",state:"T´bilisi",country:"Georgia"},{timezone:{name:"America/Tegucigalpa"},city:"Tegucigalpa",state:"Francisco Morazan",country:"Honduras"},{timezone:{name:"Asia/Tehran"},city:"Tehran",state:"Tehran",country:"Iran"},{timezone:{name:"America/Thunder_Bay"},city:"Thunder Bay",state:"Ontario",country:"Canada"},{timezone:{name:"America/Tijuana"},city:"Tijuana",state:"Baja California",country:"Mexico"},{timezone:{name:"Europe/Tirane"},city:"Tirane",state:"Tirane",country:"Albania"},{timezone:{name:"Asia/Tokyo"},city:"Tokyo",state:"Tokyo Prefecture",country:"Japan"},{timezone:{name:"Pacific/Tongatapu"},city:"Tongatapu",state:"Tongatapu",country:"Tonga"},{timezone:{name:"America/Toronto"},city:"Toronto",state:"Ontario",country:"Canada"},{timezone:{name:"Africa/Tripoli"},city:"Tripoli",state:"Tripoli",country:"Libya"},{timezone:{name:"America/Argentina/Tucuman"},city:"Tucuman",state:"Tucuman",country:"Argentina"},{timezone:{name:"Africa/Tunis"},city:"Tunis",state:"Tunis",country:"Tunisia"},{timezone:{name:"America/Argentina/Ushuaia"},city:"Ushuaia",state:"Tierra del Fuego",country:"Argentina"},{timezone:{name:"America/Vancouver"},city:"Vancouver",state:"British Columbia",country:"Canada"},{timezone:{name:"Europe/Vienna"},city:"Vienna",state:"Vienna",country:"Austria"},{timezone:{name:"America/Indiana/Vincennes"},city:"Vincennes",state:"Indiana",country:"United States"},{timezone:{name:"Europe/Warsaw"},city:"Warsaw",state:"Masovian",country:"Poland"},{timezone:{name:"America/Winnipeg"},city:"Winnipeg",state:"Manitoba",country:"Canada"},{timezone:{name:"Asia/Rangoon"},city:"Yangon",state:"Yangon",country:"Myanmar"},{timezone:{name:"Asia/Yekaterinburg"},city:"Yekaterinburg",state:"Sverdlovsk Oblast",country:"Russia"},{timezone:{name:"America/Yellowknife"},city:"Yellowknife",state:"Northwest Territories",country:"Canada"},{timezone:{name:"Europe/Zurich"},city:"Zurich",state:"Canton of Zurich",country:"Switzerland"}]},function(e,t,a){"use strict";e.exports={className:{default:{menuList:"M_0 P_0 hd_n",showImageOption:"i_6MGW",showImageOptionText:"Q_eo6"},isChecked:{showImageOption:"u_b"}},_key:"ZEqUXy"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",pageHeader:"U_72FG",filterWrapper:"em_N iz_A P_ZzaS5e",confirmDialog:"mq_AS a_3v1qi"}},_key:"2cD9lN"}},function(e,t,a){"use strict";e.exports={className:{default:{filterWrapper:"em_N iz_A P_ZzaS5e",filterPreviewSection:"W_3vPwA",filterTitle:"A_6FsP M_Ic9xa",previewTitleWrapper:"D_F U_72FG",previewFilterTitle:"M_0 u_dPo A_6EWk",filterName:"A_6EqO M_27msYt",setRulesHeader:"A_6EqO M_27m5tQ",chooseFolderLabel:"A_6EqO M_Ic9xa",chooseFolderControl:"D_F gl_CI",control:"W_3nF5b U_fq7",folderControl:"W_3nxky U_fq7",orText:"t_C ac_C s_74JI M_3gJOe",filterNameLabel:"u_b A_6EqO M_27m5tQ",filterOptionAccordion:"U_72FG",matchCase:"D_F ab_C",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_ZvsWfq",folderSelectorInput:"k_w W_6D6F"}},_key:"Z1k76Hz"}},function(e,t,a){"use strict";e.exports={className:{default:{filtersListTitle:"M_E8xte u_b A_6EqO i_6LEV",filtersList:"P_0 hd_n M_Z1bWC3O",filtersListItem:"D_B r_P H_6VdP i_6VdP m_Z12nDQf m8_n m6_Z12nDQf",filtersListBtnsContainer:"D_F ab_C m_Z14vXdP",addBtn:"A_6EqO C_Z2aVTcY",rightAlign:"Q_A",checkbox:"D_X V_GH H_6LEV W_6LEV M_ITspg",addIcon:"t_l C_Z2aVTcY M_Z2rzCvT",filtersListHint:"M_1eH9e A_6DUj C_Z1TsNWR i_6EWk"},isSelected:{filtersListItem:"q_2ieeaE"}},_key:"BiQzn"}},function(e,t,a){"use strict";e.exports={className:{default:{filterItem:"D_F r_P ab_C H_6VdP P_3gJOe q4_1I4yPF",filterItemText:"M_0 W_6D6F o_h cZ1RN91d_GG J_x G_e",buttons:"en_0 D_F Q_A ab_C",filterSummary:"P_fq7 j_Z2nrtxD"},isSelected:{filterItem:"q_2ieeaE"}},_key:"Z1ek1Ga"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB mq_AS a_3v1qi",header:"u_b A_6EqO",filterCriteria:"M_0 P_Z1E2XDm",filterItem:"M_3HLUz"}},_key:"2vVIOz"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"em_N o_A D_F",menuList:"P_0 hd_n M_16nQkK",name:"M_0 u_e69 D_F i_6FIA",hint:"C_Z1VRpVF i_6EGz A_6DUj",imageOptions:"Y_6FIA",mainWrapper:"em_N iz_A D_F ek_BB P_ZzaS5e"}},_key:"1IzvH1"}},function(e,t,a){"use strict";e.exports={className:{default:{btnContainer:"D_F ab_C m_Z14vXdP",list:"P_0 hd_n M_0",listTitle:"M_ITspg",listItem:"D_B r_P H_6VdP i_6VdP m_Z12nDQf m8_n m6_Z12nDQf",addBtn:"A_6EqO C_Z2aVTcY",rightAlign:"Q_A",separator:"U_fq7 m_Z12nDQf",textButton:"r_P f_r C_Z2aVTcY Q_A A_6DUj"}},_key:"Zz46qX"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C H_6VdP P_3gJOe q4_1I4yPF",listItemText:"M_0 W_6D6F o_h cZ1RN91d_GG J_x G_e",buttons:"en_0 D_F Q_A ab_C"}},_key:"1hwDor"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"em_N iz_A P_ZzaS5e",previewSection:"W_3vPwA",previewTitleWrapper:"D_F U_72FG",previewTitle:"M_0 u_dPo A_6EWk",address:"A_6EqO M_27msYt",nameLabel:"u_b A_6EqO M_27m5tQ",btnLink:"b_n r_P t_C D_X q_T A_6EqO C_ZvsWfq"}},_key:"1G9Sg3"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"em_N D_F o_A",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_72FG",hint:"A_6DUj C_Z1TsNWR",title:"u_dPo A_6FsP M_Ic9xa",listContainer:"F_N",listWrapper:"M_0 P_0 hd_n",accountInfoHeader:"Q_eo6 U_6FIA",headerText:"M_0 u_e69 A_6EqO i_6FIA",emptyList:"D_F ab_CI A_6Eb4 C_Z1VRpVF",warningIcon:"E_fq7"}},_key:"mG6Gf"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F r_P ab_C P_6Eb4 gl_ZEO9jm m_Z12nDQf m8_n",accountInfo:"Q_6Fd5",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl",accountStatus:"Q_A"}},_key:"ILlTT"}},function(e,t,a){"use strict";e.exports={className:{default:{content:"D_F ab_C",text:"A_6DUj C_ZnTFMv E_eo6",button:"D_F e_e5X ab_C gl_C W_6Fd5 H_6Fd5 q_Z1TsNWR"},hovered:{button:"q_ZnTFMv"}},_key:"1lpbAf"}},function(e,t,a){"use strict";e.exports={className:{default:{avatar:"en_0 M_3gIMd W_6UbO H_6UbO e_dRA ba_6UbO aw_Z1lRKlc az_DW ay_22lW9e"},"accountType-yahoo":{avatar:"ay_Z1yLEkG"},"accountType-google":{avatar:"ay_I2Vyf"},"accountType-aol":{avatar:"ay_22iLrE"},"accountType-outlook":{avatar:"ay_22igsa"},"accountType-googleapp":{avatar:"ay_22hKsF"},"accountType-yahoosb":{avatar:"ay_I2qyK"},"accountType-oath":{avatar:"ay_22Hk7F"},"accountType-Facebook":{avatar:"ay_22mRHn"},"accountType-LinkedIn":{avatar:"ay_22q8OM"},"accountType-Twitter":{avatar:"ay_22qDOh"}},_key:"lqrON"}},function(e,t,a){"use strict";e.exports={className:{default:{rightContainer:"je_6NIX N_6LEV Q_fq7 D_F ek_EZ em_0 en_0 W_6D6F H_3qWeB X8_74JI U8_7yHc",supportImgContainer:"gl_C ab_C D_F H_3rtg7 W_3He0m",supportImg:"D_B K_3rtg7 W_3s0hC U_6LEV Q_6LEV",headerContainer:"ab_C P_6LEV W_3vPwA gl_CH p_R L_72FG",header:"C_Z1YRXYn A_6EWk u_e69 M_6MGW W_3z5BY P_Z28L70A"}},_key:"aemwj"}},function(e,t,a){"use strict";e.exports={className:{default:{errorContainer:"H_6D6F W_6D6F",errorWrapper:"H_6D6F W_6D6F D_F ek_BB eo_HB gl_C ab_C P_Z17Hvh7",errorMessage:"A_6FsP Q_fq7 ab_C gl_C",errorAction:"A_6FsP Q_fq7 ab_C i_72FG",redirect:"r_P C_Z2aVTcY",warning:"N_eo6 p_R T_eTB"}},_key:"Eyi4o"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"F_N D_F",left:"D_F x_Z14vXdP W_3vPwA",right:"em_N D_F",mainWrapper:"em_N D_F iz_A ek_BB P_ZzaS5e",pageHeader:"U_72FG",headerTitle:"M_0 u_b A_6EqO",formControl:"je_fq7 U_72FG",linkEnhancerControl:"U_72FG i_6EWk",selectbox:"W_3nF5b",fontSelectWrapper:"D_F ab_C gl_FM",signatureControl:"P_0 hd_n M_Z1rMj6P",signatureHeader:"jb_fq7 m_Z14vXdP",signatureItem:"m_Z14vXdP i_6VdP m8_n",sendingAddressControl:"W_6D6F"}},_key:"191xlI"}},function(e,t,a){"use strict";e.exports={className:{default:{header:"M_0 D_F u_dPo ab_C A_6EqO P_3gIMd",rightAlign:"Q_A",signatureWrapper:"P_eo6 q_ptT19 b_efTvb",signatureEditor:"P_eo6",formControl:"D_F",tweetHint:"u_b A_6DUj P_eo6 j_2kQXn4",toggleControlName:"u_e69"},signatureActive:{header:"u_b"},showDefaultTitle:{header:"u_b P_0 M_Ic9xa"},hintHovered:{toggleControlName:"m_1qriBL"}},_key:"2HK88"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"em_N D_F",left:"D_F q_52qC W_3vPwA x_Z14vXdP",right:"o_A em_N D_F",headerWrapper:"em_N iz_A P_ZzaS5e",titleWrapper:"U_72FG",hint:"A_6DUj C_Z1TsNWR",title:"u_dPo A_6FsP M_Ic9xa",listItem:"D_F r_P ab_C gl_ZEO9jm P_6Eb4 m_Z12nDQf q4_1I4yPF",listItemAdd:"D_F ab_C gl_ZEO9jm P_6Eb4 U_eo6 Q_fq7",accountStatus:"Q_A",addBtnText:"C_Z2aVTcY",avatar:"M_3gIMd D_X ba_2XwIr W_6MGW H_6MGW",accountInfoHeader:"U_6Fd5",accountInfo:"Q_6Fd5",headerText:"M_0 D_F u_e69 ab_C gl_FM A_6EqO i_6FIA",accountName:"M_0 i_d3a o_h a_3nx4N J_x G_e C_Z281SGl",accountEmail:"M_0 A_6DUj i_d3a u_dPo C_ZvsWfq",dea:"Y_72FG"}},_key:"Z1qXjAm"}},function(e,t,a){"use strict";e.exports={className:{default:{listContainer:"ha_n M_0 P_0",accountItem:"D_F H_6VdP ab_C m_Z12nDQf P_3gIMd"}},_key:"2w6GHL"}},function(e,t,a){"use strict";e.exports={className:{default:{textInput:"A_6EqO M_27msYt v_h",label:"u_b A_6EqO M_Ic9xa",autoForwardingHeader:"u_b A_6EqO M_27me0J F_N",autoForwardDescription:"U_6Fd5 C_Z2aa8Uy p_R",alertText:"C_Z1rNwYf A_6Eb4 Y_6DEy D_F",alertIcon:"E_fq7",inputStyle:"X_0 m_0 m3_n",inputBox:"p_R m_2w4l8N D_F U_6DEy",removeForwardingBtn:"H_6LEV W_7kKt D_FZ i_N",verifyForwardingBtn:"H_6LEV W_7kKt D_FZ i_N M_0",inputIcon:"Y_fq7 E_eo6",displayFlex:"D_F H_6TFj",removeButtonContainer:"Y_fq7",link:"C_Z2aVTcY r4_P",removeText:"A_6DUj",disabledText:"C_Z1TsNWR H_73Xs",verifyIcon:"D_X p_a E_eDQ T_68pj",verifyDescription:"p_a L_6Nds D_X a_3vye4",forwardEmailError:"p_a Y_72FG Q_fq7 A_6DUj C_ZkiIcp"},isFocus:{inputBox:"m_2fAfSG"},enabled:{textInput:"v_v"},forwardEmailVerified:{verifyDescription:"C_Z1TsNWR"}},_key:"2lzype"}},function(e,t,a){"use strict";e.exports={className:{default:{sectionContainer:"F_N U_72FG",sectionInfoHeader:"i_6EWk D_F gl_FM U_eo6",headerText:"M_0 D_F u_b ab_C gl_FM A_6EqO i_6EWk",toggleAccountSectionButton:"M_0 P_0",listWrapper:"M_0 P_0 hd_n",buttonsWrapper:"D_F gl_FM M_0",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY Y_6Fd5 E_A e_dRA k_w en_0 V_M s_7yHc cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z29WjXl",secondaryButton:"r_P P_1EudUu H_6TFj Y_6Fd5 E_A cn_dBP e_dRA cg_FJ y_Z2uhb3X A_6EqO u_e69 I_52qC C_Z2aVTcY l_Z2aVTcY I4_52qC C4_Z29WjXl l4_Z29WjXl",textButton:"r_P D_X C_Z2aVTcY Y_6Fd5 Q_A A_6DUj i_6EWk X_6LEV",baseNameWrapper:"U_6Fd5",baseName:"M_0 cZ1RN91d_GG o_h J_x G_e",baseNameText:"u_e69",domain:"Q_6Eb4",deaHint:"A_6DUj C_Z1TsNWR o_h G_e J_x",deaAccountName:"M_0 i_d3a o_h cZ1RN91d_GG J_x G_e C_Z281SGl u_e69",deaAccountDescription:"M_0 u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",deaListItem:"D_F H_6UbO r_P ab_C gl_ZEO9jm P_ZXLjFo m_Z12nDQf i_6VdP o_h G_e J_x q4_1I4yPF",sectionHintsWrapper:"D_F gl_FM ab_CI C_Z1TsNWR A_6DUj i_6EWk U_6Fd5",sectionHint:"E_6UbO a_3rehn",accountUsage:"en_0 s_7yHc D_F ab_CH gl_CH",warningIcon:"E_fq7 H_6LEV",exceedMaxAccountsHint:"C_ZnTFMv i_6FIA a_3o4BO P_Z1E2XDm A_6EqO",errorText:"M_0",errorWarn:"u_e69"},buttonDisabled:{primaryButton:"r_A O_cMq I4_Z2aVTcY l4_Z2aVTcY",secondaryButton:"r_A O_cMq I4_52qC C4_Z2aVTcY l4_Z2aVTcY"},exceedMaxAccounts:{sectionHint:"a_3o5DP",accountUsage:"C_ZnTFMv s_3mU6W"}},_key:"1YvlQN"}},function(e,t,a){"use strict";e.exports={className:{default:{listItem:"D_F ab_C r_P gl_ZEO9jm P_ZXLjFo m_Z12nDQf q4_1I4yPF",accountStatus:"Q_A",accountInfo:"en_N D_F o_h ek_BB Q_6Fd5",accountName:"M_0 i_d3a o_h J_x G_e C_Z281SGl u_e69",accountEmail:"M_1wVxIt u_dPo i_d3a C_ZvsWfq A_6DUj o_h G_e",accountDescription:"M_0 u_dPo i_d3a cZ1RN91d_GG C_ZvsWfq A_6DUj o_h G_e",messageWrapper:"D_F ab_C A_6DUj C_Z1TsNWR i_6LEV s_7jIs",statusWrapper:"D_F ab_C s_7He5",accountNameWrapper:"D_F ab_C",typeTextWrapper:"Q_eo6 u_e69",statusIcon:"W_6LEV H_6LEV M_3gJOe",syncingStatusIcon:"M_3gJOe",errorWrapper:"D_F ab_C s_3mT4V C_Z1TsNWR",errorIcon:"M_3gJOe"},selected:{listItem:"q_1I4yPF"},deleteInProgress:{listItem:"O_cMp q_n r_DZ"}},_key:"mUPSP"}},function(e,t,a){"use strict";e.exports={className:{default:{inputContainer:"D_F ek_BB",emailContainer:"D_F ab_C W_6D6F m_2w4l8N",baseName:"P_3gJOe",keyword:"G_e J_x o_h",hint:"D_B Y_fq7 Q_fq7 A_6DUj C_Z1TsNWR",error:"D_B Y_fq7 Q_fq7 A_6DUj C_ZnTFMv",inputField:"b_0 q_T H_6VdP em_N A_6EqO C_Z281SGl o_h J_x G_e ir3_0",clearButtonContainer:"Q_A E_fq7"},hasFocus:{emailContainer:"m_2fAfSG"}},_key:"Z2dhj1E"}},function(e,t,a){"use strict";e.exports={className:{default:{label:"A_6EWk M_27msYt u_dPo i_6LEV",textBody:"A_6EqO C_Z29dUYT i_6LEV",okButton:"q_Z2aVTcY e_dRA k_w r_P H_6TFj P_1EudUu en_0 Y_7iGr V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"}},_key:"1bQsav"}},function(e,t,a){"use strict";e.exports={className:{default:{accountList:"M_0 P_0 D_F hd_n ek_BB",listItem:"em_N D_F r_P gl_C m_Z12nDQf q4_1I4yPF",listItemOther:"em_N D_F P_Z1um1qI gl_C m_Z12nDQf r_P q4_1I4yPF",label:"A_6EWk M_27msYt i_6LEV C_Z281SGl u_dPo",accountItem:"H_7jsH W_3nj85 ba_3nhzy aw_ZRruA5 az_DW ay_Z1yLEkG",cancelButton:"q_Z2aVTcY e_dRA k_w r_P H_6TFj P_kSsus s_3mS2U en_0 M_Z2ht1qD V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 C_52qC I4_Z29WjXl"},"provider-yahoo":{accountItem:"ay_2aKN71"},"provider-google":{accountItem:"ay_22ioIi"},"provider-aol":{accountItem:"ay_I2yjn"},"provider-outlook":{accountItem:"ay_22hIoD"}},_key:"Z1xAbSQ"}},function(e,t,a){"use strict";e.exports={className:{default:{formWrapper:"em_N iz_A P_ZzaS5e",formSection:"W_3vPwA",headerLabel:"A_6EWk M_27msYt u_dPo i_6LEV",errorWrapper:"A_6EqO i_6LEV C_ZkiIcp D_F ab_CI U_6LEV",errorIcon:"E_fq7 D_F",buttonsWrapper:"D_F ab_C gl_CI H_6TFj M_1S6wUp",primaryButton:"r_P D_X H_6TFj q_Z2aVTcY M_Z11UGJB e_dRA k_w en_0 V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z29WjXl",disabledPrimaryButton:"r_A D_X H_6TFj q_Z2aVTcY M_Z11UGJB e_dRA k_w en_0 V_M cZ1RN91d_n y_Z2uhb3X A_6EqO u_e69 b_0 P_1EudUu C_52qC I4_Z2aVTcY l4_Z2aVTcY O_cMq",cancelButton:"b_n r_P C_Z1YRXYn V_M D_X q_T A_6EqO H_6TFj P_1EudUu u_e69 M_dxMae I4_15sa3J C4_Z281SGl",textBody:"M_0",link:"C_Z2aVTcY r_P"},invalidEmail:{headerLabel:"M_27mluB"},accountExist:{headerLabel:"M_27mcXI"}},_key:"1h6azx"}},function(e,t,a){"use strict";e.exports={className:{default:{formWrapper:"em_N iz_A P_ZzaS5e",formSection:"W_3vPwA",titleWrapper:"D_F A_6EWk U_72FG",label:"u_b A_6EqO M_Ic9xa",textInput:"A_6EqO H_7jIs",link:"C_Z2aVTcY r_P",textWrapperContainer:"Y_72FG i_6Fd5",textWrapper:"D_F A_6DUj",suggestionsContainer:"Y_72FG",suggestions:"Y_6LEV P_0 hd_n",suggestionsListItem:"U_6Eb4",suggestion:"r_P C_Z2aVTcY u_e69",buttonWrapper:"M_Z1sBvxS",saveButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_Z2aVTcY E_fq7 e_dRA b_0 C_52qC I4_Z29WjXl",cancelButton:"r_P D_X H_6TFj k_w en_0 V_M s_7yHc P_1EudUu y_Z2uhb3X A_6EqO u_e69 cZ1RN91d_n I_52qC b_0 C_ZvsWfq I4_2iedUU C4_Z29WjXl"}},_key:"1A5evt"}},function(e,t,a){"use strict";e.exports={className:{default:{groupHeader:"D_F d_74JI m_Z12nDQf X_6VdP N_6LEV I_52qC",subjectRow:"D_F ab_C em_N o_h A_6FsP P_3Y3Gk",subject:"en_N G_e J_x o_h i_3mCHE cdPFi_Z2drWk6 D_F ab_C",subjectText:"E_fq7",noSubject:"M_3gI0W"}},_key:"162rFa"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_3zJDR k_w I_52qC D_F el_QDCVj",header:"M_0 P_SdaxL A_6FsP D_F el_Z1mLfFl ab_AJ u_e69",icon:"p_a M_6FIA",title:"em_N N_6Fd5 i_6MGW",close:"ac_2ou4X1",message:"P_1EudUu",controls:"P_1EudUu"}},_key:"ZmblT"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_BB ab_FT W_6D6F o_A",headerSection:"M_Z1ONggB",viewHeader:"t_C A_6TFj i_72FG",viewDescription:"c2geo8R_6EqO t_C C_Z1VRpVF i_6FIA",playerContainer:"D_F ek_BB M_1EAG48 en_0 gl_C o_A",videoContainer:"M_1EAG48 D_F gl_C",msgContainer:"je_fq7 M_1EAG48",videoTitle:"A_6FsP u_e69 C_Z281SGl i_6MGW",videoSubtitle:"A_6EqO C_Z1VRpVF i_6FIA"},"themeMode-DARK":{container:"C_52qC",header:"m_ZYfFSw",viewHeader:"C_52qC",viewDescription:"C_ZpQYvz",videoTitle:"C_52qC",videoSubtitle:"C_ZpQYvz"}},_key:"1YBqEn"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"ir_n M_0 P_0 b_0 p_a o_h Z_N q_Z281SGl e_dRA",coverImage:"D_B W_6D6F H_6D6F M_0 P_0 b_0",playButton:"p_a r_P L_e5X T_e5X ir_n P_0 b_0 M_0 h_16WrXa",errorContainer:"W_6D6F p_a L_e5X T_e5X P_0 b_0 M_0 h_16WrXa",errorMessage:"C_52qC i_6MGW A_6FsP P_ZkVrXL",reloadButton:"C_52qC q_Z1YRXYn H_6VdP P_1Eumrn b_n r_P u_b p_a L_e5X T_e5X h_ZhN1V2"},"showError-true":{coverImage:"O_cMn"}},_key:"Z1NnXFu"}},function(e,t,a){"use strict";e.exports={className:{default:{galleryContainer:"M_ZQxzll P_3gJiI D_F eo_HB gl_C"}},_key:"Z23SxlN"}},function(e,t,a){"use strict";e.exports={className:{default:{itemContainer:"M_3gJiI p_R r_P W_3nF5b",thumbnail:"W_3nF5b H_7GHz k_w O_cMu",playButton:"p_a T_6LUG L_7ceA r_P",playingText:"p_a T_0 L_0 A_6DUj i_6EGz C_52qC I_Z2aVTcY t_l fd_i P_eo6",videoTitle:"A_6EqO i_6FIA u_e69 C_Z281SGl U_6Eb4"},isPlaying:{thumbnail:"b_1XBKym O_N"},isHovered:{thumbnail:"O_N"},"themeMode-DARK":{videoTitle:"C_52qC"}},_key:"ZDjdcj"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"p_a B_fq7 L_0 R_0 P_14vtzo M_0 Z_7G9R"}},_key:"2ott0q"}},function(e,t,a){"use strict";e.exports={className:{default:{optionLabel:"C_Z281SGl u_e69 i_6Fd5 D_X W_eRe X_eo6 o_h mq_AS A_6Eb4",panelContainer:"p_R U_69H5 e_dRA q_52qC r_P j_nWwhY D_F ab_C H_6UHk X_eDQ N_eDQ lv_Z8FlFB b_Z1Mmp0D U8_0",closeBtn:"v_h W_6LEV H_6LEV e_dRA"},close:{panelContainer:"lz_BV lv_6uD6 h_1UIL7R"},extraPadding:{panelContainer:"je_eDQ jb_eDQ"},isParentHovered:{panelContainer:"j_ZqTdtW U_eo6 U8_0"},isHovered:{closeBtn:"v_v I4_Z1vP31I"},animate:{panelContainer:"ah_Z1UlhVi"},"color-WARNING_GRAD_RED":{panelContainer:"b4_Z1222NH"},"color-SELECTED":{panelContainer:"b4_2fAfSG"},"color-NORMAL":{panelContainer:"b4_2ivgpk"},"color-ADVISORY":{panelContainer:"b4_ZXQDCD"},"color-YBADGE":{panelContainer:"b4_2leNMI"}},_key:"19R9qn"}},function(e,t,a){"use strict";e.exports={className:{default:{wrapper:"p_a B_0 L_0 R_0 P_14vtzo M_0",feedbackContainer:"q_Z1YRXYn M_0 p_R L_0 B_0 m_ZYfFPt k_w j_2nlWO5 Z_6D6Q u_e69 i_6EWk C_52qC r_P t_C e_Z2iODyd P_Z2gcU5A ab_C",upgradeContainer:"q_Z1YRXYn M_0 p_R L_0 B_0 m_ZYfFPt k_w j_2nlWO5 Z_6D6Q u_e69 i_6EWk C_52qC r_P t_C e_Z2iODyd P_Z2gcU5A ab_C",optionLabel:"C_52qC u_e69 X_e8l J_N i_6EWk",feedbackLink:"D_F"},animate:{upgradeContainer:"ah_Z1WytCd"}},_key:"ZM0W75"}},function(e,t,a){"use strict";e.exports={className:{default:{actionContainer:"D_F M_28eW7C",cueContainer:"D_F ek_EZ a_3zlCJ",cueContainerWrapper:"D_F ek_BB em_N P_ZH79gU I_52qC s_3qWeB a_3zJDR",svgStyle:"D_F gl_C ab_C I_52qC e_v8Hnf s_7bcz P_1KSxRP em_0",containerBorder:"W_q H_eo6 I_Z2aVTcY",close:"p_a T_6LEV R_6LEV"},"cueVariant-defaultPurchasesCue":{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",cueContainer:"a_xTLMB",svgStyle:"P_Z1ywKaK",icon:"W_7qGO H_7jcW",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"M_0 J_x"},"cueVariant-shopRunnerViewCue":{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",cueContainer:"a_xTLMB",svgStyle:"P_GGtiQ",icon:"W_7ALe H_7bI5",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"M_0"},"cueVariant-defaultQuotientCue":{body:"A_6EqO i_6FIA C_Z1Xxgu0 M_Z26RiTK",container:"W_e5X D_F gl_FM ek_BB",ppContainer:"D_F gl_FM ek_BB em_N",containerBorder:"I_Z1YQ5if M_Z2fXxfr W_82XEY",cueContainer:"a_n b_Z14vXdP e_dRA M_Z2qz5Ct",cueContainerWrapper:"s_n a_n",header:"i_6FIA A_6EqO u_b C_Z281SGl",icon:"W_7iGr H_7iGr",svgStyle:"P_6LEV"},smartViewCue:{header:"A_6FsP i_6NIX u_e69 M_0",cueContainerWrapper:"P_Z12dBKo",svgStyle:"P_n81yo"},groceriesSmartView:{header:"A_6FsP i_6NIX u_e69 M_Z1fen2B H_6TFj",containerBorder:"I_Z29jSvh",cueContainer:"a_xTLMB",cueContainerWrapper:"N_0",svgStyle:"W_3mS2U P_GGreO",body:"A_6EqO i_6FIA C_Z281SGl M_SBKYM",actionContainer:"M_0"}},_key:"1xQd3J"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"b_Z14vXdP cm_0 bn_0 p_R D_F ek_BB em_N o_h aw_Z22yhkg I_kt4zd az_oOItw ba_Z2gmOa3 ay_Z1p6ctn c2hBT4u_Zm6i39 cZTwBjO_Zdogtk",bgContainer:"aw_2941hk ba_10I1Qt az_oOItw ay_Z1nkUQx I_kt4zd"}},_key:"iTg2Q"}},function(e,t,a){"use strict";e.exports={className:{default:{iframe:"b_n I_Zmk8Gp em_N"}},_key:"Z15xkoj"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB gl_C ab_C t_C",link:"C_Z2aVTcY"}},_key:"1Cd0Hf"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_6D6F",inner:"W_3n93F M_1EAG48",button:"C_52qC I_Z1Xxgu0 O_6uDw P_Z1E30bS b_n",rightButton:"C_52qC I_Z1Xxgu0 O_6uDw b_n e_e8l p_a B_0 U_e5X H_72FG W_6NIX R_6Fd5 T_e5X h_ZBOl0O",leftButton:"C_52qC I_Z1Xxgu0 O_6uDw b_n e_e8l p_a B_0 U_e5X H_72FG W_6NIX L_6Fd5 T_e5X h_ZBOl0O",zoomWrapper:"Q_eDQ E_eDQ",buttonIcon:"Y_eTB M_Z1iKcDS",slider:"p_a B_7rYA",rtlRawScaleX:"rtlR_rtlR_h_2gl0WC "}},_key:"Mffoh"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"p_a B_6TFj H_6NIX W_3nV5V e_e8l I_Z1Xxgu0 O_6uDw Q_A E_A L_0 R_0 C_52qC t_C",barContainer:"D_X M_1HT1B4 p_R",bar:"I_ZvsWfq H_eTB W_3n93F e_eo6 r_P",slider:"I_52qC e_6DEy H_6DEy W_6DEy T_689y p_a r_P",inner:"D_F"}},_key:"ZVxq3G"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F em_N ek_BB",content:"q_1TkQOB em_N D_F ek_BB gl_C ab_C"}},_key:"Z2eQbzU"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"D_F ek_BB em_N p_R",content:"q_1TkQOB em_N D_F ek_BB gl_C ab_C p_R",imageWrapper:"p_a T_0 L_0 W_6D6F H_6D6F o_A t_C D_F ab_C",image:"k_w en_0 M_A gg_1fx0Xo"}},_key:"nghbs"}},,,,,,,,,,,,,,,,,,,,,,function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC",header:"A_6EqO M_ZClDBx",couponList:"M_1Eu7sD P_0",coupon:"D_F ab_C m_2wc7QY m8_n I4_1I4yPF",image:"D_F ab_C E_6Eb4",content:"D_F ek_BB",name:"A_6FsP U_dRA Y_6Eb4 i_6LEV",description:"A_6EqO K_6VdP o_h U_dRA",expiration:"A_6EqO U_6Eb4 C_Z1TsNWR"},isCompactSize:{container:"a_3o4BO",coupon:"ek_BB ab_FO",name:"Y_0 U_0 Q_fq7",image:"Y_6Eb4 U_fq7"},"themeMode-DARK":{container:"I_sgPuT l_T",header:"C_ZpQYvz",name:"C_ZpQYvz",description:"C_ZpQYvz",coupon:"bj_ajP6C I4_ajP3z"},"themeMode-MEDIUM":{container:"I_sgPuT l_T",header:"C_ZpQYvz",name:"C_ZpQYvz",description:"C_ZpQYvz",coupon:"bj_ajP6C I4_ajP3z"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"Z21ilS7"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN W_3vpWV a_3vpWV k_w D_F ek_BB cZ1RN91d_GG en_0 em_N P_6Fd5",header:"u_e69 A_6EWk U_6LEV",item:"D_F U_6Eb4",avator:"E_6Eb4",headline:"u_b A_6EWk",summary:"U_fq7"},narrowScreen:{container:"W_d8J a_d8J"},"themeMode-DARK":{container:"I_sgPuT",headline:"C_Z21zYBA",summary:"C_ZvsWfq",header:"C_ZvsWfq"},"themeMode-MEDIUM":{container:"I_sgPuT",headline:"C_Z21zYBA",summary:"C_ZvsWfq",header:"C_ZvsWfq"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"Z1Gshsb"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC r_BN W_3vpWV a_3vpWV k_w D_F ek_BB cZ1RN91d_GG en_0 em_N P_6Fd5",header:"D_F ab_C U_fq7",avator:"E_6Eb4",headline:"u_e69 C_Z2aVTcY A_6EWk",summary:"A_6EqO U_fq7",source:"A_6DUj C_Z2aVTcY"},narrowScreen:{container:"W_d8J a_d8J"},"themeMode-DARK":{container:"I_sgPuT",headline:"C_Z21zYBA",summary:"C_ZvsWfq",source:"C_Z21zYBA"},"themeMode-MEDIUM":{container:"I_sgPuT",headline:"C_Z21zYBA",summary:"C_ZvsWfq",source:"C_Z21zYBA"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"ZFmCgS"}},function(e,t,a){"use strict";e.exports={className:{default:{header:"A_6EqO M_V9fzB X_6Fd5",container:"I_52qC i_6Mbr D_F ek_BB en_0 M_Zm1Iab W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",query:"X_6Fd5 C_Z2aVTcY cdPFi_Z2aVTcY C4_Z29WjXl cdPFi4_Z29WjXl u4_e69 r_P D_F",queryList:"M_S9pNs ha_n P_0",circle:"D_n",corner:"D_n",searchIcon:"Q_dRA C_q cdPFi_q D_n ab_C",webSearchIcon:"D_n"},darkTheme_default:{query:"C4_52qC cdPFi4_52qC C_ZpQYvz",header:"C_ZpQYvz"},numberList:{query:"D_DD ha_Z1nvPrc i_6UbO",queryList:"p_R",webSearchIcon:"D_F p_a R_q1 T_djH"},darkTheme_numberList:{query:"D_DD ha_Z1nvPrc i_6UbO C4_52qC C_ZpQYvz",header:"C_ZpQYvz",queryList:"p_R",webSearchIcon:"D_F p_a R_q1 T_djH"},tagCard:{query:"D_DD ha_2o0BsY i_6UbO X_0 Q_6Fd5 E_6MWH m_Z14vXdP C_Z281SGl C4_Z2aVTcY m8_n hc_Z1iRNWE",header:"A_6EWk Y_6Fd5 X_6UbO",queryList:"bq_ZjwpS7 bs_FT cn_6FsP cg_FJ p_R Y_36T6c P_ZogEqy Q_6Fd5 E_6Fd5",circle:"W_6Eb4 H_6Eb4 D_CS p_a T_e5X R_0 I_ptT19 e_e5X"},darkTheme_tagCard:{query:"D_DD ha_2o0BsY i_6UbO X_0 Q_6Fd5 E_6MWH m_ZYfFSw C4_52qC m8_n C_ZpQYvz hc_Z1iRNWE",header:"A_6EWk Y_6Fd5 C_ZpQYvz X_6UbO",queryList:"bq_Z12SEYt bs_FT cn_6FsP cg_FJ p_R Y_36T6c P_ZogEqy Q_6Fd5 E_6Fd5",circle:"W_6Eb4 H_6Eb4 D_CS p_a T_e5X R_0 I_2sqbOe e_e5X"},hoverRow:{query:"i_6UbO I4_1I4z5p C4_Z281SGl cdPFi4_Z281SGl u4_N C_Z281SGl cdPFi_Z281SGl",header:"A_6EWk X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5"},darkTheme_hoverRow:{query:"m_ZYfFSw i_6UbO I4_ZMqvwf C4_ZpQYvz cdPFi4_ZpQYvz u4_N m8_n C_ZpQYvz cdPFi_ZpQYvz",header:"A_6EWk C_ZpQYvz X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5"},cornerFold:{query:"i_6UbO I_ZnIF8Y I4_1Hvwe1 C4_Z281SGl cdPFi4_Z281SGl u4_N C_Z281SGl cdPFi_Z281SGl m_6i9dl p_R e_dRA",header:"A_6EWk X_6Fd5",queryList:"U_fq7 Q_6Fd5 E_6Fd5 Y_fq7",corner:"p_a W_0 H_0 n_Z2HSe2 m_Z1gWEmL B_0 R_0 D_CS"},darkTheme_cornerFold:{query:"i_6UbO I_sgPuT I4_ajP3z C4_ZpQYvz cdPFi4_ZpQYvz u4_N C_ZpQYvz cdPFi_ZpQYvz p_R cj_dRA bk_dRA U_dBP",header:"A_6EWk X_6Fd5 C_ZpQYvz",queryList:"U_fq7 Q_6Fd5 E_6UbO Y_fq7",corner:"p_a W_0 H_0 n_2cSrVM m_cxfg2 B_0 R_36KP4 D_CS",square:"p_a W_6Fd5 H_6Fd5 T_0 R_36KP4 D_CS I_sgPuT ck_dRA"},"themeMode-DARK":{container:"I_sgPuT l_T"},"themeMode-MEDIUM":{container:"I_sgPuT l_T"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"Z1iYiXB"}},function(e,t,a){"use strict";e.exports={className:{default:{hotelCardHeader:"aw_GinNQ H_7Ig6 D_F ab_CH P_Z1VdT10 k_w gl_FM U_eo6 W_6D6F",formRow:"D_F H_6VdP ab_C U_dBP",locationSelector:"X_fq7 D_F ab_C W_6D6F m_2tEJa0 cdPFi_Z1TsNWR",arrow:"h_22ufi4 W_6LEV H_6LEV cdPFi_Z1TsNWR",formColumn:"W_e5X D_F ab_C a_3nx4N",formColumnUnderline:"W_e5X D_F ab_C a_3nx4N m_2tEJa0",datepickerInput:"W_3mU6W em_N ir_n D_F ab_C p_R q_T A_6EqO H_6VdP P_3gJOe",divider:"W_6LEV",selector:"D_F ab_C",selectorLabel:"a_7rdk J_x o_h G_e",selectLabel:"E_fq7 D_F gl_FL C_Z281SGl m_2tEJa0 H_6VdP i_6VdP X_6EGz",form:"W_6D6F a_6D6F k_w P_1Eu6qC",typeahead:"Q_eo6 p_R W_6D6F"},isDarkTheme:{typeaheadInput:"C_ZpQYvz A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z2aVTcY",dateInput:"C_ZpQYvz M_0 b_n ir_n ev_q I_q",datepickerIcon:"D_F ab_C i_6NIX cdPFi_ak5m8",selectedValue:"em_N o_h J_x D_X G_e C_ZpQYvz",selector:"C_ZpQYvz",locationSelector:"cdPFi_ak5m8",arrow:"cdPFi_ak5m8"}},_key:"es0HS"}},function(e,t,a){"use strict";e.exports={className:{default:{typeahead:"p_R",typeaheadInputContainer:"W_6D6F p_R",typeaheadInput:"A_6EqO W_6D6F P_Z1HqVOA k_w p_R Z_N q_T b_0 J_x G_e bj3_Z2aVTcY",typeaheadInputHint:"A_6EqO W_6D6F P_Z1HqVOA k_w J_x G_e p_a T_0 L_0 b_n I_T",typeaheadDropDown:"W_6D6F p_a ha_n P_0 M_0 Z_fcS j_ZqTdtW I_52qC",typeaheadOption:"i_72FG P_1EudUu r_P J_x G_e o_h q_52qC q4_1I4yPF cZ1WADo5_1I4z5p"}},_key:"Z2duRle"}},function(e,t,a){"use strict";e.exports={className:{default:{ticketCardHeader:"aw_yQdE5 H_7Ig6 D_F ab_CH P_Z1VdT10 k_w gl_FM U_eo6 W_6D6F",form:"W_6D6F a_6D6F P_1Eu7sD k_w",searchBar:"D_F M_1urc83",searchBarIcon:"W_6UbO H_6UbO I_Z2aVTcY e_ZB2Q32 D_F gl_C ab_C r_P",typeahead:"H_6UbO p_R I_ZnIF8Y e_Z272TOo em_N",categorySearchTitle:"C_Z1VRpVF",buttonGroup:"M_Z18KXHe D_F gl_FM",ticketCardButton:"H_7iGr e_dRA I_2iee8C cdPFi_Z2aVTcY C_Z2aVTcY D_F ek_BB gl_C ab_C r_P W_7He5"},isDarkTheme:{ticketCardButton:"C_Z21zYBA cdPFi_Z21zYBA"}},_key:"1I1OFe"}},function(e,t,a){"use strict";e.exports={className:{default:{plaAdsPanelRoot:"W_3vpWV H_6D6F d_3vFsb k_w I_52qC r_BN y_ZBxoCT A_6EGz i_1HuQKY cZ1RN91d_n u_dPo cZzavut_Zc28mn Z_qc o_h a_3vpWV cg_FJ cn_3vzlv l_ZpQYvz",plaAdsSubPanelRoot:"k_w W_q D_F ek_BB H_q P_Z2c8bsK",headerTitle:"y_198fST A_6EqO C_Z281SGl t_l i_6FIA U_82XEY Y_82XEY",sponsoredIcon:"r_P b_0 P_0 I_T en_0 ac_C D_F ab_C M_1wVxIt C_Z2drWk6 cdPFi_Z2drWk6",headerTitlePanel:"D_F ab_C U_6Eb4",sponsored:"A_6DEy ab_C D_F C_52qC M_SraT1 P_3gIgH I_ZxFlP3 u_b gl_C H_6EWk b_0 r_P",plaAdsContainer:"F_N o_A",loadingContainer:"p_R T_dC0",noAdsContainer:"t_C p_R T_dzs"},"themeMode-DARK":{plaAdsPanelRoot:"I_sgPuT C_ZpQYvz n_n0e9V l_T",headerTitle:"C_ZvsWfq",noAdsText:"C_52qC"},"themeMode-MEDIUM":{plaAdsPanelRoot:"I_sgPuT C_ZpQYvz n_n0e9V l_T",headerTitle:"C_ZvsWfq",noAdsText:"C_52qC"},"themeCombo-DARK_NIGHT_LANDSCAPE":{plaAdsPanelRoot:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{plaAdsPanelRoot:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{plaAdsPanelRoot:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{plaAdsPanelRoot:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{plaAdsPanelRoot:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{plaAdsPanelRoot:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{plaAdsPanelRoot:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{plaAdsPanelRoot:"I_t5YMW"}},_key:"ZhXjI1"}},function(e,t,a){"use strict";e.exports={className:{default:{plaAdsPanel:"W_6D6F r_P H_3naQW k_w P_Z2ppRhI m_Z14vXdP e_dRA D_F I4_1I4yPF",plaImagePanel:"Y_A U_A q_52qC b_Z1GeMLA e_dRA",adImage:"H_7rdk W_7rdk ba_BE ay_C"},"themeMode-DARK":{plaAdsPanel:"m_ZYfFPt I4_1YEmYj"},"themeMode-MEDIUM":{plaAdsPanel:"m_ZYfFPt I4_1YEmYj"}},_key:"1V5wiR"}},function(e,t,a){"use strict";e.exports={className:{default:{plaAdDescription:"N_eo6 X_6Eb4",adTitle:"y_Z2uhb3X A_6EqO C_Z281SGl gp_0 i_6FIA u_b M_82XEY H_7bcz o_h",adPricePanel:"D_F Y_fq7 y_Z2uhb3X",itemPrice:"A_6EqO C_Z2ak3tK gp_0 i_6FIA u_b M_82XEY",subscriptText:"V_FW i_fam A_6DUj",itemOriginalPrice:"A_6DUj C_Z1VRpVF gp_0 i_6FIA M_82XEY S_DB X_fq7",productText:"Y_eo6 y_Z2uhb3X A_6DUj C_Z281SGl gp_0 i_6EWk M_82XEY",ratingPanel:"D_F",starPanel:"E_eTB"},"themeMode-DARK":{adTitle:"C_ZpQYvz",productText:"C_ZpQYvz",itemOriginalPrice:"C_ZvsWfq"},"themeMode-MEDIUM":{adTitle:"C_ZpQYvz",productText:"C_ZpQYvz",itemOriginalPrice:"C_ZvsWfq"}},_key:"Z13pwf9"}},function(e,t,a){"use strict";e.exports={className:{default:{gptSegmentedControlRoot:"D_F jb_fq7",gptSegmentedControlPanel:"W_3v1VN o_h p_R",gptSegmentedControlSubPanel:"W_CD lv_1Ys0hR p_a L_0",backButtonContainer:"H_6MGW b_ZGN9rt q_T Z_qd cj_dRA bk_dRA l_ZVhlrG I4_IyTRc",nextButtonContainer:"H_6MGW b_ZGN9rt q_T Z_qd ck_dRA bl_dRA Q_A l_ZVhlrG I4_IyTRc",navButton:"u_b P_nkDTO cdPFi_2qemPL",filterItem:"I_T b_n V_GI D_I C_q r_q y_q u_q M_1Eu7sD a_3nh43 A_6EqO ir3_1JO2M7 it3_dRA D33_B dq33_Z1WN6IG u33_b H33_0 C33_T o33_h v33_h",filterItemText:"W_q G_e o_h J_x D_B"},"themeMode-MEDIUM":{navButton:"cdPFi_52qC"},"themeMode-DARK":{navButton:"cdPFi_52qC"}},_key:"1GzYqy"}},function(e,t,a){"use strict";e.exports={className:{default:{gptDropdownHeaderContainer:"b_ZGN9rt r_P l_ZVhlrG I_Z2tSq0X e_dRA H_6MWH P_Zl3sKS U_fq7 D_F ab_C",gptHeaderText:"M_82XEY E_A y_Z2uhb3X u_b A_6EqO C_Z281SGl W_3rui8 J_x G_e o_h",displayGptItemListButton:"cdPFi_2qemPL",gptItemIcon:"A_0 p_a T_0 B_0 L_fq7 D_F ab_C",gptItemLabel:"W_3rv4o X_6LEV J_x G_e o_h"},"themeMode-DARK":{displayGptItemListButton:"cdPFi_52qC",gptHeaderText:"C_52qC"},"themeMode-MEDIUM":{displayGptItemListButton:"cdPFi_52qC",gptHeaderText:"C_52qC"}},_key:"1Vge5D"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC i_6Mbr P_6Fd5 D_F ek_BB en_0 M_Zm1Iab W_3vpWV a_3vpWV cn_3vzlv cg_FJ l_ZpQYvz",itemContainer:"M_Zm9Qxy b_17JfEC W_3v1qi",itemHeader:"H_3niBz W_3v1qi D_F ab_C o_h p_R",itemImage:"W_3v1qi",itemPrice:"p_a R_0 B_fq7 q_2sqbRh P_fQoXz u_b",itemInfo:"W_3v1qi q_52qC H_72FG D_F ab_C p_R",itemRetailer:"W_e5X t_C i_6MGW x_ZEv9YT",itemLink:"W_e5X t_C"},"themeMode-DARK":{container:"I_sgPuT l_T",itemInfo:"q_sgPuT C_2sqbRh",itemRetailer:"x_s4AVE",itemLink:"C_2sqbRh"},"themeMode-MEDIUM":{container:"I_sgPuT l_T",itemInfo:"q_sgPuT C_2sqbRh",itemRetailer:"x_s4AVE",itemLink:"C_2sqbRh"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW"}},_key:"kA4Yi"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"I_52qC k_w W_3vpWV a_3vpWV",header:"M_1UqJXO A_6FsP u_b C_Z281SGl",retailers:"ha_n M_1Eu7sD D_F P_0 ek_BB U_6Eb4",retailer:"I_ZnkeaL H_73HH D_F M_3HLUz P_fQwsr e_eo6 r_P F_n ab_C p_R u4_b I4_1I4yPF",retailerName:"A_6EqO o_h y_q Q_6LEV",expandButtonContainer:"D_F gl_C M_1HT1B4 cdPFi_ZamTeg C_ZamTeg",expandButton:"b_n y_q r_P D_F ab_C A_6EqO C_q u_b I_T",retailerSelected:"I_1I4z5p H_73HH D_F M_3HLUz P_fQwsr e_eo6 r_P F_n ab_C p_R I4_1I4z5p u_b"},"themeMode-DARK":{container:"I_sgPuT l_T",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeMode-MEDIUM":{container:"I_sgPuT l_T",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_NIGHT_LANDSCAPE":{container:"I_cOYF6",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_NIGHT_LANDSCAPE":{container:"I_cOYF6",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_ROADTRIP":{container:"I_1iaDt1",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_ROADTRIP":{container:"I_1iaDt1",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_SUNSET_AUSSIE":{container:"I_2woj1H",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_SUNSET_AUSSIE":{container:"I_2woj1H",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-DARK_LIGHTHOUSE":{container:"I_t5YMW",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"},"themeCombo-MEDIUM_LIGHTHOUSE":{container:"I_t5YMW",header:"C_52qC",retailerName:"C_52qC",retailer:"I_1YEmYj I4_ZFyHXD",retailerSelected:"I_ZFyHXD I4_ZFyHXD"}},_key:"1ewvsG"}},function(e,t,a){"use strict";e.exports={className:{default:{container:"P_Z1E2XDm I_52qC",header:"A_6FsP u_b M_3Y3Gk",expandButton:"D_F ab_C gl_C M_3Y3Gk r_P u_b C_ZamTeg cdPFi_ZamTeg",item:"D_F o_h ab_C P_1Eu6qC e_eo6 M_ZlKroq q_ZnkeaL bm_n M8_0 q4_1I4yPF",link:"F_N D_F o_h ek_EZ ab_C",avatar:"W_72FG H_72FG e_6FIA q_sgPtS",content:"F_N D_F ek_BB gl_C P_1e3HE7",fromName:"H_6DEy W_7zJd q_sgPuo e_eo6",description:"M_829jJ H_6DEy W_3na5G q_sgPtS e_eo6",expiration:"M_829jJ H_6DEy W_3mS2U q_sgPtS e_eo6",clippedButton:"F_n I_Z287E9E l_Z287E9E e_dRA cn_dBP cg_FJ j_n D_F ab_C gl_C W_72FG H_72FG k_w P_0 M_0",onboarding:"A_6EWk q_ZamTeg e_fq7 H_7bcz D_F ab_C gl_C C_52qC",arrowContainer:"D_F gl_CH M_ZlKroq",arrow:"M_1Bs8Qs W_0 H_0 n_ZMviHe x_ZMviHe z_Z1HrxdM"},"themeMode-MEDIUM":{container:"I_sgPuT C_ZpQYvz",item:"q_1YEmYj q4_ZFyHXD",avatar:"q_2sqbOe",fromName:"q_2sqbOJ",description:"q_2sqbOe",expiration:"q_2sqbOe"},"themeMode-DARK":{container:"I_sgPuT C_ZpQYvz",item:"q_1YEmYj q4_ZFyHXD",avatar:"q_2sqbOe",fromName:"q_2sqbOJ",description:"q_2sqbOe",expiration:"q_2sqbOe"}},_key:"Z2ve0ds"}},,function(e,t,a){"use strict";e.exports={className:{default:{container:"p_R D_F q_52qC W_e5X",ppContainer:"D_F q_52qC W_6D6F",imageContainer:"W_7rdk I_Z29dcUK em_0 U_6Eb4 D_F ab_C gl_C e_v8Hnf",image:"W_72FG H_74ed",messageContainer:"b_Z14vXdP bz_0 bx_52qC e_Z7M5b9 E_6Eb4 U_6Eb4 P_6Eb4 em_N D_F ab_C gl_FM",messageText:"D_F ek_BB gl_C H_74JI",arrowContainer:"W_eTB U_6Eb4 D_F ab_C",arrow:"W_6Eb4 H_6Eb4 I_Z29dcUK h_1RtVxM p_a",header:"u_b",closeContainer:"P_fq7"}},_key:"Z1MKXkp"}},function(e,t,a){"use strict";a.r(t),a.d(t,"ShopRunnerPostSignUp",function(){return _});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(0),c=a(1027);const d="https://www.shoprunner.com/oidc/yahoo?state=",m=Object(o.h)({body:{id:"shopRunner_upsell.body",defaultMessage:"Enjoy <b>ShopRunner free 2-day shipping and free returns</b> on <b>{shopRunnerRetailer}</b>."},primary_button:{id:"shopRunner_upsell.primary_button",defaultMessage:"Shop Now"}});class _ extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{const{shopRunnerMerchantUrl:e}=this.props;window.open(d+`${e}`,"_blank")}),this.computeActionData=(()=>({mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:l.ib.IC,featurename:l.kb.SHOPRUNNER,retailername:this.props.shopRunnerRetailer}})),t}render(){const{useCueAsCard:e,useCueInMessageRead:t,cardName:a,useCloseIcon:n,shopRunnerRetailer:s}=this.props,i=babelHelpers.extends({},m.body,{values:{mailBrandNameString:this.context,shopRunnerRetailer:s}});return r.a.createElement(c.a,{cardName:a,bodyText:i,onTryButton:this.onTryButton,tryButtonText:m.primary_button,useCueInMessageRead:t,useCueAsCard:e,isShopRunnerPostSignUp:!0,useCloseIcon:n,computeActionData:this.computeActionData})}}_.contextTypes={intl:o.i.isRequired,executeAction:s.a.func,mailBrandNameString:s.a.string},t.default=_},function(e,t,a){"use strict";e.exports={className:{default:{header:"i_6FIA A_6EqO u_b C_Z281SGl",body:"A_6EqO i_6FIA C_Z281SGl",actionContainer:"D_F M_28eW7C",cueContainer:"D_F a_3w6xl",cueContainerWrapper:"D_F ek_BB em_N P_Z1n8NQW I_52qC s_3rLkT a_3zJDR",svgStyle:"D_F gl_C ab_C I_Z2aVTcY e_Z272TOo s_7yHc em_0",closeContainer:"f_r",messageContainerWrapper:"D_F p_R gl_FM",messageContainer:"D_F ek_BB"},useCueInMessageRead:{cueContainer:"D_F P_23Qdz1 I_52qC U_eo6 a_n",cueContainerWrapper:"D_F ek_BB em_N P_5xwGq I_52qC s_3qWeB a_3vxrN e_dRA b_Z14vXdP",messageContainer:"N_6Fd5"},useCueAsCard:{cueContainer:"P_0 em_O W_e5X U_6Fd5",cueContainerWrapper:"s_3nV5V E_fq7 a_n"},isShopRunner:{cueContainer:"em_O W_fc3 P_6Fd5 U_6Fd5 ab_C",image:"H_7bcz W_1WuhWF je_6Fd5 jb_6Fd5 N_6Eb4 X_fq7 em_0 ab_C",cueContainerWrapper:"D_F ek_EZ em_N P_0 I_52qC Q_A E_A W_6D6F s_3zREf a_3Qas1 K_7zJd ab_C gl_FM",messageContainer:"X_6TFj N_6UX5 D_F ek_n",actionContainer:"D_F ab_C gl_C P_xRzsp J_x"},isShopRunnerPostSignUp:{cueContainer:"W_fc3 P_6Fd5 U_6Fd5 ab_C",actionContainer:"X_6EGz je_dRA r_P N_dm5 C_Z2aVTcY u_b ab_C gl_C",cueContainerWrapper:"H_6Nds I_2ieeaE P_0 E_fq7 e_dm5 b_82XEY W_f9v s_n a_n ab_C",messageContainer:"je_e8l ek_n"},lessImportantBody:{body:"A_6EqO i_6FIA C_Z1Xxgu0",header:"U_eTB"}},_key:"Zvvc7t"}},function(e,t,a){"use strict";a.r(t),a.d(t,"ShopRunnerCue",function(){return g}),a.d(t,"mapStateToProps",function(){return E}),a.d(t,"mapDispatchToProps",function(){return b});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(4),l=a(60),c=a(13),d=a(1027),m=a(1),_=a(0),u=a(9);const h=Object(l.a)("/img/truck_shoprunner.png"),p=Object(o.h)({body:{id:"shopRunner_cue.body",defaultMessage:"{mailBrandNameString} users enjoy unlimited <b>free 2-day shipping, free returns</b> from <b>{shopRunnerRetailer}</b> and <b>100+ other stores</b>."},ordBodyV1:{id:"shopRunner_cue.ordBodyV1",defaultMessage:"Hate to pay shipping fee? {mailBrandNameString} users can now enjoy <b>free 2-day shipping, free returns</b> from <b>{shopRunnerRetailer}</b> and <b>100+ premium stores</b> with ShopRunner."},ordBodyV2:{id:"shopRunner_cue.ordBodyV2",defaultMessage:"Love <b>free 2-day shipping, free returns</b>? Get these benefits at <b>{shopRunnerRetailer}</b> and <b>100+ premium stores</b>. Exclusive free membership for {mailBrandNameString} users"},primary_button:{id:"shopRunner_cue.primary_button",defaultMessage:"Activate free shipping"}});class g extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{this.props.openLinkModal()}),this.computeActionData=(()=>({mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:_.ib.IC,featurename:_.kb.SHOPRUNNER,retailername:this.props.shopRunnerRetailer}})),t}render(){const{useCueAsCard:e,useCueInMessageRead:t,cardName:a,useCloseIcon:n,shopRunnerRetailer:s,showShopRunnerOrdMsg:i,srCardVariant:o}=this.props,{mailBrandNameString:l}=this.context,c={mailBrandNameString:l,shopRunnerRetailer:s};let m=babelHelpers.extends({},p.body,{values:c});return i&&("srVariant1"===o?m=babelHelpers.extends({},p.ordBodyV1,{values:c}):"srVariant2"===o&&(m=babelHelpers.extends({},p.ordBodyV2,{values:c}))),r.a.createElement(d.a,{cardName:a,bodyText:m,onTryButton:this.onTryButton,tryButtonText:p.primary_button,pngImageUrl:h,useCueInMessageRead:t,useCueAsCard:e,isShopRunner:!0,useCloseIcon:n,computeActionData:this.computeActionData})}}g.contextTypes={intl:o.i.isRequired,executeAction:s.a.func,mailBrandNameString:s.a.string};const E=e=>{const{getSetting:t}=Object(u.b)(e);return{srCardVariant:t(_.id.MSG_READ_SHOPRUNNER_VARIANT)}},b=e=>({openLinkModal:()=>e({type:m.a.LINK_SR_MODAL_OPENED})});t.default=Object(c.b)(E,b)(g)},function(e,t,a){"use strict";a.r(t);var n=a(2),s=a.n(n),i=(a(6),a(4)),r=a(60),o=a(1028),l=a(0);const c="https://earny.app.link/LwKLW60vKQ",d="https://earny.app.link/Fskf944vKQ",m=Object(i.h)({body_connect:{id:"earny_cue.body_connect",defaultMessage:"You could <b>get refunds</b> on past purchases when <b>{brandName}</b> has a sale"},body_credit:{id:"earny_cue.body_credit",defaultMessage:"<b>Have a Citibank or Mastercard?</b> Your credit card price protection policy could get you 10x more refunds"},body_payment:{id:"earny_cue.body_payment",defaultMessage:"<b>You’re almost done!</b> Add a payment method to complete your account setup."},try_button_connect:{id:"earny_cue.try_button_connect",defaultMessage:"Claim Refunds"},try_button_credit:{id:"earny_cue.try_button_credit",defaultMessage:"Link card to Earny"},try_button_payment:{id:"earny_cue.try_button_payment",defaultMessage:"Go to Earny Account"}});t.default=class extends s.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{const{cardType:e}=this.props;let t;t=e===l.db.CREDIT?c:e===l.db.PAYMENT?d:l.bb,window.open(t,"_blank")}),t}render(){const{fromName:e,cardType:t,cardName:a}=this.props,n=babelHelpers.extends({},m[`body_${t}`],{values:{brandName:e}}),i=m[`try_button_${t}`],c=t===l.db.CREDIT||t===l.db.PAYMENT?Object(r.a)("/img/money_envelope_and_cc_illustration_2x.png"):Object(r.a)("/img/earny_refund.png");return t?s.a.createElement(o.b,{cardName:a,bodyText:n,tryButtonText:i,onTryButton:this.onTryButton,image:c}):null}}},function(e,t,a){"use strict";e.exports={className:{default:{container:"W_e5X",cardContainer:"b_Z14vXdP e_ZB2Q32 D_F",containerBorder:"H_eo6 I_Z2aVTcY",layoutContainer:"D_F",imageContainer:"P_6Eb4 em_0 D_F ab_C gl_C",image:"W_72FG H_72FG",messageContainer:"P_fq7 em_N D_F ab_C gl_FM",messageText:"D_F ek_BB gl_C"},msgReadEarnyCard:{container:"W_dTM s_3zCa0",cardContainer:"b_Z14vXdP e_ZB2Q32 p_R D_F q_52qC s_3zvbD Q_eo6 H_7I0l U_6DEy",containerBorder:"Q_eo6 H_eo6 I_Z2aVTcY",imageContainer:"W_73cc P_6EWk em_0 U_eDQ D_F ab_C gl_C e_Z272TOo",image:"W_73HH H_72FG",messageContainer:"U_6Eb4 P_Z1bevMH em_N D_F ab_C gl_FM",messageText:"D_F ek_BB gl_C H_74JI M_Z1neAqi",primaryButton:"s_3nN5y H_72FG Y_6TV4"},quotientLinkedCard:{container:"W_e5X D_F gl_FM ek_BB",ppContainer:"D_F gl_FM ek_BB em_N",cardContainer:"b_Z14vXdP e_dRA M_Z2qz5Ct D_F",ppCardContainer:"b_Z14vXdP e_dRA M_29TaXJ D_F",imageContainer:"P_6Fd5 em_0 U_eDQ D_F ab_C gl_C",image:"W_72FG H_72FG",messageContainer:"P_1IaimO em_N D_F ab_C gl_FM A_6EGz",header:"u_b",subTitle:"M_ni5xh C_Z1VRpVF A_6Eb4",overlayContainer:"W_0",overlay:"W_72FG H_72FG h_ZEcFM9 q_Z1WGv5u O_6uA1 e_e5X",primaryButton:"d_6UbO Y_0"}},_key:"ZAwR1X"}},function(e,t,a){"use strict";a.r(t),a.d(t,"QuotientLinkedCard",function(){return g}),a.d(t,"mapStateToProps",function(){return E}),a.d(t,"mapDispatchToProps",function(){return b});var n=a(6),s=a.n(n),i=a(2),r=a.n(i),o=a(13),l=a(4),c=a(1028),d=a(17),m=a(9),_=a(0),u=a(75),h=a(5);const p=Object(l.h)({separator_text:{id:"linked_card.separator_text",defaultMessage:"Loyalty number"},try_button_text:{id:"linked_card.try_button_text",defaultMessage:"View coupons"}});class g extends r.a.Component{constructor(...e){var t;return t=super(...e),this.onTryButton=(()=>{const e={mKey:h.e.QTNTVIEW_HEADER_ACTION,sec:h.g.QUOTIENT,actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:_.ib.IC,featurename:_.kb.QUOTIENT,actiontype:"viewcoupon",headertype:"linked",origin:"msgread"}}};this.context.navigateTo({route:Object(d.k)(this.props.retailerId),i13nModel:e})}),t}componentDidMount(){const{linkedCardShown:e}=this.props;e({i13nModel:{mKey:h.e.QTNT_HEADER_VIEW,sec:h.g.QUOTIENT,actionData:{mid:this.props.parentMessageId,sndr:this.props.senderDomain,reason:{featurefamily:_.ib.IC,featurename:_.kb.QUOTIENT,headertype:"linked"}}}})}render(){const{retailerName:e,brandImage:t,loyaltyId:a,usePreviewPaneStyles:n}=this.props;return r.a.createElement(c.a,{cardName:_.kb.QUOTIENT_LINKED_CARD,headerText:e,separatorText:p.separator_text,bodyText:a,tryButtonText:p.try_button_text,onTryButton:this.onTryButton,image:t,usePreviewPaneStyles:n,fallbackImage:_.Fc})}}g.contextTypes={intl:l.i.isRequired,navigateTo:s.a.func},g.defaultProps={usePreviewPaneStyles:!1};const E=(e,{retailerId:t=""})=>{const{getRetailersSelectors:a}=Object(m.b)(e),{getBrandImageFromRetailerId:n,getLoyaltyIdFromRetailerId:s,getDisplayNameFromRetailerId:i}=a();return{brandImage:n(t),loyaltyId:s(t),retailerName:i(t)}},b=e=>({linkedCardShown:t=>e(Object(u.g)(t))});t.default=Object(o.b)(E,b)(g)},function(e,t,a){"use strict";a.r(t),a.d(t,"MoreMenuItems",function(){return T}),a.d(t,"mapStateToProps",function(){return A}),a.d(t,"mapDispatchToProps",function(){return M});a(6);var n=a(2),s=a.n(n),i=a(13),r=a(11),o=a.n(r),l=a(4),c=a(9),d=a(62),m=a(86),_=a(0),u=a(5),h=a(14),p=a(32),g=a(1015),E=a(164),b=a(1018),C=a.n(b),f=a(15),v=a(3),I=a(79);const y=()=>{},S=o()(C.a),N=Object(l.h)({markAsRead:{id:"mark_as_read",defaultMessage:"Mark as read"},markAsUnread:{id:"mark_as_unread",defaultMessage:"Mark as unread"},markAsStarred:{id:"mark_as_starred",defaultMessage:"Star"},markAsUnstarred:{id:"mark_as_unstarred",defaultMessage:"Clear star"},blockSenders:{id:"block_messages_from_senders",defaultMessage:"Block senders"},viewRawMessage:{id:"view_raw_message_title",defaultMessage:"View raw message"},markedAsRead:{id:"marked_as_read",defaultMessage:"Message is already marked as read"},markedAsUnread:{id:"marked_as_unread",defaultMessage:"Message is already marked as unread"},markedAsStarred:{id:"marked_as_starred",defaultMessage:"Message is already marked as starred"},markedAsUnstarred:{id:"marked_as_unstarred",defaultMessage:"Message is already marked as not starred"},disableBlockSenders:{id:"disable_block_messages_from_senders",defaultMessage:"You may have reached the 1000 limit or the sender cannot be blocked"},disableViewRawMessage:{id:"disable_view_raw_message",defaultMessage:"raw message is not available"}});class T extends n.Component{constructor(e){super(e),this.handleViewRawMessage=this.handleViewRawMessage.bind(this),this.handleMarkAsRead=this.handleMarkAsRead.bind(this),this.handleMarkAsUnread=this.handleMarkAsUnread.bind(this),this.handleMarkAsStarred=this.handleMarkAsStarred.bind(this),this.handleMarkAsUnstarred=this.handleMarkAsUnstarred.bind(this),this.handleKeydown=this.handleKeydown.bind(this),this.renderBlockSenders=this.renderBlockSenders.bind(this),this.renderHint=this.renderHint.bind(this)}componentDidMount(){this.props.blockedSendersApiCallStatus!==_.Mc.LOADED&&this.props.fetchBlockedSenders()}handleViewRawMessage(e){e.preventDefault();const{viewRawMessage:t,selectedGroupIds:a}=this.props;t({messageGroupIds:a,i13nModel:{mKey:u.e.TOOLBAR_VIEW_RAW,interactionType:Object(h.i)(e),sec:u.g.MSG_LIST_BULK_ACTION}})}handleMarkAsRead(e){e.preventDefault();const t={mKey:u.e.TOOLBAR_MARK_READ,interactionType:Object(h.i)(e),mKeyGroup:u.f.mark_read,sec:u.g.MSG_LIST_BULK_ACTION};this.props.onRead({i13nModel:t})}handleMarkAsUnread(e){e.preventDefault();const t={mKey:u.e.TOOLBAR_MARK_UNREAD,interactionType:Object(h.i)(e),mKeyGroup:u.f.mark_unread,sec:u.g.MSG_LIST_BULK_ACTION};this.props.onUnread({i13nModel:t})}handleMarkAsStarred(e){e.preventDefault();const t={mKey:u.e.TOOLBAR_MARK_STARRED,interactionType:Object(h.i)(e),mKeyGroup:u.f.mark_star,sec:u.g.MSG_LIST_BULK_ACTION};this.props.onStar({i13nModel:t})}handleMarkAsUnstarred(e){e.preventDefault();const t={mKey:u.e.TOOLBAR_MARK_UNSTARRED,interactionType:Object(h.i)(e),mKeyGroup:u.f.mark_unstar,sec:u.g.MSG_LIST_BULK_ACTION};this.props.onUnstar({i13nModel:t})}handleKeydown(e,t){/^( |Enter)$/.test(t.key)&&(t.preventDefault(),t.stopPropagation(),e(t))}renderBlockSenders(){Object(E.a)(s.a.createElement(g.a,{messageGroupIds:this.props.selectedGroupIds,listId:this.props.listId}),this.context)}renderHint(e){const{formatMessage:t}=this.context.intl;return s.a.createElement("span",{className:S.hint,title:t(e)},s.a.createElement(f.b,{kind:v.b.CAL_MAYBE,size:v.d.XXS,colorState:v.a.INHERITED}))}render(){const{formatMessage:e}=this.context.intl,{enableMarkAsRead:t,enableMarkAsUnread:a,enableStar:n,enableUnstar:i,enableBlockSenders:r,enableViewRawMessage:c,blockSenders:_}=this.props;return s.a.createElement("div",{"data-test-id":"more-menu-list-container",className:S.popoverContent},s.a.createElement(d.a,{kind:m.a.MENU,focusOnMount:!0,"data-test-id":"more-menu",key:"more-menu",circularNavigation:!1},s.a.createElement(p.a,{name:"mark-as-read"},s.a.createElement("a",{"data-test-id":"mark-as-read",tabIndex:-1,onClick:t?this.handleMarkAsRead:y,onKeyDown:e=>this.handleKeydown(this.handleMarkAsRead,e),className:o()(C.a,{disabled:!t}).button},s.a.createElement("span",{className:S.label,title:e(N.markAsRead)},s.a.createElement(l.c,{id:"mark_msgs_as_read",defaultMessage:"Mark as read"}),t?null:this.renderHint(N.markedAsRead)),s.a.createElement("span",null,"Shift+K"))),s.a.createElement(p.a,{name:"mark-as-unread"},s.a.createElement("a",{"data-test-id":"mark-as-unread",tabIndex:-1,onClick:a?this.handleMarkAsUnread:y,onKeyDown:e=>this.handleKeydown(this.handleMarkAsUnread,e),className:o()(C.a,{disabled:!a}).button},s.a.createElement("span",{className:S.label,title:e(N.markAsUnread)},s.a.createElement(l.c,{id:"mark_msgs_as_unread",defaultMessage:"Mark as unread"}),a?null:this.renderHint(N.markedAsUnread)),s.a.createElement("span",null,"K"))),s.a.createElement(p.a,{name:"mark-as-starred"},s.a.createElement("a",{"data-test-id":"mark-as-starred",tabIndex:-1,onClick:n?this.handleMarkAsStarred:y,onKeyDown:e=>this.handleKeydown(this.handleMarkAsStarred,e),className:o()(C.a,{disabled:!n}).button},s.a.createElement("span",{className:S.label,title:e(N.markAsStarred)},s.a.createElement(l.c,{id:"mark_msgs_as_starred",defaultMessage:"Star"}),n?null:this.renderHint(N.markedAsStarred)),s.a.createElement("span",null,"L"))),s.a.createElement(p.a,{name:"mark-as-unstarred"},s.a.createElement("a",{"data-test-id":"mark-as-unstarred",tabIndex:-1,onClick:i?this.handleMarkAsUnstarred:y,onKeyDown:e=>this.handleKeydown(this.handleMarkAsUnstarred,e),className:o()(C.a,{disabled:!i}).button},s.a.createElement("span",{className:S.label,title:e(N.markedAsUnstarred)},s.a.createElement(l.c,{id:"mark_msgs_as_unstarred",defaultMessage:"Clear star"}),i?null:this.renderHint(N.markedAsUnstarred)),s.a.createElement("span",null,"Shift+L"))),_?s.a.createElement(p.a,{name:"block-senders"},s.a.createElement("a",{"data-test-id":"block-senders",tabIndex:-1,onClick:r?this.renderBlockSenders:y,onKeyDown:e=>this.handleKeydown(this.renderBlockSenders,e),className:o()(C.a,{disabled:!r}).button},s.a.createElement("span",{className:S.label,title:e(N.blockSenders)},s.a.createElement(l.c,{id:"block_senders",defaultMessage:"Block senders"}),r?null:this.renderHint(N.disableBlockSenders)))):null,s.a.createElement(p.a,{className:S.separator}),s.a.createElement(p.a,{name:"raw-message"},s.a.createElement("a",{"data-test-id":"raw-message",tabIndex:-1,onClick:c?this.handleViewRawMessage:y,onKeyDown:e=>this.handleKeydown(this.handleViewRawMessage,e),className:o()(C.a,{disabled:!c}).button},s.a.createElement("span",{className:S.label,title:e(N.viewRawMessage)},s.a.createElement(l.c,{id:"view_raw_message",defaultMessage:"View raw message"}),c?null:this.renderHint(N.disableViewRawMessage))))))}}T.contextTypes={intl:l.i.isRequired};const A=(e,t)=>{const{selectedItems:a,cursorItem:n}=t,{getFeaturesSelectors:s,getMessageFlags:i,getMessageIdsFromMessageGroupId:r,getSenderEmailIdsFromMessageGroup:o,getSettingsSelectors:l,isDraftMessage:d}=Object(c.b)(e),m=(a.length>0?a:[n]).map(({id:e})=>e),u=s(),h=o(m),p=u.isEnabled(_.kb.BLOCK_SENDERS),g=u.getSetting(_.id.DELIVERY_BLOCKED_SENDERS),E=1===m.length,b=E?r(m[0]):[],{getBlockedSendersApiCallStatus:C}=l(),f=C(),v=h.length>0&&g.length<_.jd.blockedSenders&&f===_.Mc.LOADED;return{blockSenders:p,blockedSendersApiCallStatus:f,selectedGroupIds:m,enableMarkAsRead:!E||b.some(e=>!i(e).read),enableMarkAsUnread:!E||b.some(e=>i(e).read),enableStar:!E||b.some(e=>!i(e).flagged),enableUnstar:!E||b.some(e=>i(e).flagged),enableBlockSenders:v,enableViewRawMessage:1===b.length&&!d(b[0])}},M=e=>({fetchBlockedSenders:t=>e(Object(I.j)(t))});t.default=Object(i.b)(A,M)(T)},function(e,t,a){"use strict";a.r(t);a(6);var n=a(2),s=a.n(n),i=a(4),r=a(60),o=a(1234),l=a.n(o),c=a(11),d=a.n(c),m=(a(38),a(956)),_=a(14),u=a(21),h=a(3);const p=Object(i.h)({close:{id:"cue.close",defaultMessage:"Close"}}),g=d()(l.a);class E extends s.a.Component{constructor(...e){var t;return t=super(...e),this.onClose=(e=>{this.props.onClose({i13nModel:{mKey:"cue_"+this.props.cueName+"_close",interactionType:Object(_.i)(e)}})}),t}render(){const{formatMessage:e}=this.context.intl;return s.a.createElement("div",{className:g.container,"data-test-id":this.props.cueName},s.a.createElement("div",{className:g.arrowContainer},s.a.createElement("div",{className:g.arrow})),s.a.createElement("div",{className:g.imageContainer},s.a.createElement("img",{src:this.props.image,className:g.image})),s.a.createElement("div",{className:g.messageContainer},s.a.createElement("div",{className:g.messageText},s.a.createElement("div",{className:g.header,"aria-label":e(this.props.headerText)},s.a.createElement(i.c,this.props.headerText)),s.a.createElement("div",{className:g.body,"aria-label":e(this.props.bodyText)},s.a.createElement(i.c,this.props.bodyText))),s.a.createElement("div",{className:g.closeContainer},s.a.createElement(u.a,{"data-test-id":"image-cue-close-icon",onClick:this.onClose,kind:h.b.CLOSE,size:h.d.XXS,title:e(p.close)}))))}}E.contextTypes={intl:i.i.isRequired};var b=Object(m.a)(E);const C=Object(i.h)({bodyText:{id:"coupon_clipper_cue.bodyText",defaultMessage:"Clipped deals are saved in the Deals view on the left"},headerText:{id:"coupon_clipper_cue.headerText",defaultMessage:"Never miss a deal"}}),f=Object(r.a)("/img/coupon_clipper_onboarding.png");t.default=class extends s.a.Component{render(){return s.a.createElement(b,{bodyText:C.bodyText,headerText:C.headerText,cueName:this.props.cueName,image:f})}}}])]);